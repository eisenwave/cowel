<!DOCTYPE html>
<html>
<head>
  <meta charset=UTF-8 /><meta name=viewport content="width=device-width, initial-scale=1"/><link rel=preconnent href=https://fonts.googleapis.com />
  <link rel=preconnent href=https://fonts.gstatic.com crossorigin/>
  <link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Fira+Code:wght@300..700&family=Noto+Sans:ital,wght@0,100..900;1,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&display=swap"/>
  <style>
html {
    --sans-serif-family: "Noto Sans", sans-serif;
    --serif-family: "Noto Serif", serif;
    --monospace-family: "Fira Code", monospace;

    --light-background-color: white;
    --light-deep-background-color: #fafafa;
    --light-text-color: black;
    --light-border-color: #aaa;
    --light-table-border-color: #777;
    --light-del-color: #be1621;
    --light-del-background-color: #fbe6e8;
    --light-ins-color: #17752d;
    --light-ins-background-color: #e4faea;
    --light-para-color: rgb(10, 73, 136);
    --light-a-color: rgb(10, 73, 136);
    --light-a-visited-color: rgb(44, 10, 136);
    --light-a-hover-color: rgb(15, 93, 170);
    --light-mark-color: black;
    --light-mark-background-color: #ffff85;
    --light-abstract-border-color: #707070;
    --light-abstract-background-color: #f0f0f0;
    --light-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --light-blockquote-border-color: #707070;
    --light-blockquote-background-color: #f0f0f0;
    --light-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --light-bug-block-border-color: #9f7b5d;
    --light-bug-block-background-color: #f0e2d9;
    --light-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%239f7b5d"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --light-decision-block-border-color: #ab6fa2;
    --light-decision-block-background-color: #f4e6f4;
    --light-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --light-del-block-border-color: #be1621;
    --light-del-block-background-color: #fbe6e8;
    --light-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be1621"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --light-details-border-color: #707070;
    --light-details-background-color: #f0f0f0;
    --light-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-diff-block-border-color: #707070;
    --light-diff-block-background-color: #f0f0f0;
    --light-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --light-example-block-border-color: #6f8aab;
    --light-example-block-background-color: #e6e9f4;
    --light-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f8aab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --light-important-block-border-color: #b05252;
    --light-important-block-background-color: #f4e6e6;
    --light-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6f6f"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --light-ins-block-border-color: #17752d;
    --light-ins-block-background-color: #e4faea;
    --light-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%2317752d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --light-note-block-border-color: #6fab6f;
    --light-note-block-background-color: #e6f4e9;
    --light-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab6f"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --light-tip-block-border-color: #b0a029;
    --light-tip-block-background-color: #f4f4e6;
    --light-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b0a029"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --light-todo-block-border-color: #6faba0;
    --light-todo-block-background-color: #e6f4f3;
    --light-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236faba0"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --light-warning-block-border-color: #af8141;
    --light-warning-block-background-color: #f4eee6;
    --light-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23af8141"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --light-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="black"><path d="M480-360q50 0 85-35t35-85q0-50-35-85t-85-35q-50 0-85 35t-35 85q0 50 35 85t85 35Zm0 80q-83 0-141.5-58.5T280-480q0-83 58.5-141.5T480-680q83 0 141.5 58.5T680-480q0 83-58.5 141.5T480-280ZM200-440H40v-80h160v80Zm720 0H760v-80h160v80ZM440-760v-160h80v160h-80Zm0 720v-160h80v160h-80ZM256-650l-101-97 57-59 96 100-52 56Zm492 496-97-101 53-55 101 97-57 59Zm-98-550 97-101 59 57-100 96-56-52ZM154-212l101-97 55 53-97 101-59-57Zm326-268Z"/></svg>');

    --dark-background-color: #202020;
    --dark-deep-background-color: #1a1a1a;
    --dark-text-color: #f0f0f0;
    --dark-border-color: #505050;
    --dark-table-border-color: #777;
    --dark-del-background-color: #67060c;
    --dark-del-color: #ffdcd7;
    --dark-ins-background-color: #033a16;
    --dark-ins-color: #aff5b4;
    --dark-para-color: #5bc0ff;
    --dark-a-color: #5bc0ff;
    --dark-a-visited-color: #c6a8ff;
    --dark-a-hover-color: #afd7ff;
    --dark-mark-color: #ededa8;
    --dark-mark-background-color: #525230;
    --dark-abstract-border-color: #999999;
    --dark-abstract-background-color: #2c2c2c;
    --dark-abstract-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23999999"><path d="M660-160h40v-160h-40v160Zm20-200q8 0 14-6t6-14q0-8-6-14t-14-6q-8 0-14 6t-6 14q0 8 6 14t14 6ZM200-800v640-640 200-200Zm80 400h147q11-23 25.5-43t32.5-37H280v80Zm0 160h123q-3-20-3-40t3-40H280v80ZM200-80q-33 0-56.5-23.5T120-160v-640q0-33 23.5-56.5T200-880h320l240 240v92q-19-6-39-9t-41-3v-40H480v-200H200v640h227q11 23 25.5 43T485-80H200Zm480-400q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480Z"/></svg>');
    --dark-blockquote-border-color: #707070;
    --dark-blockquote-background-color: #2c2c2c;
    --dark-blockquote-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="%23707070"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M7.17 17c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1H5c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94zm10 0c.51 0 .98-.29 1.2-.74l1.42-2.84c.14-.28.21-.58.21-.89V8c0-.55-.45-1-1-1h-4c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1h2l-1.03 2.06c-.45.89.2 1.94 1.2 1.94z"/></svg>');
    --dark-bug-block-border-color: #ab866f;
    --dark-bug-block-background-color: #373028;
    --dark-bug-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab866f"><path d="M480-120q-64 0-114.5-33T283-240l-95 54-40-69 103-60q-3-11-5-22.5t-4-22.5H120v-80h122q2-12 4-23.5t5-22.5l-103-60 40-69 94 55q8-14 18.5-27.5T322-612q-2-7-2-14v-14q0-24 7-46t19-41l-66-66 56-57 70 68q17-9 35.5-13.5T480-800q20 0 39 5t36 14l69-69 56 57-66 66q12 19 18.5 41t6.5 46v13.5q0 6.5-2 13.5 11 11 21.5 25t18.5 28l95-54 40 69-104 59q3 11 5.5 22.5T718-440h122v80H718q-2 12-4 23.5t-5 22.5l103 60-40 69-95-55q-32 54-82.5 87T480-120Zm-76-546q17-7 36.5-10.5T480-680q20 0 38.5 3t35.5 10q-8-23-28-38t-46-15q-26 0-47 15.5T404-666Zm76 466q73 0 116.5-61T640-400q0-70-40.5-135T480-600q-78 0-119 64.5T320-400q0 78 43.5 139T480-200Zm-40-80v-240h80v240h-80Z"/></svg>');
    --dark-details-border-color: #707070;
    --dark-details-background-color: #2c2c2c;
    --dark-details-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-decision-block-border-color: #ab6fa2;
    --dark-decision-block-background-color: #30232d;
    --dark-decision-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab6fa2"><path d="M160-120v-80h480v80H160Zm226-194L160-540l84-86 228 226-86 86Zm254-254L414-796l86-84 226 226-86 86Zm184 408L302-682l56-56 522 522-56 56Z"/></svg>');
    --dark-del-block-border-color: #be5e64;
    --dark-del-block-background-color: #302323;
    --dark-del-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23be5e64"><path d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"/></svg>');
    --dark-diff-block-border-color: #707070;
    --dark-diff-block-background-color: #2c2c2c;
    --dark-diff-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23707070"><path d="M500-520h80v-80h80v-80h-80v-80h-80v80h-80v80h80v80Zm-80 160h240v-80H420v80ZM320-200q-33 0-56.5-23.5T240-280v-560q0-33 23.5-56.5T320-920h280l240 240v400q0 33-23.5 56.5T760-200H320Zm0-80h440v-360L560-840H320v560ZM160-40q-33 0-56.5-23.5T80-120v-560h80v560h440v80H160Zm160-240v-560 560Z"/></svg>');
    --dark-example-block-border-color: #6f81ab;
    --dark-example-block-background-color: #232630;
    --dark-example-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236f81ab"><path d="M300-80q-58 0-99-41t-41-99v-520q0-58 41-99t99-41h500v600q-25 0-42.5 17.5T740-220q0 25 17.5 42.5T800-160v80H300Zm-60-267q14-7 29-10t31-3h20v-440h-20q-25 0-42.5 17.5T240-740v393Zm160-13h320v-440H400v440Zm-160 13v-453 453Zm60 187h373q-6-14-9.5-28.5T660-220q0-16 3-31t10-29H300q-26 0-43 17.5T240-220q0 26 17 43t43 17Z"/></svg>');
    --dark-important-block-border-color: #b06262;
    --dark-important-block-background-color: #302323;
    --dark-important-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23b06262"><path d="M480-120q-33 0-56.5-23.5T400-200q0-33 23.5-56.5T480-280q33 0 56.5 23.5T560-200q0 33-23.5 56.5T480-120Zm-80-240v-480h160v480H400Z"/></svg>');
    --dark-ins-block-border-color: #5bab6d;
    --dark-ins-block-background-color: #233023;
    --dark-ins-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%235bab6d"><path d="M440-240h80v-120h120v-80H520v-120h-80v120H320v80h120v120ZM240-80q-33 0-56.5-23.5T160-160v-640q0-33 23.5-56.5T240-880h320l240 240v480q0 33-23.5 56.5T720-80H240Zm280-520v-200H240v640h480v-440H520ZM240-800v200-200 640-640Z"/></svg>');
    --dark-note-block-border-color: #6fab76;
    --dark-note-block-background-color: #233025;
    --dark-note-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab76"><path d="M440-280h80v-240h-80v240Zm40-320q17 0 28.5-11.5T520-640q0-17-11.5-28.5T480-680q-17 0-28.5 11.5T440-640q0 17 11.5 28.5T480-600Zm0 520q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"/></svg>');
    --dark-tip-block-border-color: #a2ab6f;
    --dark-tip-block-background-color: #2f3023;
    --dark-tip-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23a2ab6f"><path d="M480-80q-33 0-56.5-23.5T400-160h160q0 33-23.5 56.5T480-80ZM320-200v-80h320v80H320Zm10-120q-69-41-109.5-110T180-580q0-125 87.5-212.5T480-880q125 0 212.5 87.5T780-580q0 81-40.5 150T630-320H330Zm24-80h252q45-32 69.5-79T700-580q0-92-64-156t-156-64q-92 0-156 64t-64 156q0 54 24.5 101t69.5 79Zm126 0Z"/></svg>');
    --dark-todo-block-border-color: #6fab98;
    --dark-todo-block-background-color: #23302e;
    --dark-todo-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%236fab98"><path d="M680-80q-83 0-141.5-58.5T480-280q0-83 58.5-141.5T680-480q83 0 141.5 58.5T880-280q0 83-58.5 141.5T680-80Zm67-105 28-28-75-75v-112h-40v128l87 87Zm-547 65q-33 0-56.5-23.5T120-200v-560q0-33 23.5-56.5T200-840h167q11-35 43-57.5t70-22.5q40 0 71.5 22.5T594-840h166q33 0 56.5 23.5T840-760v250q-18-13-38-22t-42-16v-212h-80v120H280v-120h-80v560h212q7 22 16 42t22 38H200Zm280-640q17 0 28.5-11.5T520-800q0-17-11.5-28.5T480-840q-17 0-28.5 11.5T440-800q0 17 11.5 28.5T480-760Z"/></svg>');
    --dark-warning-block-border-color: #ab9c6f;
    --dark-warning-block-background-color: #302b23;
    --dark-warning-block-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23ab9c6f"><path d="M109-120q-11 0-20-5.5T75-140q-5-9-5.5-19.5T75-180l370-640q6-10 15.5-15t19.5-5q10 0 19.5 5t15.5 15l370 640q6 10 5.5 20.5T885-140q-5 9-14 14.5t-20 5.5H109Zm69-80h604L480-720 178-200Zm302-40q17 0 28.5-11.5T520-280q0-17-11.5-28.5T480-320q-17 0-28.5 11.5T440-280q0 17 11.5 28.5T480-240Zm0-120q17 0 28.5-11.5T520-400v-120q0-17-11.5-28.5T480-560q-17 0-28.5 11.5T440-520v120q0 17 11.5 28.5T480-360Zm0-100Z"/></svg>');
    --dark-theme-icon: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="%23f0f0f0"><path d="M480-120q-150 0-255-105T120-480q0-150 105-255t255-105q14 0 27.5 1t26.5 3q-41 29-65.5 75.5T444-660q0 90 63 153t153 63q55 0 101-24.5t75-65.5q2 13 3 26.5t1 27.5q0 150-105 255T480-120Zm0-80q88 0 158-48.5T740-375q-20 5-40 8t-40 3q-123 0-209.5-86.5T364-660q0-20 3-40t8-40q-78 32-126.5 102T200-480q0 116 82 198t198 82Zm-10-270Z"/></svg>');

    --indent: 2.5em;
    --border-radius: 0.25em;
}

/* BEGIN LIGHT AND DARK THEME */

@media (prefers-color-scheme: light) {
    html {
        --background-color: var(--light-background-color);
        --deep-background-color: var(--light-deep-background-color);
        --text-color: var(--light-text-color);
        --border-color: var(--light-border-color);
        --table-border-color: var(--light-table-border-color);
        --del-color: var(--light-del-color);
        --del-background-color: var(--light-del-background-color);
        --ins-color: var(--light-ins-color);
        --ins-background-color: var(--light-ins-background-color);
        --para-color: var(--light-para-color);
        --a-color: var(--light-a-color);
        --a-visited-color: var(--light-a-visited-color);
        --a-hover-color: var(--light-a-hover-color);
        --mark-color: var(--light-mark-color);
        --mark-background-color: var(--light-mark-background-color);
        --abstract-border-color: var(--light-abstract-border-color);
        --abstract-background-color: var(--light-abstract-background-color);
        --abstract-image: var(--light-abstract-image);
        --blockquote-border-color: var(--light-blockquote-border-color);
        --blockquote-background-color: var(--light-blockquote-background-color);
        --blockquote-image: var(--light-blockquote-image);
        --bug-block-border-color: var(--light-bug-block-border-color);
        --bug-block-background-color: var(--light-bug-block-background-color);
        --bug-block-image: var(--light-bug-block-image);
        --decision-block-border-color: var(--light-decision-block-border-color);
        --decision-block-background-color: var(--light-decision-block-background-color);
        --decision-block-image: var(--light-decision-block-image);
        --del-block-border-color: var(--light-del-block-border-color);
        --del-block-background-color: var(--light-del-block-background-color);
        --del-block-image: var(--light-del-block-image);
        --details-border-color: var(--light-details-border-color);
        --details-background-color: var(--light-details-background-color);
        --details-image: var(--light-details-image);
        --diff-block-border-color: var(--light-diff-block-border-color);
        --diff-block-background-color: var(--light-diff-block-background-color);
        --diff-block-image: var(--light-diff-block-image);
        --example-block-border-color: var(--light-example-block-border-color);
        --example-block-background-color: var(--light-example-block-background-color);
        --example-block-image: var(--light-example-block-image);
        --important-block-border-color: var(--light-important-block-border-color);
        --important-block-background-color: var(--light-important-block-background-color);
        --important-block-image: var(--light-important-block-image);
        --ins-block-border-color: var(--light-ins-block-border-color);
        --ins-block-background-color: var(--light-ins-block-background-color);
        --ins-block-image: var(--light-ins-block-image);
        --note-block-border-color: var(--light-note-block-border-color);
        --note-block-background-color: var(--light-note-block-background-color);
        --note-block-image: var(--light-note-block-image);
        --tip-block-border-color: var(--light-tip-block-border-color);
        --tip-block-background-color: var(--light-tip-block-background-color);
        --tip-block-image: var(--light-tip-block-image);
        --todo-block-border-color: var(--light-todo-block-border-color);
        --todo-block-background-color: var(--light-todo-block-background-color);
        --todo-block-image: var(--light-todo-block-image);
        --warning-block-border-color: var(--light-warning-block-border-color);
        --warning-block-background-color: var(--light-warning-block-background-color);
        --warning-block-image: var(--light-warning-block-image);
        --theme-icon: var(--light-theme-icon);
    }
}

@media (prefers-color-scheme: dark) {
    html {
        --background-color: var(--dark-background-color);
        --deep-background-color: var(--dark-deep-background-color);
        --text-color: var(--dark-text-color);
        --border-color: var(--dark-border-color);
        --table-border-color: var(--dark-table-border-color);
        --del-color: var(--dark-del-color);
        --del-background-color: var(--dark-del-background-color);
        --ins-color: var(--dark-ins-color);
        --ins-background-color: var(--dark-ins-background-color);
        --para-color: var(--dark-para-color);
        --a-color: var(--dark-a-color);
        --a-visited-color: var(--dark-a-visited-color);
        --a-hover-color: var(--dark-a-hover-color);
        --mark-color: var(--dark-mark-color);
        --mark-background-color: var(--dark-mark-background-color);
        --abstract-border-color: var(--dark-abstract-border-color);
        --abstract-background-color: var(--dark-abstract-background-color);
        --abstract-image: var(--dark-abstract-image);
        --blockquote-border-color: var(--dark-blockquote-border-color);
        --blockquote-background-color: var(--dark-blockquote-background-color);
        --blockquote-image: var(--dark-blockquote-image);
        --bug-block-border-color: var(--dark-bug-block-border-color);
        --bug-block-background-color: var(--dark-bug-block-background-color);
        --bug-block-image: var(--dark-bug-block-image);
        --decision-block-border-color: var(--dark-decision-block-border-color);
        --decision-block-background-color: var(--dark-decision-block-background-color);
        --decision-block-image: var(--dark-decision-block-image);
        --del-block-border-color: var(--dark-del-block-border-color);
        --del-block-background-color: var(--dark-del-block-background-color);
        --del-block-image: var(--dark-del-block-image);
        --details-border-color: var(--dark-details-border-color);
        --details-background-color: var(--dark-details-background-color);
        --details-image: var(--dark-details-image);
        --diff-block-border-color: var(--dark-diff-block-border-color);
        --diff-block-background-color: var(--dark-diff-block-background-color);
        --diff-block-image: var(--dark-diff-block-image);
        --example-block-border-color: var(--dark-example-block-border-color);
        --example-block-background-color: var(--dark-example-block-background-color);
        --example-block-image: var(--dark-example-block-image);
        --important-block-border-color: var(--dark-important-block-border-color);
        --important-block-background-color: var(--dark-important-block-background-color);
        --important-block-image: var(--dark-important-block-image);
        --ins-block-border-color: var(--dark-ins-block-border-color);
        --ins-block-background-color: var(--dark-ins-block-background-color);
        --ins-block-image: var(--dark-ins-block-image);
        --note-block-border-color: var(--dark-note-block-border-color);
        --note-block-background-color: var(--dark-note-block-background-color);
        --note-block-image: var(--dark-note-block-image);
        --tip-block-border-color: var(--dark-tip-block-border-color);
        --tip-block-background-color: var(--dark-tip-block-background-color);
        --tip-block-image: var(--dark-tip-block-image);
        --todo-block-border-color: var(--dark-todo-block-border-color);
        --todo-block-background-color: var(--dark-todo-block-background-color);
        --todo-block-image: var(--dark-todo-block-image);
        --warning-block-border-color: var(--dark-warning-block-border-color);
        --warning-block-background-color: var(--dark-warning-block-background-color);
        --warning-block-image: var(--dark-warning-block-image);
        --theme-icon: var(--dark-theme-icon);
    }
}

html.light {
    --background-color: var(--light-background-color);
    --deep-background-color: var(--light-deep-background-color);
    --text-color: var(--light-text-color);
    --border-color: var(--light-border-color);
    --table-border-color: var(--light-table-border-color);
    --del-color: var(--light-del-color);
    --del-background-color: var(--light-del-background-color);
    --ins-color: var(--light-ins-color);
    --ins-background-color: var(--light-ins-background-color);
    --para-color: var(--light-para-color);
    --a-color: var(--light-a-color);
    --a-visited-color: var(--light-a-visited-color);
    --a-hover-color: var(--light-a-hover-color);
    --mark-color: var(--light-mark-color);
    --mark-background-color: var(--light-mark-background-color);
    --abstract-border-color: var(--light-abstract-border-color);
    --abstract-background-color: var(--light-abstract-background-color);
    --abstract-image: var(--light-abstract-image);
    --blockquote-border-color: var(--light-blockquote-border-color);
    --blockquote-background-color: var(--light-blockquote-background-color);
    --blockquote-image: var(--light-blockquote-image);
    --bug-block-border-color: var(--light-bug-block-border-color);
    --bug-block-background-color: var(--light-bug-block-background-color);
    --bug-block-image: var(--light-bug-block-image);
    --decision-block-border-color: var(--light-decision-block-border-color);
    --decision-block-background-color: var(--light-decision-block-background-color);
    --decision-block-image: var(--light-decision-block-image);
    --del-block-border-color: var(--light-del-block-border-color);
    --del-block-background-color: var(--light-del-block-background-color);
    --del-block-image: var(--light-del-block-image);
    --details-border-color: var(--light-details-border-color);
    --details-background-color: var(--light-details-background-color);
    --details-image: var(--light-details-image);
    --diff-block-border-color: var(--light-diff-block-border-color);
    --diff-block-background-color: var(--light-diff-block-background-color);
    --diff-block-image: var(--light-diff-block-image);
    --example-block-border-color: var(--light-example-block-border-color);
    --example-block-background-color: var(--light-example-block-background-color);
    --example-block-image: var(--light-example-block-image);
    --important-block-border-color: var(--light-important-block-border-color);
    --important-block-background-color: var(--light-important-block-background-color);
    --important-block-image: var(--light-important-block-image);
    --ins-block-border-color: var(--light-ins-block-border-color);
    --ins-block-background-color: var(--light-ins-block-background-color);
    --ins-block-image: var(--light-ins-block-image);
    --note-block-border-color: var(--light-note-block-border-color);
    --note-block-background-color: var(--light-note-block-background-color);
    --note-block-image: var(--light-note-block-image);
    --tip-block-border-color: var(--light-tip-block-border-color);
    --tip-block-background-color: var(--light-tip-block-background-color);
    --tip-block-image: var(--light-tip-block-image);
    --todo-block-border-color: var(--light-todo-block-border-color);
    --todo-block-background-color: var(--light-todo-block-background-color);
    --todo-block-image: var(--light-todo-block-image);
    --warning-block-border-color: var(--light-warning-block-border-color);
    --warning-block-background-color: var(--light-warning-block-background-color);
    --warning-block-image: var(--light-warning-block-image);
    --theme-icon: var(--light-theme-icon);
}

html.dark {
    --background-color: var(--dark-background-color);
    --deep-background-color: var(--dark-deep-background-color);
    --text-color: var(--dark-text-color);
    --border-color: var(--dark-border-color);
    --table-border-color: var(--dark-table-border-color);
    --del-color: var(--dark-del-color);
    --del-background-color: var(--dark-del-background-color);
    --ins-color: var(--dark-ins-color);
    --ins-background-color: var(--dark-ins-background-color);
    --para-color: var(--dark-para-color);
    --a-color: var(--dark-a-color);
    --a-visited-color: var(--dark-a-visited-color);
    --a-hover-color: var(--dark-a-hover-color);
    --mark-color: var(--dark-mark-color);
    --mark-background-color: var(--dark-mark-background-color);
    --abstract-border-color: var(--dark-abstract-border-color);
    --abstract-background-color: var(--dark-abstract-background-color);
    --abstract-image: var(--dark-abstract-image);
    --blockquote-border-color: var(--dark-blockquote-border-color);
    --blockquote-background-color: var(--dark-blockquote-background-color);
    --blockquote-image: var(--dark-blockquote-image);
    --bug-block-border-color: var(--dark-bug-block-border-color);
    --bug-block-background-color: var(--dark-bug-block-background-color);
    --bug-block-image: var(--dark-bug-block-image);
    --decision-block-border-color: var(--dark-decision-block-border-color);
    --decision-block-background-color: var(--dark-decision-block-background-color);
    --decision-block-image: var(--dark-decision-block-image);
    --del-block-border-color: var(--dark-del-block-border-color);
    --del-block-background-color: var(--dark-del-block-background-color);
    --del-block-image: var(--dark-del-block-image);
    --details-border-color: var(--dark-details-border-color);
    --details-background-color: var(--dark-details-background-color);
    --details-image: var(--dark-details-image);
    --diff-block-border-color: var(--dark-diff-block-border-color);
    --diff-block-background-color: var(--dark-diff-block-background-color);
    --diff-block-image: var(--dark-diff-block-image);
    --example-block-border-color: var(--dark-example-block-border-color);
    --example-block-background-color: var(--dark-example-block-background-color);
    --example-block-image: var(--dark-example-block-image);
    --important-block-border-color: var(--dark-important-block-border-color);
    --important-block-background-color: var(--dark-important-block-background-color);
    --important-block-image: var(--dark-important-block-image);
    --ins-block-border-color: var(--dark-ins-block-border-color);
    --ins-block-background-color: var(--dark-ins-block-background-color);
    --ins-block-image: var(--dark-ins-block-image);
    --note-block-border-color: var(--dark-note-block-border-color);
    --note-block-background-color: var(--dark-note-block-background-color);
    --note-block-image: var(--dark-note-block-image);
    --tip-block-border-color: var(--dark-tip-block-border-color);
    --tip-block-background-color: var(--dark-tip-block-background-color);
    --tip-block-image: var(--dark-tip-block-image);
    --todo-block-border-color: var(--dark-todo-block-border-color);
    --todo-block-background-color: var(--dark-todo-block-background-color);
    --todo-block-image: var(--dark-todo-block-image);
    --warning-block-border-color: var(--dark-warning-block-border-color);
    --warning-block-background-color: var(--dark-warning-block-background-color);
    --warning-block-image: var(--dark-warning-block-image);
    --theme-icon: var(--dark-theme-icon);
}

/* END LIGHT AND DARK THEME */

html {
    margin: 0;
    width: 100%;
    font-family: var(--serif-family);
    font-size: 11pt;

    border-left: var(--border-thickness) solid var(--border-color);
    color: var(--text-color);
    background-color: var(--background-color);
}

body {
    --vertical-margin: 2rem;
    --margin-left: 3rem;
    --margin-right: 2rem;

    margin: var(--vertical-margin) var(--margin-right) var(--vertical-margin) var(--margin-left);
    width: calc(100% - var(--margin-left) - var(--margin-right));
    box-sizing: border-box;
}

main {
    max-width: 60rem;
    margin-left: auto;
    margin-right: auto;
}

p {
    text-align: justify;
}

abstract-block,
blockquote,
bug-block,
code-block,
decision-block,
del-block,
details,
dl,
diff-block,
example-block,
hr,
ol,
important-block,
ins-block,
math[display=block],
note-block,
p,
pre,
tip-block,
todo-block,
ul,
warning-block,
.indent {
    display: block;
    margin-top: 1em;
    margin-bottom: 1em;
}

a {
    color: var(--a-color);
    text-decoration: unset;
}

a:visited {
    color: var(--a-visited-color);
}

a:hover,
a:focus {
    color: var(--a-hover-color);
}

a:hover {
    text-decoration: underline;
}

ol,
ul {
    padding-left: var(--indent);
}

li {
    margin: 0.5em 0;
}

dt {
    margin-top: 0.25em;
    font-style: italic;
    font-weight: bold;
}

dd {
    margin-bottom: 0.25em;
    margin-left: var(--indent);
}

abstract-block,
blockquote,
bug-block,
del-block,
details,
decision-block,
diff-block,
example-block,
important-block,
ins-block,
note-block,
tip-block,
todo-block,
warning-block {
    --border-thickness: 0.25em;
    --padding: 0.5em;

    position: relative;
    width: calc(100% - var(--indent));
    box-sizing: border-box;
    padding: var(--padding);
    margin-left: var(--indent);

    border-top-right-radius: var(--border-radius);
    border-bottom-right-radius: var(--border-radius);
}

abstract-block>:first-child,
blockquote>:first-child,
bug-block>:first-child,
del-block>:first-child,
details>:first-child,
decision-block>:first-child,
diff-block>:first-child,
example-block>:first-child,
important-block>:first-child,
ins-block>:first-child,
note-block>:first-child,
tip-block>:first-child,
todo-block>:first-child,
warning-block>:first-child {
    margin-top: 0;
}

abstract-block>:last-child,
blockquote>:last-child,
bug-block>:last-child,
del-block>:last-child,
details>:last-child,
decision-block>:last-child,
diff-block>:last-child,
example-block>:last-child,
important-block>:last-child,
ins-block>:last-child,
note-block>:last-child,
todo-block>:last-child,
tip-block>:last-child,
warning-block>:last-child {
    margin-bottom: 0;
}

abstract-block::before,
blockquote::before,
bug-block::before,
del-block::before,
details::before,
decision-block::before,
diff-block::before,
example-block::before,
important-block::before,
ins-block::before,
note-block::before,
todo-block::before,
tip-block::before,
warning-block::before {
    position: absolute;
    left: -2.5em;
    top: 0.25em;
    width: 2em;
    height: 2em;

    content: "";
    display: inline-block;
    background-size: contain;
    background-repeat: no-repeat;

}

code,
code-block,
pre,
samp,
tt,
tt-,
.mono {
    font-family: var(--monospace-family);
    font-style: normal;
    font-variant-ligatures: none;
}

code-block:not(.borderless),
pre {
    padding: 0.5em;
    border-radius: var(--border-radius);
    box-sizing: border-box;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
}

code-block,
pre {
    font-size: 95%;
    width: 100%;
}

code-block,
pre {
    white-space: pre;
    overflow-x: auto;
}

/* INSERTIONS AND DELETIONS */

ins,
ins-lines {
    text-decoration: underline;
    font-weight: 600;
    color: var(--ins-color);
    background-color: var(--ins-background-color);
}

code-block ins,
code-block ins-lines {
    text-decoration: inherit;
}

del {
    text-decoration: line-through;
}

del,
del-lines {
    color: var(--del-color);
    background-color: var(--del-background-color);
}

ins-lines,
del-lines {
    display: inline-block;
    width: 100%;
}

ins h-,
ins-lines h-,
del h-,
del-lines h- {
    color: inherit !important;
    background-color: inherit !important;
}

kbd {
    font-family: var(--sans-serif-family);

    display: inline-block;
    padding: 0 0.25em 0.15em 0.25em;
    border-radius: 0.25em;
    white-space: nowrap;

    background-color: var(--deep-background-color);
    border: 1px solid var(--border-color);
    box-shadow: inset 0 -0.1em 0 var(--border-color);
}

mark {
    color: var(--mark-color);
    background-color: var(--mark-background-color);
}

math:not([display=block]) {
    font-size: 120%;
}

math[display=block] {
    width: fit-content;
    margin-left: var(--indent);

    font-size: 110%;
}

g-term,
f-sans,
f-serif,
wg21-block {
    display: inline;
}

f-sans,
.sans {
    font-family: var(--sans-serif-family);
}

f-serif,
.serif {
    font-family: var(--serif-family);
}

.grammar dd,
g-term {
    font-family: var(--sans-serif-family);
    font-style: oblique;
}

.grammar {
    margin-left: var(--indent);
}

.grammar dt {
    font-weight: normal;
    font-style: normal;
}

.oblique {
    font-style: oblique;
}

.word {
    white-space: nowrap;
}

.wg21-head {
    margin-bottom: 4em;
}

.wg21-head dl {
    font-family: var(--sans-serif-family);
}

.wg21-head dt {
    font-style: normal;
}

/* HEADINGS */

h1,
h2,
h3,
h4,
h5,
h6 {
    position: relative;
    margin: 1rem 0;
}

h1 {
    margin: 2rem 0 1.5rem 0;
    font-size: 250%;
}

h2 {
    margin: 2.5rem 0 1.5rem 0;
    font-size: 166%;
}

h3 {
    margin: 2rem 0 1rem 0;
    font-size: 133%;
}

h4 {
    margin: 1.5rem 0 0.5rem 0;
    font-size: 100%;
}

h5 {
    margin: 1rem 0 0.5rem 0;
    font-size: 100%;
    font-weight: normal;
}

h6 {
    margin: 1rem 0 0.5rem 0;
    font-size: 90%;
    font-weight: normal;
}

table {
    --border: 1px solid var(--table-border-color);

    margin-top: 1em;
    margin-bottom: 1em;
    border-collapse: collapse;
}

table,
tbody,
thead,
th {
    border: var(--border);
}

td {
    border-left: var(--border);
    border-right: var(--border);
}

td,
th {
    padding: 0.1em 0.5em;
}

.para {
    cursor: pointer;
    font-weight: normal;
    font-family: var(--monospace-family);
    text-decoration: none;
    opacity: 0.25;

    position: absolute;
    top: 0.05em;
    left: calc(-1rem - 0.5ch);
}

.para,
.para::before {
    color: var(--para-color);
}

.para:hover,
.para:focus,
:target .para {
    opacity: 1;
}

.para::before {
    content: "§";
}

/* TABLE OF CONTENTS */

.toc {
    --h-indent: 0.75em;

    display: grid;
    grid-template-columns: min-content auto;
}

.toc-num {
    display: inline-block;
    align-self: end;
    padding-right: 3em;

    letter-spacing: 0em;
}

.toc h1,
.toc h2,
.toc h3,
.toc h4,
.toc h5,
.toc h6 {
    display: inline-block;

    font-weight: 500;
    font-size: 12pt;

    margin-top: 0;
    margin-bottom: 0;
}

.toc a,
.toc-num {
    border-bottom: 1px solid rgba(0, 0, 0, 0);
    color: var(--text-color);
}

.toc h1,
.toc-num[data-level="1"] {
    font-size: 125%;
    font-weight: 900;
}

.toc h2,
.toc-num[data-level="2"] {
    font-weight: 700;
}

.toc h3,
.toc-num[data-level="3"] {
    font-weight: 500;
}

.toc h4,
.toc-num[data-level="4"] {
    font-size: 95%;
    font-weight: 400;
}

.toc h5,
.toc-num[data-level="5"] {
    font-size: 90%;
    font-weight: 300;
}

.toc h6,
.toc-num[data-level="6"] {
    font-size: 90%;
    font-weight: 100;
}

.toc a:hover {
    display: inline-block;
    width: 100%;

    color: var(--a-hover-color);
    border-bottom: 1px dashed var(--a-hover-color);
}

.toc h1:not(:nth-child(2)>h1) {
    margin-top: 1.5em;
}

.toc h2:not(:nth-child(2)>h2) {
    margin-top: 0.75em;
}

/** BIBLIOGRAPHY */

.bib {
    display: block;
    margin: 1em 0;
}

.bib-item {
    display: inline-block;
    width: 100%;
    margin: 0.25em 0;
}

.bib-item>* {
    padding: 0 0.125em;
}

.bib-author {
    font-style: italic;
}

.bib-title {
    font-weight: 500;
}

.bib-date {
    font-family: var(--monospace-family);
}

.bib-date::before {
    font-family: var(--serif-family);
    content: "(";
}

.bib-date::after {
    font-family: var(--serif-family);
    content: ")";
}

.bib-link {
    display: block;
    margin-left: var(--indent);

    font-family: var(--sans-serif-family);
    font-style: normal;
}

/* SPECIAL BLOCKS */

intro- {
    display: inline-block;

    font-weight: 600;
    text-transform: uppercase;
    font-family: var(--sans-serif-family);
}

abstract-block {
    background-color: var(--abstract-background-color);
    border-left: var(--border-thickness) solid var(--abstract-border-color);
}

abstract-block::before {
    background-image: var(--abstract-image);
}

abstract-block intro-::before {
    content: "Abstract:";
    color: var(--abstract-border-color);
}

blockquote {
    background-color: var(--blockquote-background-color);
    border-left: var(--border-thickness) solid var(--blockquote-border-color);
}

blockquote::before {
    background-image: var(--blockquote-image);
    top: -0.25em;
}

blockquote intro-::before {
    content: "Quote:";
    color: var(--blockquote-border-color);
}

bug-block {
    background-color: var(--bug-block-background-color);
    border-left: var(--border-thickness) solid var(--bug-block-border-color);
}

bug-block::before {
    background-image: var(--bug-block-image);
}

bug-block intro-::before {
    content: "Bug:";
    color: var(--bug-block-border-color);
}

del-block {
    background-color: var(--del-block-background-color);
    border-left: var(--border-thickness) solid var(--del-block-border-color);
    color: var(--del-color);
}

del-block::before {
    background-image: var(--del-block-image);
}

del-block intro-::before {
    content: "Deleted:";
    color: var(--del-block-border-color);
}

del-block code,
del-block code-block {
    color: var(--text-color);
}

details {
    background-color: var(--details-background-color);
    border-left: var(--border-thickness) solid var(--details-border-color);
}

details::before {
    background-image: var(--details-image);
}

summary {
    font-family: var(--sans-serif-family);
    color: var(--details-border-color);
    user-select: none;
    cursor: pointer;
}

details[open]>summary {
    margin-bottom: 0.5em;
}

decision-block {
    background-color: var(--decision-block-background-color);
    border-left: var(--border-thickness) solid var(--decision-block-border-color);
}

decision-block::before {
    background-image: var(--decision-block-image);
}

decision-block intro-::before {
    content: "Decision:";
    color: var(--decision-block-border-color);
}

diff-block {
    background-color: var(--diff-block-background-color);
    border-left: var(--border-thickness) solid var(--diff-block-border-color);
}

diff-block::before {
    background-image: var(--diff-block-image);
}

diff-block intro-::before {
    content: "Difference:";
    color: var(--diff-block-border-color);
}

example-block {
    background-color: var(--example-block-background-color);
    border-left: var(--border-thickness) solid var(--example-block-border-color);
}

example-block::before {
    background-image: var(--example-block-image);
}

example-block intro-::before {
    content: "Example:";
    color: var(--example-block-border-color);
}

important-block {
    background-color: var(--important-block-background-color);
    border-left: var(--border-thickness) solid var(--important-block-border-color);
}

important-block::before {
    background-image: var(--important-block-image);
}

important-block intro-::before {
    content: "Important:";
    color: var(--important-block-border-color);
}

ins-block {
    background-color: var(--ins-block-background-color);
    border-left: var(--border-thickness) solid var(--ins-block-border-color);
    color: var(--ins-color);
}

ins-block code,
ins-block code-block {
    color: var(--text-color);
}

ins-block::before {
    background-image: var(--ins-block-image);
}

ins-block intro-::before {
    content: "Inserted:";
    color: var(--ins-block-border-color);
}

note-block {
    background-color: var(--note-block-background-color);
    border-left: var(--border-thickness) solid var(--note-block-border-color);
}

note-block::before {
    background-image: var(--note-block-image);
}

note-block intro-::before {
    content: "Note:";
    color: var(--note-block-border-color);
}

tip-block {
    background-color: var(--tip-block-background-color);
    border-left: var(--border-thickness) solid var(--tip-block-border-color);
}

tip-block::before {
    background-image: var(--tip-block-image);
}

tip-block intro-::before {
    content: "Tip:";
    color: var(--tip-block-border-color);
}

todo-block {
    background-color: var(--todo-block-background-color);
    border-left: var(--border-thickness) solid var(--todo-block-border-color);
}

todo-block::before {
    background-image: var(--todo-block-image);
}

todo-block intro-::before {
    content: "Todo:";
    color: var(--todo-block-border-color);
}

warning-block {
    background-color: var(--warning-block-background-color);
    border-left: var(--border-thickness) solid var(--warning-block-border-color);
}

warning-block::before {
    background-image: var(--warning-block-image);
}

warning-block intro-::before {
    content: "Warning:";
    color: var(--warning-block-border-color);
}

.indent {
    margin-left: var(--indent);
}

/* SETTINGS MENU */

#settings:not(.js) {
    display: none;
}

#settings {
    z-index: 999;
    position: fixed;
    display: inline-block;
    top: 1em;
    right: 1em;
}

#theme-icon {
    display: block;
    width: 2.5em;
    height: 2.5em;
    cursor: pointer;
    background-image: var(--theme-icon);
    background-size: contain;
    opacity: 0.25;
}

#theme-icon:hover,
#theme-icon:focus {
    opacity: 1;
}
  </style>
  <style>
@media (prefers-color-scheme: light) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:green; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#9f6807; }
h-[data-h^=num] { color:#9f6807; }
h-[data-h^=str] { color:#9f6807; }
h-[data-h^=esc] { color:#9f6807; }
h-[data-h^=null] { color:#00607c; }
h-[data-h^=bool] { color:#9f6807; }
h-[data-h^=this] { color:#00607c; }
h-[data-h^=mac] { color:#6f4e37; }
h-[data-h^=id] { color:#000000; }
h-[data-h^=id_labl] { color:#517a0b; }
h-[data-h^=kw] { color:#00607c; }
h-[data-h^=sym] { color:#570057; }
h-[data-h^=sym_punc] { color:#000000; }
h-[data-h^=sym_par] { color:#af1915; }
h-[data-h^=sym_sqr] { color:#af1915; }
h-[data-h^=sym_brac] { color:#af1915; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#5c477e; }
h-[data-h^=diff_eq] { color:#000000; }
h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
h-[data-h^=mk_tag] { color:#00607c; }
h-[data-h^=mk_attr] { color:#5c477e; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#00607c; }
h-[data-h^=sh-opt] { color:#000000; }
h-[data-h^=asm_ins] { color:#00607c; }
h-[data-h^=asm_ins_psu] { color:#9f6807; }
}
@media (prefers-color-scheme: dark) {
h-[data-h^=err] { color:#ff0000; }
h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
h-[data-h^=cmt_dlim] { font-style:normal; }
h-[data-h^=val] { color:#f2d18d; }
h-[data-h^=num] { color:#f2d18d; }
h-[data-h^=num_dlim] { color:#e6b191; }
h-[data-h^=num_deco] { color:#e6b191; }
h-[data-h^=str] { color:#f2d18d; }
h-[data-h^=str_dlim] { color:#e6b191; }
h-[data-h^=str_deco] { color:#e6b191; }
h-[data-h^=esc] { color:#e6aee6; }
h-[data-h^=null] { color:#62ded6; }
h-[data-h^=bool] { color:#f2d18d; }
h-[data-h^=this] { color:#62ded6; }
h-[data-h^=mac] { color:#cc946e; }
h-[data-h^=id] { color:#f0f0f0; }
h-[data-h^=id_labl] { color:#d8eda6; }
h-[data-h^=kw] { color:#62ded6; }
h-[data-h^=sym] { color:#baa6b9; }
h-[data-h^=sym_punc] { color:#d0d0d0; }
h-[data-h^=sym_par] { color:#fa7878; }
h-[data-h^=sym_sqr] { color:#fa7878; }
h-[data-h^=sym_brac] { color:#fa7878; }
h-[data-h^=diff_head] { color:#777777; }
h-[data-h^=diff_head_hunk] { color:#edc385; }
h-[data-h^=diff_eq] { color:#e7e7e7; }
h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
h-[data-h^=mk_tag] { color:#62ded6; }
h-[data-h^=mk_attr] { color:#a4c4de; }
h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
h-[data-h^=mk_emph] { font-style:italic; }
h-[data-h^=mk_stro] { font-weight:bold; }
h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
h-[data-h^=mk_ulin] { text-decoration:underline; }
h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
h-[data-h^=mk_strk] { text-decoration:line-through; }
h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
h-[data-h^=sh_cmd] { color:#62ded6; }
h-[data-h^=sh-opt] { color:#f0f0f0; }
h-[data-h^=asm_ins] { color:#62ded6; }
h-[data-h^=asm_ins_psu] { color:#e6aee6; }
}

html.light h-[data-h^=err] { color:#ff0000; }
html.light h-[data-h^=cmt] { color:green; font-style:italic; }
html.light h-[data-h^=cmt_dlim] { font-style:normal; }
html.light h-[data-h^=val] { color:#9f6807; }
html.light h-[data-h^=num] { color:#9f6807; }
html.light h-[data-h^=str] { color:#9f6807; }
html.light h-[data-h^=esc] { color:#9f6807; }
html.light h-[data-h^=null] { color:#00607c; }
html.light h-[data-h^=bool] { color:#9f6807; }
html.light h-[data-h^=this] { color:#00607c; }
html.light h-[data-h^=mac] { color:#6f4e37; }
html.light h-[data-h^=id] { color:#000000; }
html.light h-[data-h^=id_labl] { color:#517a0b; }
html.light h-[data-h^=kw] { color:#00607c; }
html.light h-[data-h^=sym] { color:#570057; }
html.light h-[data-h^=sym_punc] { color:#000000; }
html.light h-[data-h^=sym_par] { color:#af1915; }
html.light h-[data-h^=sym_sqr] { color:#af1915; }
html.light h-[data-h^=sym_brac] { color:#af1915; }
html.light h-[data-h^=diff_head] { color:#777777; }
html.light h-[data-h^=diff_head_hunk] { color:#5c477e; }
html.light h-[data-h^=diff_eq] { color:#000000; }
html.light h-[data-h^=diff_del] { color:#b31d28; background-color:#ffeef0; }
html.light h-[data-h^=diff_ins] { color:#22863a; background-color:#f0fff4; }
html.light h-[data-h^=diff_mod] { color:#7a680d; background-color:#fffdee; }
html.light h-[data-h^=mk_tag] { color:#00607c; }
html.light h-[data-h^=mk_attr] { color:#5c477e; }
html.light h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.light h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.light h-[data-h^=mk_emph] { font-style:italic; }
html.light h-[data-h^=mk_stro] { font-weight:bold; }
html.light h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.light h-[data-h^=mk_ulin] { text-decoration:underline; }
html.light h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.light h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.light h-[data-h^=mk_strk] { text-decoration:line-through; }
html.light h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.light h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.light h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.light h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.light h-[data-h^=sh_cmd] { color:#00607c; }
html.light h-[data-h^=sh-opt] { color:#000000; }
html.light h-[data-h^=asm_ins] { color:#00607c; }
html.light h-[data-h^=asm_ins_psu] { color:#9f6807; }

html.dark h-[data-h^=err] { color:#ff0000; }
html.dark h-[data-h^=cmt] { color:#a2e08d; font-style:italic; }
html.dark h-[data-h^=cmt_dlim] { font-style:normal; }
html.dark h-[data-h^=val] { color:#f2d18d; }
html.dark h-[data-h^=num] { color:#f2d18d; }
html.dark h-[data-h^=num_dlim] { color:#e6b191; }
html.dark h-[data-h^=num_deco] { color:#e6b191; }
html.dark h-[data-h^=str] { color:#f2d18d; }
html.dark h-[data-h^=str_dlim] { color:#e6b191; }
html.dark h-[data-h^=str_deco] { color:#e6b191; }
html.dark h-[data-h^=esc] { color:#e6aee6; }
html.dark h-[data-h^=null] { color:#62ded6; }
html.dark h-[data-h^=bool] { color:#f2d18d; }
html.dark h-[data-h^=this] { color:#62ded6; }
html.dark h-[data-h^=mac] { color:#cc946e; }
html.dark h-[data-h^=id] { color:#f0f0f0; }
html.dark h-[data-h^=id_labl] { color:#d8eda6; }
html.dark h-[data-h^=kw] { color:#62ded6; }
html.dark h-[data-h^=sym] { color:#baa6b9; }
html.dark h-[data-h^=sym_punc] { color:#d0d0d0; }
html.dark h-[data-h^=sym_par] { color:#fa7878; }
html.dark h-[data-h^=sym_sqr] { color:#fa7878; }
html.dark h-[data-h^=sym_brac] { color:#fa7878; }
html.dark h-[data-h^=diff_head] { color:#777777; }
html.dark h-[data-h^=diff_head_hunk] { color:#edc385; }
html.dark h-[data-h^=diff_eq] { color:#e7e7e7; }
html.dark h-[data-h^=diff_del] { color:#ffdcd7; background-color:#67060c; }
html.dark h-[data-h^=diff_ins] { color:#aff5b4; background-color:#033a16; }
html.dark h-[data-h^=diff_mod] { color:#fff4d7; background-color:#674d06; }
html.dark h-[data-h^=mk_tag] { color:#62ded6; }
html.dark h-[data-h^=mk_attr] { color:#a4c4de; }
html.dark h-[data-h^=mk_del] { color:#ce9178; text-decoration:line-through; }
html.dark h-[data-h^=mk_ins] { color:#b5cea8; text-decoration:underline; }
html.dark h-[data-h^=mk_emph] { font-style:italic; }
html.dark h-[data-h^=mk_stro] { font-weight:bold; }
html.dark h-[data-h^=mk_emph_stro] { font-style:italic; font-weight:bold; }
html.dark h-[data-h^=mk_ulin] { text-decoration:underline; }
html.dark h-[data-h^=mk_emph_ulin] { font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_stro_ulin] { font-weight:bold; text-decoration:underline; }
html.dark h-[data-h^=mk_emph_stro_ulin] { font-weight:bold; font-style:italic; text-decoration:underline; }
html.dark h-[data-h^=mk_strk] { text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_strk] { font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_stro_strk] { font-weight:bold; text-decoration:line-through; }
html.dark h-[data-h^=mk_emph_stro_strk] { font-weight:bold; font-style:italic; text-decoration:line-through; }
html.dark h-[data-h^=mk_ulin_strk] { text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_ulin_strk] { font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_stro_ulin_strk] { font-weight:bold; text-decoration:underline line-through; }
html.dark h-[data-h^=mk_emph_stro_ulin_strk] { font-weight:bold; font-style:italic; text-decoration:underline line-through; }
html.dark h-[data-h^=sh_cmd] { color:#62ded6; }
html.dark h-[data-h^=sh-opt] { color:#f0f0f0; }
html.dark h-[data-h^=asm_ins] { color:#62ded6; }
html.dark h-[data-h^=asm_ins_psu] { color:#e6aee6; }
  </style>
  <script>
const theme = localStorage.getItem("cowel-theme");
if (theme !== null) {
    document.documentElement.className = theme;
}
  </script>

<title>COWEL - Compact Web Language Documentation</title>
<meta property=og:title content="Compact Web Language (COWEL)"></meta>
<meta property=og:description content="COWEL is a markup language with TeX-like syntax, intended to generate HTML documents."></meta>
<meta property=og:locale content=en_US></meta>
<meta property=og:url content=https://cowel.org/></meta>
<meta property=og:type content=website></meta>
</head>
<body>
<div id=settings tabindex=0>
    <div id=theme-icon></div>
    <script>
        const settings = document.getElementById("settings");
        const htmlClasses = document.documentElement.classList;
        const themeIcon = document.getElementById("theme-icon");

        settings.classList.add("js");
        themeIcon.onclick = () => {
            const prefersDark = window.matchMedia("(prefers-color-scheme: dark)");
            const overrideClass = prefersDark.matches ? "light" : "dark";
            if (htmlClasses.contains("light")) {
                htmlClasses.remove("light");
                localStorage.removeItem("cowel-theme");
            } else if (htmlClasses.contains("dark")) {
                htmlClasses.remove("dark");
                localStorage.removeItem("cowel-theme");
            } else {
                htmlClasses.add(overrideClass);
                // to avoid legal issues or controversy in general,
                // we don't mess with local storage when the page is hosted in arbitrary places
                if (window.location.protocol === "file:") {
                    localStorage.setItem("cowel-theme", overrideClass);
                }
            }
        };
        settings.onkeydown = (e) => {
            if (e.key === "Enter" || e.key === " ") {
                event.preventDefault();
                themeIcon.onclick();
            }
        };
    </script>
</div>
<main>

<h1 id=compact-web-language><a class=para href=#compact-web-language></a>Compact Web Language (COWEL)</h1>

<div id=github>
<style>
h1 {
    margin-bottom: 0;
}

#github {
    font-size: 125%;
    margin-bottom: 3em;
}
</style>
<a href=https://github.com/eisenwave/cowel class=sans>github.com/eisenwave/cowel</a>
</div>

<h2 id=contents><a class=para href=#contents></a>Contents</h2>

<div class=toc><div class=toc-num data-level=2>1</div>
<a href=#introduction><h2>Introduction</h2></a>
<div class=toc-num data-level=2>2</div>
<a href=#motivation><h2>Motivation</h2></a>
<div class=toc-num data-level=2>3</div>
<a href=#getting-started><h2>Getting started</h2></a>
<div class=toc-num data-level=3>3.1</div>
<a href=#native-installation><h3>Native installation</h3></a>
<div class=toc-num data-level=2>4</div>
<a href=#syntax><h2>Syntax</h2></a>
<div class=toc-num data-level=3>4.1</div>
<a href=#text><h3>Text</h3></a>
<div class=toc-num data-level=3>4.2</div>
<a href=#syntax-comments><h3>Comments</h3></a>
<div class=toc-num data-level=3>4.3</div>
<a href=#escape-sequences><h3>Escape sequences</h3></a>
<div class=toc-num data-level=3>4.4</div>
<a href=#whitespace><h3>Whitespace</h3></a>
<div class=toc-num data-level=3>4.5</div>
<a href=#paragraph-splitting><h3>Paragraph splitting</h3></a>
<div class=toc-num data-level=3>4.6</div>
<a href=#directives><h3>Directives</h3></a>
<div class=toc-num data-level=4>4.6.1</div>
<a href=#directive-names><h4>Directive names</h4></a>
<div class=toc-num data-level=4>4.6.2</div>
<a href=#directive-arguments><h4>Directive arguments</h4></a>
<div class=toc-num data-level=5>4.6.2.1</div>
<a href=#named-arguments><h5>Named arguments</h5></a>
<div class=toc-num data-level=5>4.6.2.2</div>
<a href=#positional-arguments><h5>Positional arguments</h5></a>
<div class=toc-num data-level=4>4.6.3</div>
<a href=#directive-content><h4>Directive content</h4></a>
<div class=toc-num data-level=2>5</div>
<a href=#document-processing><h2>Document processing</h2></a>
<div class=toc-num data-level=3>5.1</div>
<a href=#contexts-and-output><h3>Content policies</h3></a>
<div class=toc-num data-level=3>5.2</div>
<a href=#directive-processing><h3>Directive processing</h3></a>
<div class=toc-num data-level=4>5.2.1</div>
<a href=#lazy-processing><h4>Lazy processing</h4></a>
<div class=toc-num data-level=2>6</div>
<a href=#themes><h2>Themes</h2></a>
<div class=toc-num data-level=2>7</div>
<a href=#new-directives><h2>New directives</h2></a>
<div class=toc-num data-level=3>7.1</div>
<a href=#common-principles><h3>Common principles</h3></a>
<div class=toc-num data-level=4>7.1.1</div>
<a href=#usual-argument-matching><h4>Usual argument matching</h4></a>
<div class=toc-num data-level=3>7.2</div>
<a href=#new-character-utilities><h3>Character utilities</h3></a>
<div class=toc-num data-level=4>7.2.1</div>
<a href=#dir-cowel_char_by_entity><h4><code><h- data-h=mk_tag>\cowel_char_by_entity</h-></code> — Character by HTML character reference</h4></a>
<div class=toc-num data-level=4>7.2.2</div>
<a href=#dir-cowel_char_by_name><h4><code><h- data-h=mk_tag>\cowel_char_by_name</h-></code> — Character by Unicode name</h4></a>
<div class=toc-num data-level=4>7.2.3</div>
<a href=#dir-cowel_char_by_num><h4><code><h- data-h=mk_tag>\cowel_char_by_num</h-></code> — Character by code point number</h4></a>
<div class=toc-num data-level=4>7.2.4</div>
<a href=#dir-cowel_char_get_num><h4><code><h- data-h=mk_tag>\cowel_char_get_num</h-></code> — Get digits of character</h4></a>
<div class=toc-num data-level=3>7.3</div>
<a href=#html-utilities><h3>HTML utilities</h3></a>
<div class=toc-num data-level=4>7.3.1</div>
<a href=#dir-cowel_html_element><h4><code><h- data-h=mk_tag>\cowel_html_element</h-></code> — HTML element</h4></a>
<div class=toc-num data-level=4>7.3.2</div>
<a href=#dir-cowel_html_self_closing_element><h4><code><h- data-h=mk_tag>\cowel_html_self_closing_element</h-></code> — Self-closing HTML element</h4></a>
<div class=toc-num data-level=3>7.4</div>
<a href=#new-content-policies><h3>Content policies</h3></a>
<div class=toc-num data-level=4>7.4.1</div>
<a href=#dir-cowel_to_html><h4><code><h- data-h=mk_tag>\cowel_to_html</h-></code> — Process with to-HTML policy</h4></a>
<div class=toc-num data-level=4>7.4.2</div>
<a href=#dir-cowel_no_invoke><h4><code><h- data-h=mk_tag>\cowel_no_invoke</h-></code> — Process with no-invoke policy</h4></a>
<div class=toc-num data-level=4>7.4.3</div>
<a href=#dir-cowel_text_only><h4><code><h- data-h=mk_tag>\cowel_text_only</h-></code> — Process with text-only policy</h4></a>
<div class=toc-num data-level=4>7.4.4</div>
<a href=#dir-cowel_text_as_html><h4><code><h- data-h=mk_tag>\cowel_text_as_html</h-></code> — Process with text-as-HTML policy</h4></a>
<div class=toc-num data-level=4>7.4.5</div>
<a href=#dir-cowel_source_as_text><h4><code><h- data-h=mk_tag>\cowel_source_as_text</h-></code> — Process with source-as-text policy</h4></a>
<div class=toc-num data-level=3>7.5</div>
<a href=#new-syntax-highlighting><h3>Syntax highlighting</h3></a>
<div class=toc-num data-level=4>7.5.1</div>
<a href=#dir-cowel_highlight><h4><code><h- data-h=mk_tag>\cowel_highlight</h-></code> — Perform syntax highlighting</h4></a>
<div class=toc-num data-level=4>7.5.2</div>
<a href=#dir-cowel_highlight_as><h4><code><h- data-h=mk_tag>\cowel_highlight_as</h-></code> — Syntax highlight override</h4></a>
<div class=toc-num data-level=4>7.5.3</div>
<a href=#dir-cowel_highlight_phantom><h4><code><h- data-h=mk_tag>\cowel_highlight_phantom</h-></code> — Syntax highlight phantom text</h4></a>
<div class=toc-num data-level=3>7.6</div>
<a href=#new-paragraph-control><h3>Paragraph control</h3></a>
<div class=toc-num data-level=4>7.6.1</div>
<a href=#dir-cowel_paragraphs><h4><code><h- data-h=mk_tag>\cowel_paragraphs</h-></code> — Perform paragraph splitting</h4></a>
<div class=toc-num data-level=4>7.6.2</div>
<a href=#dir-cowel_paragraph_enter><h4><code><h- data-h=mk_tag>\cowel_paragraph_enter</h-></code> — Enter a paragraph</h4></a>
<div class=toc-num data-level=4>7.6.3</div>
<a href=#dir-cowel_paragraph_leave><h4><code><h- data-h=mk_tag>\cowel_paragraph_leave</h-></code> — Leave a paragraph</h4></a>
<div class=toc-num data-level=4>7.6.4</div>
<a href=#dir-cowel_paragraph_inherit><h4><code><h- data-h=mk_tag>\cowel_paragraph_inherit</h-></code> — Activate paragraph splitting inside a directive</h4></a>
<div class=toc-num data-level=3>7.7</div>
<a href=#new-file-management><h3>File management</h3></a>
<div class=toc-num data-level=4>7.7.1</div>
<a href=#dir-cowel_include><h4><code><h- data-h=mk_tag>\cowel_include</h-></code> — Include a sub-document</h4></a>
<div class=toc-num data-level=4>7.7.2</div>
<a href=#dir-cowel_include_text><h4><code><h- data-h=mk_tag>\cowel_include_text</h-></code> — Include text from a file</h4></a>
<div class=toc-num data-level=3>7.8</div>
<a href=#new-aliases><h3>Aliases</h3></a>
<div class=toc-num data-level=4>7.8.1</div>
<a href=#dir-cowel_alias><h4><code><h- data-h=mk_tag>\cowel_alias</h-></code> — Define aliases for an existing directive</h4></a>
<div class=toc-num data-level=3>7.9</div>
<a href=#new-invocations><h3>Invocations</h3></a>
<div class=toc-num data-level=4>7.9.1</div>
<a href=#dir-cowel_invoke><h4><code><h- data-h=mk_tag>\cowel_invoke</h-></code> — Invoke a directive</h4></a>
<div class=toc-num data-level=2>8</div>
<a href=#legacy-directives><h2>Legacy directives</h2></a>
<div class=toc-num data-level=3>8.1</div>
<a href=#comments><h3>Comments</h3></a>
<div class=toc-num data-level=4>8.1.1</div>
<a href=#dir-comment><h4><code><h- data-h=mk_tag>\comment</h-></code> — Comments</h4></a>
<div class=toc-num data-level=3>8.2</div>
<a href=#text-formatting><h3>Text formatting</h3></a>
<div class=toc-num data-level=3>8.3</div>
<a href=#code><h3>Code and syntax highlighting</h3></a>
<div class=toc-num data-level=4>8.3.1</div>
<a href=#dir-code><h4><code><h- data-h=mk_tag>\code</h-></code> — Inline code</h4></a>
<div class=toc-num data-level=5>8.3.1.1</div>
<a href=#manual-nested-highlighting><h5>Manual nested highlighting</h5></a>
<div class=toc-num data-level=5>8.3.1.2</div>
<a href=#highlighting-prefix-and-suffix><h5>Highlighting prefix and suffix</h5></a>
<div class=toc-num data-level=5>8.3.1.3</div>
<a href=#further-advice-on-highlighting><h5>Further advice on highlighting</h5></a>
<div class=toc-num data-level=4>8.3.2</div>
<a href=#dir-codeblock><h4><code><h- data-h=mk_tag>\codeblock</h-></code> — Code blocks</h4></a>
<div class=toc-num data-level=4>8.3.3</div>
<a href=#dir-hl><h4><code><h- data-h=mk_tag>\hl</h-></code> — Syntax highlight override</h4></a>
<div class=toc-num data-level=4>8.3.4</div>
<a href=#dir-pre><h4><code><h- data-h=mk_tag>\pre</h-></code> — Preformatted blocks</h4></a>
<div class=toc-num data-level=4>8.3.5</div>
<a href=#dir-literally><h4><code><h- data-h=mk_tag>\literally</h-></code> — Treat input literally as text</h4></a>
<div class=toc-num data-level=4>8.3.6</div>
<a href=#dir-unprocessed><h4><code><h- data-h=mk_tag>\unprocessed</h-></code> — Suppress directive processing</h4></a>
<div class=toc-num data-level=3>8.4</div>
<a href=#math><h3>Math</h3></a>
<div class=toc-num data-level=4>8.4.1</div>
<a href=#dir-math><h4><code><h- data-h=mk_tag>\math</h-></code> — Inline math</h4></a>
<div class=toc-num data-level=4>8.4.2</div>
<a href=#dir-mathblock><h4><code><h- data-h=mk_tag>\mathblock</h-></code> — Math blocks</h4></a>
<div class=toc-num data-level=3>8.5</div>
<a href=#separators-and-word-breaking><h3>Separators and word breaking</h3></a>
<div class=toc-num data-level=4>8.5.1</div>
<a href=#dir-br><h4><code><h- data-h=mk_tag>\br</h-></code> — Break line</h4></a>
<div class=toc-num data-level=4>8.5.2</div>
<a href=#dir-hr><h4><code><h- data-h=mk_tag>\hr</h-></code> — Horizontal rule</h4></a>
<div class=toc-num data-level=4>8.5.3</div>
<a href=#dir-wbr><h4><code><h- data-h=mk_tag>\wbr</h-></code> — Word break opportunity</h4></a>
<div class=toc-num data-level=4>8.5.4</div>
<a href=#dir-nobr><h4><code><h- data-h=mk_tag>\nobr</h-></code> — Unbroken words</h4></a>
<div class=toc-num data-level=4>8.5.5</div>
<a href=#dir-word><h4><code><h- data-h=mk_tag>\word</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\nobr</h-></code></h4></a>
<div class=toc-num data-level=3>8.6</div>
<a href=#special-characters><h3>Special characters</h3></a>
<div class=toc-num data-level=4>8.6.1</div>
<a href=#dir-U><h4><code><h- data-h=mk_tag>\U</h-></code> — Code point literal</h4></a>
<div class=toc-num data-level=4>8.6.2</div>
<a href=#dir-N><h4><code><h- data-h=mk_tag>\N</h-></code> — Code point by name</h4></a>
<div class=toc-num data-level=4>8.6.3</div>
<a href=#dir-Udigits><h4><code><h- data-h=mk_tag>\Udigits</h-></code> — Digits of code point</h4></a>
<div class=toc-num data-level=4>8.6.4</div>
<a href=#dir-c><h4><code><h- data-h=mk_tag>\c</h-></code> — Character references</h4></a>
<div class=toc-num data-level=3>8.7</div>
<a href=#special-blocks><h3>Special blocks</h3></a>
<div class=toc-num data-level=4>8.7.1</div>
<a href=#dir-Babstract><h4><code><h- data-h=mk_tag>\Babstract</h-></code> — Abstract blocks</h4></a>
<div class=toc-num data-level=4>8.7.2</div>
<a href=#dir-Bquote><h4><code><h- data-h=mk_tag>\Bquote</h-></code> — Quote blocks</h4></a>
<div class=toc-num data-level=4>8.7.3</div>
<a href=#dir-blockquote><h4><code><h- data-h=mk_tag>\blockquote</h-></code> — Alias for <code><h- data-h=mk_tag>\Bquote</h-></code></h4></a>
<div class=toc-num data-level=4>8.7.4</div>
<a href=#dir-Bug><h4><code><h- data-h=mk_tag>\Bug</h-></code> — Bug blocks</h4></a>
<div class=toc-num data-level=4>8.7.5</div>
<a href=#dir-Bdecision><h4><code><h- data-h=mk_tag>\Bdecision</h-></code> — Decision blocks</h4></a>
<div class=toc-num data-level=4>8.7.6</div>
<a href=#dir-Bdel><h4><code><h- data-h=mk_tag>\Bdel</h-></code> — Deletion blocks</h4></a>
<div class=toc-num data-level=4>8.7.7</div>
<a href=#dir-Bdetails><h4><code><h- data-h=mk_tag>\Bdetails</h-></code> — Details blocks aka spoilers</h4></a>
<div class=toc-num data-level=4>8.7.8</div>
<a href=#dir-details><h4><code><h- data-h=mk_tag>\details</h-></code> — Alias for <code><h- data-h=mk_tag>\Bdetails</h-></code></h4></a>
<div class=toc-num data-level=4>8.7.9</div>
<a href=#dir-Bdiff><h4><code><h- data-h=mk_tag>\Bdiff</h-></code> — Difference blocks</h4></a>
<div class=toc-num data-level=4>8.7.10</div>
<a href=#dir-Bex><h4><code><h- data-h=mk_tag>\Bex</h-></code> — Example blocks</h4></a>
<div class=toc-num data-level=4>8.7.11</div>
<a href=#dir-Bins><h4><code><h- data-h=mk_tag>\Bins</h-></code> — Insertion blocks</h4></a>
<div class=toc-num data-level=4>8.7.12</div>
<a href=#dir-Bimp><h4><code><h- data-h=mk_tag>\Bimp</h-></code> — Important blocks</h4></a>
<div class=toc-num data-level=4>8.7.13</div>
<a href=#dir-Bnote><h4><code><h- data-h=mk_tag>\Bnote</h-></code> — Note blocks</h4></a>
<div class=toc-num data-level=4>8.7.14</div>
<a href=#dir-Btip><h4><code><h- data-h=mk_tag>\Btip</h-></code> — Tip blocks</h4></a>
<div class=toc-num data-level=4>8.7.15</div>
<a href=#dir-Btodo><h4><code><h- data-h=mk_tag>\Btodo</h-></code> — TODO blocks</h4></a>
<div class=toc-num data-level=4>8.7.16</div>
<a href=#dir-Bwarn><h4><code><h- data-h=mk_tag>\Bwarn</h-></code> — Warning blocks</h4></a>
<div class=toc-num data-level=4>8.7.17</div>
<a href=#deprecated-aliases><h4>Deprecated aliases</h4></a>
<div class=toc-num data-level=5>8.7.17.1</div>
<a href=#dir-bug><h5><code><h- data-h=mk_tag>\bug</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bug</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.2</div>
<a href=#dir-decision><h5><code><h- data-h=mk_tag>\decision</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bdecision</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.3</div>
<a href=#dir-delblock><h5><code><h- data-h=mk_tag>\delblock</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bdel</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.4</div>
<a href=#dir-diff><h5><code><h- data-h=mk_tag>\diff</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bdiff</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.5</div>
<a href=#dir-example><h5><code><h- data-h=mk_tag>\example</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bex</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.6</div>
<a href=#dir-insblock><h5><code><h- data-h=mk_tag>\insblock</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bins</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.7</div>
<a href=#dir-important><h5><code><h- data-h=mk_tag>\important</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bimp</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.8</div>
<a href=#dir-note><h5><code><h- data-h=mk_tag>\note</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bnote</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.9</div>
<a href=#dir-tip><h5><code><h- data-h=mk_tag>\tip</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Btip</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.10</div>
<a href=#dir-todo><h5><code><h- data-h=mk_tag>\todo</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Btodo</h-></code></h5></a>
<div class=toc-num data-level=5>8.7.17.11</div>
<a href=#dir-warning><h5><code><h- data-h=mk_tag>\warning</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bwarn</h-></code></h5></a>
<div class=toc-num data-level=3>8.8</div>
<a href=#lists><h3>Lists</h3></a>
<div class=toc-num data-level=4>8.8.1</div>
<a href=#dir-ul><h4><code><h- data-h=mk_tag>\ul</h-></code> — Unordered lists</h4></a>
<div class=toc-num data-level=4>8.8.2</div>
<a href=#dir-ol><h4><code><h- data-h=mk_tag>\ol</h-></code> — Ordered lists</h4></a>
<div class=toc-num data-level=4>8.8.3</div>
<a href=#dir-li><h4><code><h- data-h=mk_tag>\li</h-></code> — List items</h4></a>
<div class=toc-num data-level=4>8.8.4</div>
<a href=#dir-item><h4><code><h- data-h=mk_tag>\item</h-></code> — List item pseudo-directive</h4></a>
<div class=toc-num data-level=4>8.8.5</div>
<a href=#dir-dl><h4><code><h- data-h=mk_tag>\dl</h-></code> — Definition lists</h4></a>
<div class=toc-num data-level=3>8.9</div>
<a href=#tables><h3>Tables</h3></a>
<div class=toc-num data-level=3>8.10</div>
<a href=#headings><h3>Headings</h3></a>
<div class=toc-num data-level=4>8.10.1</div>
<a href=#dir-make_contents><h4><code><h- data-h=mk_tag>\make_contents</h-></code> — Make table of contents</h4></a>
<div class=toc-num data-level=3>8.11</div>
<a href=#bibliography><h3>Bibliography</h3></a>
<div class=toc-num data-level=4>8.11.1</div>
<a href=#dir-bib><h4><code><h- data-h=mk_tag>\bib</h-></code> — Add bibliography entry</h4></a>
<div class=toc-num data-level=4>8.11.2</div>
<a href=#dir-make_bib><h4><code><h- data-h=mk_tag>\make_bib</h-></code> — Generate bibliography</h4></a>
<div class=toc-num data-level=3>8.12</div>
<a href=#references><h3>References</h3></a>
<div class=toc-num data-level=4>8.12.1</div>
<a href=#dir-ref><h4><code><h- data-h=mk_tag>\ref</h-></code> — References</h4></a>
<div class=toc-num data-level=4>8.12.2</div>
<a href=#dir-mail><h4><code><h- data-h=mk_tag>\mail</h-></code> — E-Mail addresses</h4></a>
<div class=toc-num data-level=4>8.12.3</div>
<a href=#dir-tel><h4><code><h- data-h=mk_tag>\tel</h-></code> — Telephone numbers</h4></a>
<div class=toc-num data-level=3>8.13</div>
<a href=#foreign-languages><h3>Foreign languages</h3></a>
<div class=toc-num data-level=4>8.13.1</div>
<a href=#dir-html><h4><code><h- data-h=mk_tag>\html</h-></code> — Inline HTML</h4></a>
<div class=toc-num data-level=4>8.13.2</div>
<a href=#dir-htmlblock><h4><code><h- data-h=mk_tag>\htmlblock</h-></code> — HTML blocks</h4></a>
<div class=toc-num data-level=4>8.13.3</div>
<a href=#dir-html-element><h4><code><h- data-h=mk_tag>\html-*</h-></code> — HTML element literals</h4></a>
<div class=toc-num data-level=4>8.13.4</div>
<a href=#dir-script><h4><code><h- data-h=mk_tag>\script</h-></code> — JavaScript blocks</h4></a>
<div class=toc-num data-level=4>8.13.5</div>
<a href=#dir-noscript><h4><code><h- data-h=mk_tag>\noscript</h-></code> — No-JavaScript content</h4></a>
<div class=toc-num data-level=4>8.13.6</div>
<a href=#dir-style><h4><code><h- data-h=mk_tag>\style</h-></code> — CSS blocks</h4></a>
<div class=toc-num data-level=3>8.14</div>
<a href=#paragraph-control><h3>Paragraph control</h3></a>
<div class=toc-num data-level=4>8.14.1</div>
<a href=#dir-p><h4><code><h- data-h=mk_tag>\p</h-></code> — Paragraphs</h4></a>
<div class=toc-num data-level=4>8.14.2</div>
<a href=#dir-paragraphs><h4><code><h- data-h=mk_tag>\paragraphs</h-></code> — Enable paragraph splitting</h4></a>
<div class=toc-num data-level=4>8.14.3</div>
<a href=#dir-block><h4><code><h- data-h=mk_tag>\block</h-></code> — Display as block content</h4></a>
<div class=toc-num data-level=4>8.14.4</div>
<a href=#dir-inline><h4><code><h- data-h=mk_tag>\inline</h-></code> — Display as inline content</h4></a>
<div class=toc-num data-level=3>8.15</div>
<a href=#sections><h3>Sections</h3></a>
<div class=toc-num data-level=4>8.15.1</div>
<a href=#dir-there><h4><code><h- data-h=mk_tag>\there</h-></code> — Append content to section</h4></a>
<div class=toc-num data-level=4>8.15.2</div>
<a href=#dir-here><h4><code><h- data-h=mk_tag>\here</h-></code> — Copy section content</h4></a>
<div class=toc-num data-level=4>8.15.3</div>
<a href=#dir-hereblock><h4><code><h- data-h=mk_tag>\hereblock</h-></code> — Copy section content in block</h4></a>
<div class=toc-num data-level=3>8.16</div>
<a href=#file-management><h3>File management</h3></a>
<div class=toc-num data-level=4>8.16.1</div>
<a href=#dir-include><h4><code><h- data-h=mk_tag>\include</h-></code> — Include text from a file</h4></a>
<div class=toc-num data-level=4>8.16.2</div>
<a href=#dir-import><h4><code><h- data-h=mk_tag>\import</h-></code> — Import a sub-document</h4></a>
<div class=toc-num data-level=3>8.17</div>
<a href=#macros><h3>Macros</h3></a>
<div class=toc-num data-level=4>8.17.1</div>
<a href=#dir-def><h4><code><h- data-h=mk_tag>\macro</h-></code> — Define a macro</h4></a>
<div class=toc-num data-level=4>8.17.2</div>
<a href=#put--replaced-with-provided-content><h4><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-></code> — Replaced with provided content</h4></a>
<div class=toc-num data-level=4>8.17.3</div>
<a href=#put0-put1---replaced-with-argument><h4><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->0<h- data-h=sym_brac>}</h-></code>, <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->1<h- data-h=sym_brac>}</h-></code>, … — Replaced with argument</h4></a>
<div class=toc-num data-level=4>8.17.4</div>
<a href=#put%2e%2e%2e--forwarding-provided-arguments><h4><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> — Forwarding provided arguments</h4></a>
<div class=toc-num data-level=4>8.17.5</div>
<a href=#avoiding-name-collisions><h4>Avoiding name collisions</h4></a>
<div class=toc-num data-level=3>8.18</div>
<a href=#miscellaneous><h3>Miscellaneous</h3></a>
<div class=toc-num data-level=4>8.18.1</div>
<a href=#dir-div><h4><code><h- data-h=mk_tag>\div</h-></code> — Content division</h4></a>
<div class=toc-num data-level=4>8.18.2</div>
<a href=#dir-trim><h4><code><h- data-h=mk_tag>\trim</h-></code> — Trim input</h4></a>
<div class=toc-num data-level=4>8.18.3</div>
<a href=#dir-text><h4><code><h- data-h=mk_tag>\text</h-></code> — Plaintext context</h4></a>
<div class=toc-num data-level=3>8.19</div>
<a href=#variables-and-calculations><h3>Variables and calculations</h3></a>
<div class=toc-num data-level=4>8.19.1</div>
<a href=#dir-Vset><h4><code><h- data-h=mk_tag>\Vset</h-></code> — Set a variable</h4></a>
<div class=toc-num data-level=4>8.19.2</div>
<a href=#dir-Vget><h4><code><h- data-h=mk_tag>\Vget</h-></code> — Get a variable</h4></a>
<div class=toc-num data-level=4>8.19.3</div>
<a href=#dir-Cadd><h4><code><h- data-h=mk_tag>\Cadd</h-></code> — Perform addition</h4></a>
<div class=toc-num data-level=4>8.19.4</div>
<a href=#dir-Csub><h4><code><h- data-h=mk_tag>\Csub</h-></code> — Perform subtraction</h4></a>
<div class=toc-num data-level=4>8.19.5</div>
<a href=#dir-Cmul><h4><code><h- data-h=mk_tag>\Cmul</h-></code> — Perform multiplication</h4></a>
<div class=toc-num data-level=4>8.19.6</div>
<a href=#dir-Cdiv><h4><code><h- data-h=mk_tag>\Cdiv</h-></code> — Perform division</h4></a>
</div>

<h2 id=introduction><a class=para href=#introduction></a>1. Introduction</h2>

<p>COWEL is a markup language with TeX-like syntax,
intended to generate HTML documents,
mainly for proposals and technical text.
Many of its features are purpose-built for use in WG21,
such as for writing C++ proposals.
</p>
<example-block><p><intro-></intro-> 
The following COWEL code ...
</p><code-block>Hello, <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_brac>{</h->strong<h- data-h=sym_brac>}</h-> world!</code-block>
<p>... generates the HTML ...
</p><code-block>Hello, <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h->strong<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h-> world!</code-block>
<p>... which renders as:
</p><div class=indent>
Hello, <strong>strong</strong> world!
</div>
</example-block>

<h2 id=motivation><a class=para href=#motivation></a>2. Motivation</h2>

<p>Many similar tools (mpark/wg21, bikeshed, etc.)
are based on Markdown.
This makes them beginner-friendly,
but advanced formatting requires heavy use of Markdown extensions
or mixed use of Markdown and HTML tags.
Metadata such as bibliographies, document information, etc.
also rely on yet another format (e.g. JSON, YAML).
</p>
<p>This makes these tools difficult to master and makes the design incoherent.
Why do we need three languages glued together just to format our documents?
</p>
<p>COWEL is the missing middle, the missing link.
It makes producing HTML a natural part of the language,
lets you specify metadata,
and more, all in one, simple syntax.
</p>
<h2 id=getting-started><a class=para href=#getting-started></a>3. Getting started</h2>

<p>To use and install COWEL,
you need to <a href=https://docs.npmjs.com/downloading-and-installing-node-js-and-npm>install Node.js and <tt->npm</tt-></a>.
With <tt->npm</tt-> installed, open a terminal and run:
</p>
<code-block><h- data-h=sh_cmd>npm</h-> <h- data-h=str>i</h-> <h- data-h=sh-opt>-g</h-> <h- data-h=str>cowel</h->
<h- data-h=cmt_dlim>#</h-><h- data-h=cmt> or</h->
<h- data-h=sh_cmd>npm</h-> <h- data-h=str>install</h-> <h- data-h=sh-opt>--global</h-> <h- data-h=str>cowel</h-></code-block>

<p>See also <a href=https://www.npmjs.com/package/cowel class=sans>https://www.npmjs.com/package/cowel</a>.
With COWEL installed,
you can convert COWEL documents to HTML by using:
</p>
<code-block><h- data-h=sh_cmd>cowel</h-> <h- data-h=str>run</h-> <h- data-h=str>input.cow</h-> <h- data-h=str>output.html</h-></code-block>

<p>To see a list of available options and commands,
run <code><h- data-h=sh_cmd>cowel</h-></code> by itself or <code><h- data-h=sh_cmd>cowel</h-> <h- data-h=sh-opt>--help</h-></code>.
</p>
<tip-block><p><intro-></intro-> 
You may need to use <code><h- data-h=sh_cmd>sudo</h-></code> or otherwise elevate your permissions
because <code><h- data-h=sh-opt>-g</h-></code> performs a "global"/system-wide installation.
This is necessary to make the <code><h- data-h=sh_cmd>cowel</h-></code> command available everywhere.
</p>
<p>It is recommended to use a <tt->.cow</tt-> or <tt->.cowel</tt-> file extension for COWEL documents.
</p>
<p>Many text editors support associating such file extensions
with TeX or LaTeX syntax highlighting,
whose syntax is similar enough to get <em>some</em> basic highlighting.
A VSCode plugin for proper highlighting is planned, among other features.
</p></tip-block>

<h3 id=native-installation><a class=para href=#native-installation></a>3.1. Native installation</h3>

<p>There also exists a more limited native CLI for development purposes.
To install it and run COWEL:
</p>
<code-block><h- data-h=sh_cmd>git</h-> <h- data-h=str>clone</h-> <h- data-h=str>https://github.com/Eisenwave/cowel.git</h-> <h- data-h=sh-opt>--recursive</h->
<h- data-h=sh_cmd>cd</h-> <h- data-h=str>cowel</h->
<h- data-h=sh_cmd>cmake</h-> <h- data-h=sh-opt>-B</h-> <h- data-h=str>build</h->
<h- data-h=sh_cmd>cmake</h-> <h- data-h=sh-opt>--build</h-> <h- data-h=str>build</h->
<h- data-h=sh_cmd>./build/cowel-cli</h-> <h- data-h=str>input.cow</h-> <h- data-h=str>output.html</h-></code-block>

<p>The <tt->npm</tt-> CLI is slightly different from the native CLI,
but they share some options,
such as <code><h- data-h=sh-opt>--severity</h-></code> and <code><h- data-h=sh-opt>--help</h-></code>.
Running <code><h- data-h=sh_cmd>./build/cowel-cli</h-></code> without extra arguments also brings up the help menu.
</p>
<h2 id=syntax><a class=para href=#syntax></a>4. Syntax</h2>

<p>COWEL has a minimalistic but powerful syntax,
built on top of only three syntactical constructs:
</p><ul>
  <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>various_directives</h-><h- data-h=sym_sqr>[</h->positional args<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>named-args</h-> <h- data-h=sym_punc>=</h-> 0<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->and content<h- data-h=sym_brac>}</h-></code></li>
  <li><code>Text.</code></li>
  <li><code><h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>:</h-><h- data-h=cmt>Comments</h-></code></li>
  <li>Escape sequences, such as <code><h- data-h=esc>\</h-><h- data-h=esc>{</h-></code>, <code><h- data-h=esc>\</h-><h- data-h=esc>}</h-></code>, <code><h- data-h=esc>\</h-><h- data-h=esc>\</h-></code>, etc.</li>
</ul>

<p>There is no special syntax besides that,
meaning that as long as some bit of code doesn't contain a <code>\</code>,
it's all interpreted as plaintext.
This makes COWEL exceptionally suited to nest other languages inside of it in code blocks etc.
</p>
<h3 id=text><a class=para href=#text></a>4.1. Text</h3>

<p>Text is not processed specially;
what you see is what you get.
</p>
<p>However, the output may depend on the context (<a href=#contexts-and-output>§5.1. Content policies</a>).
For example, <code>&lt;</code> in text will render as a &lt; character,
but will be converted to <code><h- data-h=esc>&amp;lt;</h-></code> in an HTML context.
</p>
<h3 id=syntax-comments><a class=para href=#syntax-comments></a>4.2. Comments</h3>

<p>Comments begin with <code><h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>:</h-></code> and extend until the end of the line.
In almost every context,
comments are discarded instead of being emitted into the output HTML.
</p>
<p>This makes them useful for adding information to the COWEL markup.
</p>
<note-block><p><intro-></intro-> 
Comments, just like any other content,
are actually part of the AST and don't simply get discarded during parsing.
This means that a comment wrapped in <a href=#dir-literally>§8.3.5. <code><h- data-h=mk_tag>\literally</h-></code> — Treat input literally as text</a> will render as expected:
</p><code-block><h- data-h=mk_tag>\codeblock</h-><h- data-h=sym_sqr>[</h->cowel<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\literally</h-><h- data-h=sym_brac>{</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> A comment ...</h->
<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> A comment ...</h-></code-block>
</note-block>

<p>Comments also "absorb" the trailing newline (LF or CRLF),
which means that a trailing comment won't add any lines (not even blank lines)
to the generated markup.
</p>
<example-block><p><intro-></intro-> 
We can even join words by putting a comment between:
</p><code-block>Hello<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> this comment will absorb the newline</h->
World

Hello <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> this comment also does, but is preceded by a space</h->
World</code-block>

<p>Generated HTML:
</p><code-block>HelloWorld

Hello World</code-block>
</example-block>

<h3 id=escape-sequences><a class=para href=#escape-sequences></a>4.3. Escape sequences</h3>

<p>COWEL supports multiple escape sequences,
all of which begin with a <code>\</code> (like directives),
but are followed by some special character.
The meaning of the escape sequences is described in the table below.
</p>
<style>
  #escapes-table {
    margin-left:auto;
    margin-right:auto;
    table-layout: fixed;
  }
  #escapes-table td {
    border-top: 1px solid var(--border-color);
  }
  #escapes-table td:first-child {
    width: 40%;
  }
</style>

<table id=escapes-table>
  <tr>
    <th>Escape sequence</th>
    <th>Meaning</th>
  </tr>
  <tr>
    <td>
      <tt-><h- data-h=esc>\{</h-></tt->,
      <tt-><h- data-h=esc>\}</h-></tt->,
      <tt-><h- data-h=esc>\\</h-></tt->,
      <tt-><h- data-h=esc>\[</h-></tt->,
      <tt-><h- data-h=esc>\]</h-></tt->,
      <tt-><h- data-h=esc>\,</h-></tt->,
      <tt-><h- data-h=esc>\=</h-></tt->,
      <span class=word><tt-><h- data-h=esc>\</h-></tt-> U+0009 HORIZONTAL TABULATION</span>,
      <span class=word><tt-><h- data-h=esc>\</h-></tt-> U+0020 SPACE</span>
    </td>
    <td>
      Expands to the second character in the escape sequence.
      These sequences are stable.
    </td>
  </tr>
  <tr>
    <td>
      <tt-><h- data-h=esc>\!</h-></tt->,
      <tt-><h- data-h=esc>\"</h-></tt->,
      <tt-><h- data-h=esc>\#</h-></tt->,
      <tt-><h- data-h=esc>\$</h-></tt->,
      <tt-><h- data-h=esc>\%</h-></tt->,
      <tt-><h- data-h=esc>\&amp;</h-></tt->,
      <tt-><h- data-h=esc>\'</h-></tt->,
      <tt-><h- data-h=esc>\(</h-></tt->,
      <tt-><h- data-h=esc>\)</h-></tt->,
      <tt-><h- data-h=esc>\*</h-></tt->,
      <tt-><h- data-h=esc>\+</h-></tt->,
      <tt-><h- data-h=esc>\.</h-></tt->,
      <tt-><h- data-h=esc>\/</h-></tt->,
      <tt-><h- data-h=esc>\;</h-></tt->,
      <tt-><h- data-h=esc>\&lt;</h-></tt->,
      <tt-><h- data-h=esc>\&gt;</h-></tt->,
      <tt-><h- data-h=esc>\?</h-></tt->,
      <tt-><h- data-h=esc>\@</h-></tt->,
      <tt-><h- data-h=esc>\^</h-></tt->,
      <tt-><h- data-h=esc>\|</h-></tt->,
      <tt-><h- data-h=esc>\~</h-></tt->
    </td>
    <td>
      Expands to the second character in the escape sequence.
      <strong>These sequences are unstable</strong>,
      meaning that they could be given a different meaning in the future.
      <strong>Use with caution!</strong>
    </td>
  </tr>
  <tr>
    <td>
      <span class=word><tt-><h- data-h=esc>\</h-></tt-> U+000A LINE FEED</span>,
      <span class=word><tt-><h- data-h=esc>\</h-></tt-> U+000B VERTICAL TABULATION</span>,
      <span class=word><tt-><h- data-h=esc>\</h-></tt-> U+000D CARRIAGE RETURN</span>,
      <span class=word><tt-><h- data-h=esc>\</h-></tt-> U+000A U+000D (CRLF escape)</span>
    </td>
    <td>
      Expands to nothing; feature is stable
    </td>
  </tr>
</table>

<p>If there is an ambiguity between a CRLF escape and a simple U+000D CARRIAGE RETURN escape,
this ambiguity is resolved in favor of a CRLF escape.
</p>
<note-block><p><intro-></intro-> 
The purpose of most escapes is to prevent a character from having special meaning.
For example, the <tt-><h- data-h=esc>\,</h-></tt-> escape prevents a comma from being interpreted
as a separator between directive arguments.
</p>
<p>The purpose of the newline escapes is to remove unwanted newlines
and to join long content that spans multiple lines,
but without introducing any whitespace in the markup.
</p></note-block>

<h3 id=whitespace><a class=para href=#whitespace></a>4.4. Whitespace</h3>

<p>COWEL translates very directly into HTML.
Any whitespace in text is preserved exactly as is.
The way that whitespace is processed then depends on the produced HTML and how it is CSS-styled.
</p>
<example-block><p><intro-></intro-> 
At a top level, whitespace is merged and line breaks are rendered like spaces:
</p><code-block>This displays on one line
because line breaks render like spaces.</code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->This displays on one line
because line breaks render like spaces.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code-block>
<p>Rendered output:
</p><div class=indent>This displays on one line because line breaks render like spaces.</div>
</example-block>

<h3 id=paragraph-splitting><a class=para href=#paragraph-splitting></a>4.5. Paragraph splitting</h3>

<p>At the top-level in the document and within the content of certain directives,
<dfn>paragraph splitting</dfn> takes place.
All content in COWEL is either <dfn>inline content</dfn>, <dfn>block content</dfn>, or <dfn>meta content</dfn>.
Text and escape sequences are inline content,
and directives are sometimes inline and sometimes block content.
Certain directives (e.g. <code><h- data-h=mk_tag>\comment</h-></code>) that don't generate anything rendered are meta content.
</p>
<p>The process of paragraph splitting works as follows:
</p><ul>
  <li>
    Blank-line-separated blocks of inline content is wrapped in in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code> tags.
    Meta content is not counted as a blank line, so it "continues" inline content,
    but no effort is made to wrap it in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code>.
  </li>
  <li>
    Block content stays untouched, i.e. it is not wrapped in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code>.
    However, it also terminates prior inline content, like a blank line.
  </li>
</ul>

<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>First paragraph.

Second paragraph.
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>blockquote</h-><h- data-h=sym_brac>{</h->This is a block directive.<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->First paragraph.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Second paragraph.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>blockquote</h-><h- data-h=sym_punc>&gt;</h->This is a block directive.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>blockquote</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<h3 id=directives><a class=para href=#directives></a>4.6. Directives</h3>

<p>A <dfn>directive</dfn> is a way of generating plaintext, HTML, both, or neither.
You can think of it as a "command" or "function call".
</p>
<p>Every directive has three parts:
</p><ul>
  <li>
    The <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>directive_name</h-></code> selects a specific directive to be processed.
  </li>
  <li>
    An optional <code><h- data-h=sym_sqr>[</h->comma-separated<h- data-h=sym_punc>,</h-> positional arguments<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>named-arguments</h-> <h- data-h=sym_punc>=</h-> ...<h- data-h=sym_sqr>]</h-></code>
    provides additional inputs to the directive.
  </li>
  <li>
    An optional <code><h- data-h=sym_brac>{</h->block of content<h- data-h=sym_brac>}</h-></code> provides a "main input" to a directive.
  </li>
</ul>

<h4 id=directive-names><a class=para href=#directive-names></a>4.6.1. Directive names</h4>

<p>A <dfn>directive name</dfn> selects a specific directive to be processed.
The name begins with a <code>\</code> character,
followed by a sequence of ASCII alphanumeric characters,
U+002D (<tt->-</tt->), and
U+005F (<tt->_</tt->).
However, the first character after <code>\</code> cannot be an ASCII digit.
</p>
<tip-block><p><intro-></intro-> 
You can use an empty block of content to "cut a name short":
</p><code-block>Thisisavery<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>wbr</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h->longword.</code-block>
<p>Doing so is equivalent to writing
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>wbr</h-></code> and <code>longword</code> immediately following one another.
</p></tip-block>

<warning-block><p><intro-></intro-> 
The use of '-' (hyphen) characters in directive names is deprecated.
Currently, <code><h- data-h=mk_tag>\a-b</h-></code> would get parsed as a directive name,
but this behavior will be removed in the future.
This will result in <code><h- data-h=mk_tag>\a</h-></code> being parsed as a directive name,
followed by plaintext <tt->-b</tt->.
</p></warning-block>

<h4 id=directive-arguments><a class=para href=#directive-arguments></a>4.6.2. Directive arguments</h4>

<p><dfn>Directive arguments</dfn> can be <dfn>positional arguments</dfn> or <dfn>named arguments</dfn>.
Arguments are separated by commas.
Unlike anywhere else, whitespace surrounding directive arguments is ignored.
</p>
<p>Arguments provide additional information to a directive.
</p>
<example-block><p><intro-></intro-> 
Often, arguments are converted to HTML attributes.
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>id</h-> <h- data-h=sym_punc>=</h-> abc<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->Bold text.<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-> <h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h-><h- data-h=str>abc</h-><h- data-h=sym_punc>&gt;</h->Bold text.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<h5 id=named-arguments><a class=para href=#named-arguments></a>4.6.2.1. Named arguments</h5>

<p>Named arguments are of the form
<code>name = value</code>, where spaces anywhere around <code>name</code> and <code>value</code> are ignored.
Named arguments are matched to directive parameters before any positional arguments,
meaning that positional arguments fill the remaining unmatched arguments.
</p>
<p>Argument names can consist of any character, except
ASCII control characters,
U+0020 SPACE,
U+0022 (<tt->"</tt->),
U+0027 (<tt->'</tt->),
U+002C (<tt->,</tt->),
U+002F (<tt->/</tt->),
U+003D (<tt->=</tt->),
U+003E (<tt->&gt;</tt->),
U+005B (<tt->[</tt->),
U+005C (<tt->\</tt->),
U+005D (<tt->]</tt->),
U+007B (<tt->{</tt->),
U+007D (<tt->}</tt->),
and noncharacters.
</p>
<tip-block><p><intro-></intro-> 
If you want to provide a positional argument that is <code>name = value</code> instead,
you can do so by writing:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> "name = value" as a positional argument</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->name <h- data-h=esc>\\</h->= value<h- data-h=sym_sqr>]</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> named argument with name "name" and value "value"</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>name</h-> <h- data-h=sym_punc>=</h-> value<h- data-h=sym_sqr>]</h-></code-block>
<p>Only the literal <code>=</code> character can be used for named arguments,
not its escaped variant <code><h- data-h=esc>\</h-><h- data-h=esc>=</h-></code>.
</p></tip-block>

<h5 id=positional-arguments><a class=para href=#positional-arguments></a>4.6.2.2. Positional arguments</h5>

<p>Positional arguments are content just like any other content,
except that an unbalanced closing U+005D (<tt->]</tt->) or a U+002C (<tt->,</tt->)
ends the content.
</p>
<tip-block><p><intro-></intro-> 
You can use escape sequences to continue otherwise ended content.
</p><code-block><h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->hello<h- data-h=sym_punc>,</h-> world<h- data-h=sym_sqr>]</h->   <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Two positional arguments</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->hello<h- data-h=esc>\,</h-> world<h- data-h=sym_sqr>]</h->  <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> One positional argument containing a comma.</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->hello[]world<h- data-h=sym_sqr>]</h->   <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK, [] is balanced and included in single argument</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->hello<h- data-h=esc>\]</h->world<h- data-h=sym_sqr>]</h->   <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->hello<h- data-h=esc>\[</h->world<h- data-h=sym_sqr>]</h->   <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK</h->
<h- data-h=mk_tag>\xyz</h-><h- data-h=sym_sqr>[</h->hello[world]    <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> error: unterminated arguments</h-></code-block>
</tip-block>

<h4 id=directive-content><a class=para href=#directive-content></a>4.6.3. Directive content</h4>

<p>The <dfn>directive content</dfn> is the primary input to a directive.
It is delimited by a '<tt->{</tt->' and ends with a <em>matching</em> closing '<tt->}</tt->'.
This means that you can have opening and closing braces inside text,
but they need to be balanced.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->Bold text { with braces }.<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->Bold text { with braces }.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<p>Escape sequences don't participate in this "brace matching",
so they can be used to literally produce a brace character.
</p><example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->Bold text <h- data-h=esc>\</h-><h- data-h=esc>{</h-> with brace.<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->Bold text { with brace.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<p>Unlike in the directive arguments,
whitespace is not trimmed.
</p><example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->bold<h- data-h=sym_brac>}</h-> <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>i</h-><h- data-h=sym_brac>{</h-> italic <h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->bold<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-> <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>i</h-><h- data-h=sym_punc>&gt;</h-> italic <h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>i</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<note-block><p><intro-></intro-> 
Only one such block of content can be provided, unlike in TeX,
which has a similar syntax,
but permits multiple blocks. Each block is separated by a pair of braces.
</p></note-block>
<h2 id=document-processing><a class=para href=#document-processing></a>5. Document processing</h2>

<p>A COWEL document is processed from top to bottom,
left to right,
where each piece of content is fed into the current content policy.
</p>
<p>There exists a <dfn>top-level content policy</dfn> which takes its input
and writes it to the output HTML file.
</p>
<h3 id=contexts-and-output><a class=para href=#contexts-and-output></a>5.1. Content policies</h3>

<p>A <dfn>content policy</dfn> dictates how each pice of content
(text, comments, escapes, directives)
is transformed into HTML or consumed in some other way.
For example, most content policies ignore comments,
process directives, etc.,
but other policies can process all these pieces of content into text.
</p>
<p>Content policies are <dfn>piped</dfn>,
meaning that the output of one policy is used as the input to another policy.
In a COWEL document, it is common to create long pipes of content policies.
These ultimately terminate in the top-level content policy
or in a policy which captures the output and writes it to memory for further processing.
</p>
<p>The following builtin content policies exist:
</p>
<dl>
  <dt>To-HTML policy</dt>
  <dd>
    Comments are ignored,
    escape sequences are expanded,
    text is sanitized and converted to "inner HTML" text for elements, and
    directives are processed as usual.
    Received HTML is taken literally,
    and received plaintext is sanitized like text.
  </dd>

  <dt>Highlight policy</dt>
  <dd>
    Like a to-HTML policy,
    but any text content and any received plaintext
    has syntax highlighting applied to it.
  </dd>

  <dt>Paragraphs policy</dt>
  <dd>
    Like a to-HTML policy,
    but surrounds given text content in paragraphs,
    and treats blank lines in text as paragraph separators.
    See <a href=#paragraph-splitting>§4.5. Paragraph splitting</a> for details.
  </dd>

  <dt>No-invoke policy</dt>
  <dd>
    Like a to-HTML policy,
    but directives are not processed.
    Instead, the source code of directives is taken, sanitized,
    and fed as HTML into the surrounding policy.
  </dd>

  <dt>Text-only policy</dt>
  <dd>
    Comments are ignored,
    escape sequences are expanded,
    text is taken literally, and
    directives are processed as usual.
    HTML content fed into this policy is ignored.
  </dd>

  <dt>Text-as-HTML policy</dt>
  <dd>
    Like a text-only policy,
    but instead of feeding its parent policy with the generated plaintext,
    all plaintext is reinterpreted as HTML before being fed into the parent policy.
  </dd>

  <dt>Source-as-text policy</dt>
  <dd>
    The source code of all processed content is interpreted as plaintext
    and fed into the surrounding policy.
    This includes comments.
  </dd>
</dl>

<p>To <dfn>process directives as usual</dfn> means that when a directive is encountered,
a definition matching the directive name is looked up,
and the definition is invoked with the arguments and content of the directive.
</p>
<p>The top-level content policy within a document is a
paragraph split content policy,
feeding content into an HTML content policy.
</p>
<h3 id=directive-processing><a class=para href=#directive-processing></a>5.2. Directive processing</h3>

<p>The job of directives is to feed the current content policy with content.
Unlike text or escape sequences,
directives can do so programmatically.
</p>
<example-block><p><intro-></intro-> 
In the COWEL snippet <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code>,
the <code><h- data-h=mk_tag>\b</h-></code> directive feeds the current content policy with
</p><ul>
  <li>an opening <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code> tag,</li>
  <li>all content within <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code>, i.e. the text <code>x</code>, and</li>
  <li>a closing <code><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code> tag.</li>
</ul>

<p>Content policies differ in how they treat the content they're fed:
</p><ul>
  <li>
    At a top level within the document,
    the opening <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code> and closing <code><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code>
    are simply written as HTML to the output file.
    The given text <code>x</code> is sanitized (i.e. characters like <tt->&lt;</tt-> are escaped)
    and turned into inner HTML content.
    The result is simply <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->x<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code>.
  </li>
  <li>
    When fed into a highlight policy,
    HTML tags are interpreted literally in the same way.
    However, syntax highlighting is applied to the given input text,
    resulting in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-><i>syntax highlighted x</i><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code>.
  </li>
  <li>
    A literally content policy would not have processed <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code> in the first place,
    but taken its source code interpreted as text,
    and fed that into the surrounding policy.
  </li>
  <li>…</li>
</ul>
</example-block>

<h4 id=lazy-processing><a class=para href=#lazy-processing></a>5.2.1. Lazy processing</h4>

<p>Unlike in typical programming languages,
where the input to a function is processed at the call site and the resulting values
are passed into the function,
COWEL directives have <em>absolute</em> control over their inputs and how they are processed.
</p>
<p>Say you have a JavaScript function:
</p><code-block><h- data-h=kw>function</h-> <h- data-h=id>f</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=id>console</h-><h- data-h=sym_op>.</h-><h- data-h=id>log</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_brac>}</h->
<h- data-h=id>f</h-><h- data-h=sym_par>(</h-><h- data-h=num>2</h-> <h- data-h=sym_op>+</h-> <h- data-h=num>2</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h-></code-block>
<p><code><h- data-h=id>f</h-></code> has no idea that its input was originally <code><h- data-h=num>2</h-> <h- data-h=sym_op>+</h-> <h- data-h=num>2</h-></code>.
It only sees the value <code><h- data-h=num>4</h-></code> and prints it, "oblivious to the outside".
</p>
<p>COWEL follows a different model:
</p><code-block><h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>comment{</h-><h- data-h=cmt>\</h-><h- data-h=cmt>b{x}</h-><h- data-h=cmt_dlim>}</h-></code-block>
<p>No <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code> tag is ever generated because <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code> is never processed.
<code><h- data-h=mk_tag>\comment</h-></code> is not magical feature;
it simply has control over all of its contents and arguments,
and it can choose not to process them.
</p>
<p>You can even make a <code><h- data-h=mk_tag>\comment2</h-></code> directive that works
just like <code><h- data-h=mk_tag>\comment</h-></code> yourself:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>comment2</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-></code-block>

<h2 id=themes><a class=para href=#themes></a>6. Themes</h2>

<p>COWEL outputs documents that can be viewed in <dfn>light mode</dfn> and <dfn>dark mode</dfn>.
</p>
<p>When the document is opened with support for JavaScript,
there is an button in the top-right that can be used to switch between three modes:
</p><ul>
<li>Sync the theme with the OS (default)</li>
<li>Light mode (ignoring system preference)</li>
<li>Dark mode (ignoring system preference)</li>
</ul>

<p>Forced light/dark mode works by adding a <tt->light</tt-> or <tt->dark</tt->
class to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>html</h-><h- data-h=sym_punc>&gt;</h-></code> element in the DOM.
</p>
<important-block><p><intro-></intro-> 
If you want to customize colors with CSS,
remember to make them respond to theme and OS preference changes.
</p>
<p>For reference, you can look at the CSS in the COWEL source code to see how it's done properly.
</p></important-block>
<h2 id=new-directives><a class=para href=#new-directives></a>7. New directives</h2>

<p>Find below a list of builtin directives.
That is, directives that you can always use
because they are "built into the language".
</p>
<note-block><p><intro-></intro-> 
These builtin directives should rarely be used directly,
but through macro packages which utilize them.
</p>
<p>Even if one wanted to use them,
builtin directive have long names which make them impractical for direct use in markup.
However, those long names are self-document, unambiguous,
and guaranteed not to collide with any user directives.
</p></note-block>

<h3 id=common-principles><a class=para href=#common-principles></a>7.1. Common principles</h3>

<p>There are a few common principles,
which all builtin directives have in common:
</p>
<ul>
  <li>
    Unless otherwise stated,
    arguments to builtin directives are processed using the
    text-only policy (<a href=#contexts-and-output>§5.1. Content policies</a>).
  </li>
  <li>
    Unless otherwise stated,
    arguments to builtin directives
    use the usual argument matching (<a href=#usual-argument-matching>§7.1.1. Usual argument matching</a>).
  </li>
  <li>
    Whenever content or arguments are said to be ignored,
    a warning is emitted when content or arguments are provided by the user, respectively.
  </li>
</ul>

<h4 id=usual-argument-matching><a class=para href=#usual-argument-matching></a>7.1.1. Usual argument matching</h4>

<p>The usual argument matching is performed as follows:
</p>
<ol>
  <li>
    Any parameters of the directive are compared against named arguments.
    If the name of the parameter is equal to the name of the named argument,
    the argument is a match for that parameter.
    An error is raised if there is more than one named argument with the same name.
  </li>
  <li>
    Any positional arguments are matched against any remaining parameters,
    in the same order.
  </li>
  <li>
    Any arguments that do not match a parameter are ignored.
  </li>
</ol>

<example-block><p><intro-></intro-> 
Let <code><h- data-h=mk_tag>\d</h-></code> be a directive with parameters
<tt-><h- data-h=mk_attr>x</h-></tt->, <tt-><h- data-h=mk_attr>y</h-></tt->, and <tt-><h- data-h=mk_attr>z</h-></tt->:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> a, b, and c match x, y, and z, respectively</h->
<h- data-h=mk_tag>\d</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>z</h-> <h- data-h=sym_punc>=</h-> c<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>y</h-> <h- data-h=sym_punc>=</h-> b<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>x</h-> <h- data-h=sym_punc>=</h-> a<h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> a, b, and c match x, y, and z, respectively</h->
<h- data-h=mk_tag>\d</h-><h- data-h=sym_sqr>[</h->a<h- data-h=sym_punc>,</h-> b<h- data-h=sym_punc>,</h-> c<h- data-h=sym_sqr>]</h->

<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> d matches x, a matches y, b matches z, c is ignored</h->
<h- data-h=mk_tag>\d</h-><h- data-h=sym_sqr>[</h->a<h- data-h=sym_punc>,</h-> b<h- data-h=sym_punc>,</h-> c<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>x</h-> <h- data-h=sym_punc>=</h-> d<h- data-h=sym_sqr>]</h-></code-block>
</example-block>


<h3 id=new-character-utilities><a class=para href=#new-character-utilities></a>7.2. Character utilities</h3>

<p>It is quite common that a text document should include special characters.
While COWEL is built on UTF-8 and in theory,
one could just write the character directly into the source code,
not every text editor handles special characters well,
not to mention that some characters are invisible when rendered.
</p>
<p>For portability and convenience
COWEL has builtin directives for generating and querying characters.
</p>
<h4 id=dir-cowel_char_by_entity><a class=para href=#dir-cowel_char_by_entity></a>7.2.1. <code><h- data-h=mk_tag>\cowel_char_by_entity</h-></code> — Character by HTML character reference</h4>

<p>The <code><h- data-h=mk_tag>\cowel_char_by_entity</h-></code> directive takes the name of a character
and outputs the respective code points as text.
The input to a <code><h- data-h=mk_tag>\c</h-></code> directive is provided as content,
which consists of an HTML entity
without the leading '<tt->&amp;</tt->' and trailing '<tt->;</tt->'.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
The '<tt->&amp;</tt->' character can be produced in a number of ways:
</p><ul>
    <li>Literally '<tt->&amp;</tt->' in text</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->amp<h- data-h=sym_brac>}</h-></code> (like <code><h- data-h=esc>&amp;amp;</h-></code>, named character reference)</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->#38<h- data-h=sym_brac>}</h-></code> (like <code><h- data-h=esc>&amp;38;</h-></code>, decimal character reference)</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->#x26<h- data-h=sym_brac>}</h-></code> (like <code><h- data-h=esc>&amp;x26;</h-></code>, hexadecimal character reference)</li>
</ul>
</example-block>

<h4 id=dir-cowel_char_by_name><a class=para href=#dir-cowel_char_by_name></a>7.2.2. <code><h- data-h=mk_tag>\cowel_char_by_name</h-></code> — Character by Unicode name</h4>

<p>The input to a <code><h- data-h=mk_tag>\cowel_char_by_num</h-></code> directive is text content which should be a
<a href=https://www.unicode.org/reports/tr34/#Names>Unicode name</a>
for a code point.
That is, the name of a code point,
or one of its "control", "alternate", or "correction" aliases.
</p>
<example-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>N</h-><h- data-h=sym_brac>{</h->DIGIT ZERO<h- data-h=sym_brac>}</h-></code> generates '<tt->0</tt->' U+0030 DIGIT ZERO.
</p></example-block>

<h4 id=dir-cowel_char_by_num><a class=para href=#dir-cowel_char_by_num></a>7.2.3. <code><h- data-h=mk_tag>\cowel_char_by_num</h-></code> — Character by code point number</h4>

<p>The input to a <code><h- data-h=mk_tag>\cowel_char_by_num</h-></code> directive is text content
which should be a sequence of hexadecimal numbers
specifying a <a href=https://infra.spec.whatwg.org/#scalar-value>Unicode scalar value</a>;
that is, a code point which UTF-8 permits to be encoded.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>U</h-><h- data-h=sym_brac>{</h->30<h- data-h=sym_brac>}</h-></code> generates '<tt->0</tt->' U+0030 DIGIT ZERO.
</p></example-block>

<tip-block><p><intro-></intro-> 
Use of <code><h- data-h=mk_tag>\cowel_char_by_name</h-></code> can lead to much more descriptive,
human-friendly code, compared to <code><h- data-h=mk_tag>\cowel_char_by_num</h-></code>.
</p>
<p>The main issue with <code><h- data-h=mk_tag>\cowel_char_by_num</h-></code> is
that it is very non-descriptive in source code.
It simply contains a handful of digits,
and unless the reader is a Unicode expert who happens to know that sequence,
they cannot easily tell what the purpose of the character is.
</p></tip-block>

<h4 id=dir-cowel_char_get_num><a class=para href=#dir-cowel_char_get_num></a>7.2.4. <code><h- data-h=mk_tag>\cowel_char_get_num</h-></code> — Get digits of character</h4>

<p>The <code><h- data-h=mk_tag>\cowel_char_get_num</h-></code> directive is essentially the
inverse of the <code><h- data-h=mk_tag>\cowel_char_by_num</h-></code> directive.
Its input is also plaintext content.
Rather than producing a code point from a digit sequence,
it produces a digit sequence from its input code point.
</p>
<p>This can be fine-tuned with the following parameters:
</p><dd>
  <dt><tt-><h- data-h=mk_attr>zfill</h-></tt-></dt>
  <dd>
    The minimum amount of digits that should be produced.
    This is an integer argument in range [0, 1024], and defaults to zero.
    If the amount of digits is less than <tt-><h- data-h=mk_attr>zfill</h-></tt->,
    it will be left-padded with additional '<tt->0</tt->' characters.
  </dd>

  <dt><tt-><h- data-h=mk_attr>base</h-></tt-></dt>
  <dd>
    The base of the output digit sequence, in range [2, 16].
    This defaults to 16, meaning that the digits are printed in hexadecimal.
  </dd>

  <dt><tt-><h- data-h=mk_attr>lower</h-></tt-></dt>
  <dd>
    A yes/no plaintext argument, defaulting to <tt->no</tt->.
    If <tt->yes</tt-> is specified, digits beyond '<tt->9</tt->' (i.e. '<tt->A</tt->' to '<tt->F</tt->')
    will be output in lower case instead.
</dd>
</dd>

<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>U+<h- data-h=mk_tag>\cowel_char_get_num</h-><h- data-h=sym_sqr>[</h->4<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><div class=indent>
U+0078
</div>
<p>Note that U+0078 is the usual way in which Unicode code points are represented.
That is, <tt->U+</tt->, followed by at least four hexadecimal digits.
It is also possible to define a macro if we need this frequently:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\code_point</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->U+<h- data-h=mk_tag>\cowel_char_get_num</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\code_point</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\cowel_char_get_num</h-></code> can also be combined with <code><h- data-h=mk_tag>\cowel_char_by_name</h-></code>
to produce human-readable descriptions of code points,
while also keeping our source code readable:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\named_char</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->U+<h- data-h=mk_tag>\cowel_char_get_num</h-><h- data-h=sym_sqr>[</h->4<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\N</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-> <h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\named_char</h-><h- data-h=sym_brac>{</h->SECTION SIGN<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><div class=indent>
U+00A7 SECTION SIGN
</div>
</tip-block>

<p><code><h- data-h=mk_tag>\cowel_char_get_num</h-></code> uses only the first code point within the input text,
even though the entire input text is processed into plaintext.
</p>
<bug-block><p><intro-></intro-> 
If we provide more than a single code point, some input is discarded:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>cowel_char_get_num</h-><h- data-h=sym_brac>{</h->abc<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as
</p><div class=indent>
61
</div>
<p>... which corresponds to <code>a</code>, whereas <code>b</code> and <code>c</code> are discarded.
</p></bug-block>

<h3 id=html-utilities><a class=para href=#html-utilities></a>7.3. HTML utilities</h3>

<h4 id=dir-cowel_html_element><a class=para href=#dir-cowel_html_element></a>7.3.1. <code><h- data-h=mk_tag>\cowel_html_element</h-></code> — HTML element</h4>

<p>The <code><h- data-h=mk_tag>\cowel_html_element</h-></code> directive generates content,
surrounded in HTML opening and closing HTML tags.
That is, it
</p>
<ul>
  <li>
    writes an opening tag,
    where any named arguments are converted to HTML attributes,
  </li>
  <li>
    feeds the provided content into the current content policy, and then
  </li>
  <li>
    writes a closing tag.
  </li>
</ul>

<p>The name of the HTML tag is provided
as the first positional argument to the directive.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>This is <h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->span<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h->abc<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->a span<h- data-h=sym_brac>}</h->.</code-block>
<p>Generated HTML:
</p><code-block>This is <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>span</h-> <h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h-><h- data-h=str>abc</h-><h- data-h=sym_punc>&gt;</h->a span<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>span</h-><h- data-h=sym_punc>&gt;</h->.</code-block>
</example-block>

<p>A <code><h- data-h=mk_tag>\cowel_html_element</h-></code> directive produces an error if the given
tag name is not a valid HTML tag name, or
if any of the argument names are invalid.
</p>
<h4 id=dir-cowel_html_self_closing_element><a class=para href=#dir-cowel_html_self_closing_element></a>7.3.2. <code><h- data-h=mk_tag>\cowel_html_self_closing_element</h-></code> — Self-closing HTML element</h4>

<p>The <code><h- data-h=mk_tag>\cowel_html_self_closing_element</h-></code> directive generates a self-closing HTML element.
That is, an element with no content,
and where there is no closing tag.
Content is ignored.
</p>
<p>The name of the tag is provided as the first positional argument,
and any named arguments are converted to attributes of the tag.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>Horizontal rule:
<h- data-h=mk_tag>\cowel_html_self_closing_element</h-><h- data-h=sym_sqr>[</h->hr<h- data-h=sym_punc>,</h-> <h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h->abc<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->ignored<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block>Horizontal rule:
<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>hr</h-> <h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h-><h- data-h=str>abc</h-> <h- data-h=sym_punc>/&gt;</h-></code-block>
</example-block>

<h3 id=new-content-policies><a class=para href=#new-content-policies></a>7.4. Content policies</h3>

<p>As explained in <a href=#contexts-and-output>§5.1. Content policies</a>,
all content within the document and produced by directives is fed into a content policy,
which, in turn, feeds content into some parent content policy.
</p>
<p>The table below lists directives which process content using some content policy.
</p>
<div class=indent>
<table>
  <tr>
    <th>Directive</th>
    <th>Content policy</th>
    <th>Notes</th>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_to_html</h-></code></td>
    <td>HTML policy</td>
    <td></td>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_highlight</h-></code></td>
    <td>highlight policy</td>
    <td>see <a href=#dir-cowel_highlight>§7.5.1. <code><h- data-h=mk_tag>\cowel_highlight</h-></code> — Perform syntax highlighting</a></td>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_paragraphs</h-></code></td>
    <td>paragraphs policy</td>
    <td>see <a href=#dir-cowel_paragraphs>§7.6.1. <code><h- data-h=mk_tag>\cowel_paragraphs</h-></code> — Perform paragraph splitting</a></td>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_no_invoke</h-></code></td>
    <td>no-invoke policy</td>
    <td></td>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_text_only</h-></code></td>
    <td>text-only policy</td>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_text_as_html</h-></code></td>
    <td>text-as-html policy</td>
  </tr>
  <tr>
    <td><code><h- data-h=mk_tag>\cowel_source_as_text</h-></code></td>
    <td>source-as-text policy</td>
  </tr>
</table>
</div>

<h4 id=dir-cowel_to_html><a class=para href=#dir-cowel_to_html></a>7.4.1. <code><h- data-h=mk_tag>\cowel_to_html</h-></code> — Process with to-HTML policy</h4>

<p><code><h- data-h=mk_tag>\cowel_to_html</h-></code> simply processes the provided content using the to-HTML policy.
All arguments are ignored.
</p>
<p>The purpose of this policy/directive is mainly to
feed its parent policy pure HTML content,
rather than a mixture of plaintext and HTML.
This also suppresses paragraph splitting, syntax highlighting,
and other such "special treatments" of plaintext,
since none of those operate on HTML.
</p>
<example-block><p><intro-></intro-> 
Since HTML is not syntax-highlighted,
we can insert special characters like U+00AD SOFT HYPHEN
into code snippets, without interfering with syntax highlighting:
</p><code-block>Use of
<h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->code<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
<h- data-h=mk_tag>\cowel_highlight</h-><h- data-h=sym_sqr>[</h->cpp<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->reinterpret_<h- data-h=esc>\</h->
<h- data-h=mk_tag>\cowel_to_html</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\cowel_char_by_name</h-><h- data-h=sym_brac>{</h->SOFT HYPHEN<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-><h- data-h=esc>\</h->
cast<h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h->
is discouraged.</code-block>

<p>This renders as:
</p><div class=indent>
Use of
<code><h- data-h=kw>reinterpret_cast</h-></code> is discouraged.
</div>
<p>Or, if line wrapping takes place in the middle of the highlighted keyword,
it renders as:
</p><div class=indent>
Use of
<tt-><h- data-h=kw>reinterpret_</h->-<br/>
<h- data-h=kw>cast</h-></tt-> is discouraged.
</div>
</example-block>

<h4 id=dir-cowel_no_invoke><a class=para href=#dir-cowel_no_invoke></a>7.4.2. <code><h- data-h=mk_tag>\cowel_no_invoke</h-></code> — Process with no-invoke policy</h4>

<p><code><h- data-h=mk_tag>\cowel_no_invoke</h-></code> processes the provided content
using the no-invoke policy.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\cowel_no_invoke</h-><h- data-h=sym_brac>{</h->Undefined directive: <h- data-h=mk_tag>\awoo</h-><h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block>Undefined directive: \awoo</code-block>
<p>Under the no-invoke policy selected by <code>no_invoke</code>,
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>awoo</h-></code> is not invoked,
but its source code is fed into the current policy as plaintext.
This is particularly useful when writing code blocks
which contain character escapes (e.g. containing <code><h- data-h=str_dlim>"</h-><h- data-h=esc>\</h-><h- data-h=esc>n</h-><h- data-h=str_dlim>"</h-></code> in C++)
because such escapes should not treated as COWEL directives.
</p></example-block>

<note-block><p><intro-></intro-> 
COWEL comments and COWEL escape sequences are processed as usual.
That is, comments are ignored, and escapes are expanded.
</p></note-block>

<h4 id=dir-cowel_text_only><a class=para href=#dir-cowel_text_only></a>7.4.3. <code><h- data-h=mk_tag>\cowel_text_only</h-></code> — Process with text-only policy</h4>

<p><code><h- data-h=mk_tag>\cowel_text_only</h-></code> processes the provided content
using the text-only policy.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>Hello, <h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->strong<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->strong<h- data-h=sym_brac>}</h-> world!
<h- data-h=mk_tag>\cowel_text_only</h-><h- data-h=sym_brac>{</h->Hello, <h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->strong<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->strong<h- data-h=sym_brac>}</h-> world!<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block>Hello, <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h->strong<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h-> world!
Hello, strong world!</code-block>
<p>As can be seen, only plaintext "makes it through",
whereas HTML is stripped.
</p></example-block>

<note-block><p><intro-></intro-> 
This policy is used internally when processing arguments in various places,
such as in the <code>strong</code> positional argument to
<code><h- data-h=mk_tag>\cowel_html_element</h-></code> in the example above.
</p>
<p>It is mainly useful in situations where it makes no sense to have non-plaintext content.
</p></note-block>

<h4 id=dir-cowel_text_as_html><a class=para href=#dir-cowel_text_as_html></a>7.4.4. <code><h- data-h=mk_tag>\cowel_text_as_html</h-></code> — Process with text-as-HTML policy</h4>

<p><code><h- data-h=mk_tag>\cowel_no_invoke</h-></code> processes the provided content
using the text-as-HTML policy.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\cowel_text_as_html</h-><h- data-h=sym_brac>{</h->Hello, &lt;strong&gt;strong&lt;/strong&gt; world!<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block>Hello, <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h->strong<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h-> world!</code-block>
<p>As can be seen, the provided text is reinterpreted as HTML.
</p></example-block>

<warning-block><p><intro-></intro-> 
This directive should be used with great caution
because it can easily result in producing malformed HTML.
While there are legitimate uses (e.g. inline SVG images and other large HTML blocks),
<code><h- data-h=mk_tag>\cowel_html_element</h-></code> and other safer directives should be preferred.
</p></warning-block>

<h4 id=dir-cowel_source_as_text><a class=para href=#dir-cowel_source_as_text></a>7.4.5. <code><h- data-h=mk_tag>\cowel_source_as_text</h-></code> — Process with source-as-text policy</h4>

<p><code><h- data-h=mk_tag>\cowel_no_invoke</h-></code> processes the provided content
using the source-as-text policy.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\cowel_source_as_text</h-><h- data-h=sym_brac>{</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Comment ...</h->
Hello <h- data-h=mk_tag>\source_as_text</h-> <h- data-h=esc>\{</h-> ... <h- data-h=esc>\}</h->
<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block>\: Comment ...
Hello \source_as_text \{ ... \}</code-block>
</example-block>

<note-block><p><intro-></intro-> 
This directive is mainly useful for writing COWEL code blocks,
where all content within is treated literally, including comments.
</p>
<p>It can be seen as a more extreme form of <code><h- data-h=mk_tag>\cowel_no_invoke</h-></code>,
and is more niche in its applications.
</p></note-block>

<h3 id=new-syntax-highlighting><a class=para href=#new-syntax-highlighting></a>7.5. Syntax highlighting</h3>

<p>Syntax highlighting improves the readability of inline code and code snippets
by applying different formatting (usually colors)
based on the syntactical meaning of text.
Many examples can be found in this document.
</p>
<h4 id=dir-cowel_highlight><a class=para href=#dir-cowel_highlight></a>7.5.1. <code><h- data-h=mk_tag>\cowel_highlight</h-></code> — Perform syntax highlighting</h4>

<p>The <code><h- data-h=mk_tag>\cowel_highlight</h-></code>
processes content using the highlight policy,
which wraps parts of code in HTML tags for the purpose of syntax highlighting.
</p>
<p><code><h- data-h=mk_tag>\cowel_highlight</h-></code> has a single <tt-><h- data-h=mk_attr>lang</h-></tt-> parameter.
This specifies the name of language (e.g. <tt->cowel</tt->)
in which the content is to be highlighted.
The name has to be one of the language short names
supported by the <a href=https://github.com/Eisenwave/ulight>µlight syntax highlighter</a>,
which is the highlighter that COWEL uses internally.
</p>
<h4 id=dir-cowel_highlight_as><a class=para href=#dir-cowel_highlight_as></a>7.5.2. <code><h- data-h=mk_tag>\cowel_highlight_as</h-></code> — Syntax highlight override</h4>

<p>The <code><h- data-h=mk_tag>\cowel_highlight_as</h-></code> directive forces certain syntax highlighting
to be applied to some text;
it is a manual override for when automatic syntax highlighting is insufficient or broken.
This is done by wrapping the given content in HTML tags for syntax highlighting
and feeding the provided content, converted to HTML into the surrounding policy,
so it is not subject to automatic highlighting.
</p>
<p><code><h- data-h=mk_tag>\cowel_highlight_as</h-></code> has a single <tt-><h- data-h=mk_attr>name</h-></tt-> parameter,
which is the µlight <dfn>long name</dfn> for a highlight type.
</p>
<tip-block><p><intro-></intro-> 
You can obtain a list of possible long names at
<a href=https://github.com/Eisenwave/ulight/blob/main/include/ulight/ulight.h><tt->ulight.h</tt-></a>
from the definition of <code><h- data-h=kw>enum</h-> <h- data-h=id>ulight_highlight_type</h-></code>.
The long name is the enumerator name without the <tt->ULIGHT_HL</tt-> prefix,
all lowercase, and with hyphens instead of underscores.
</p></tip-block>

<example-block><p><intro-></intro-> 
It is possible to mix automatic syntax highlighting with manual overrides:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> _Int128 is manually highlighted as a type keyword,</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> and x is automatically highlighted as an identifier.</h->
<h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->code<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=esc>\</h->
<h- data-h=mk_tag>\cowel_highlight</h-><h- data-h=sym_sqr>[</h->c<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\cowel_highlight_as</h-><h- data-h=sym_sqr>[</h->keyword-type<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->_Int128<h- data-h=sym_brac>}</h-> x<h- data-h=sym_brac>}</h-><h- data-h=esc>\</h->
<h- data-h=sym_brac>}</h-></code-block>
<p>This generates the HTML (subject to change):
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>h-</h-> <h- data-h=mk_attr>data-h</h-><h- data-h=sym_punc>=</h-><h- data-h=str>kw_type</h-><h- data-h=sym_punc>&gt;</h->_Int128<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>h-</h-><h- data-h=sym_punc>&gt;</h-> <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>h-</h-> <h- data-h=mk_attr>data-h</h-><h- data-h=sym_punc>=</h-><h- data-h=str>id</h-><h- data-h=sym_punc>&gt;</h->x<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>h-</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code-block>
<p>It renders as <code><h- data-h=kw_type>_Int128</h-> <h- data-h=id>x</h-></code>.
</p></example-block>

<note-block><p><intro-></intro-> 
While it is also possible to produce the highlighting tags using
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>cowel_html_element</h-><h- data-h=sym_sqr>[</h->h-<h- data-h=sym_punc>,</h-><h- data-h=mk_attr>data-h</h-><h- data-h=sym_punc>=</h->kw_type<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->_Int128<h- data-h=sym_brac>}</h-></code>,
the "short names" (e.g. <code>kw_type</code>) are not stable,
i.e. they are more likely to change.
Only µlight long names should be used directly.
</p></note-block>

<h4 id=dir-cowel_highlight_phantom><a class=para href=#dir-cowel_highlight_phantom></a>7.5.3. <code><h- data-h=mk_tag>\cowel_highlight_phantom</h-></code> — Syntax highlight phantom text</h4>

<p>The <code><h- data-h=mk_tag>\cowel_highlight_phantom</h-></code> directive
can be used to further customize syntax highlighting.
It outputs <dfn>phantom text</dfn>, which is fed into the syntax highlighter,
but is not part of the output content.
</p>
<p>The provided content is processed using a text-only policy (<a href=#contexts-and-output>§5.1. Content policies</a>).
If the current policy is a highlight policy,
the text output by the former is turned into phantom text within the latter.
Otherwise, the generated text is discarded.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
Using <code><h- data-h=mk_tag>\cowel_highlight_phantom</h-></code>,
we can control whether a JSON string is interpreted as a markup key,
or as a string value:
</p><code-block>In JSON, there are
<h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->code<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\cowel_highlight</h-><h- data-h=sym_sqr>[</h->json<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\cowel_highlight_phantom</h-><h- data-h=sym_brac>{</h-><h- data-h=esc>\{</h-><h- data-h=sym_brac>}</h->"keys"<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
and
<h- data-h=mk_tag>\cowel_html_element</h-><h- data-h=sym_sqr>[</h->code<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\cowel_highlight</h-><h- data-h=sym_sqr>[</h->json<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->"values"<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->.
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Note that this is low-level functionality intended to power macros like:</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt>   \code[json,prefix=\{]{"keys"}</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> or</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt>   \json_key{"keys"}</h-></code-block>
<p>Using the highlight theme of this document, this renders as:
</p><div class=indent>
In JSON, there are <code><h- data-h=mk_attr>"keys"</h-></code> and <code><h- data-h=str_dlim>"</h-><h- data-h=str>values</h-><h- data-h=str_dlim>"</h-></code>.
</div>
<p>Notice that the color of <code><h- data-h=mk_attr>"keys"</h-></code> is different because it is highlighted
as if it was positioned like:
</p><code-block><h- data-h=sym_brac>{</h-><h- data-h=mk_attr>"keys"</h-></code-block>
</example-block>

<h3 id=new-paragraph-control><a class=para href=#new-paragraph-control></a>7.6. Paragraph control</h3>

<p>Dividing content into paragraphs manually would take a huge amount of effort,
so COWEL provides means of doing so semi-automatically.
Text within in a paragraphs policy (<a href=#contexts-and-output>§5.1. Content policies</a>)
is automatically wrapped in paragraphs (<code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code>),
divided at blank lines.
</p>
<p>While content expanded from macros and from <code><h- data-h=mk_tag>\cowel_include</h-></code>
is fed into the surrounding content policy
(which may be a paragraphs policy) directly,
directives are generally treated as "black boxes"
for the purpose of paragraph splitting,
and they neither begin nor end a paragraph.
The following paragraph control directives define interactions
between paragraph splitting and directives.
</p>
<h4 id=dir-cowel_paragraphs><a class=para href=#dir-cowel_paragraphs></a>7.6.1. <code><h- data-h=mk_tag>\cowel_paragraphs</h-></code> — Perform paragraph splitting</h4>

<p>The <code><h- data-h=mk_tag>\cowel_paragraphs</h-></code> directive
creates a paragraphs policy (<a href=#contexts-and-output>§5.1. Content policies</a>)
and feeds all provided content into that policy.
The beginning and end of the provided content are considered to be outside a paragraph.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\cowel_paragraphs</h-><h- data-h=sym_brac>{</h->
First paragraph.

Second paragraph.
<h- data-h=sym_brac>}</h-></code-block>

<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->First paragraph.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Second paragraph.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<note-block><p><intro-></intro-> 
At a top-level within the document,
paragraph splitting takes place implicitly,
as if the whole document was wrapped in <code><h- data-h=mk_tag>\cowel_paragraphs</h-></code>.
</p>
<p>However, this does not extend recursively,
so if one wants to have paragraph splitting inside say,
<code><h- data-h=mk_tag>\cowel_html_­element</h-></code>,
<code><h- data-h=mk_tag>\cowel_paragraphs</h-></code> has to be used.
</p></note-block>

<h4 id=dir-cowel_paragraph_enter><a class=para href=#dir-cowel_paragraph_enter></a>7.6.2. <code><h- data-h=mk_tag>\cowel_paragraph_enter</h-></code> — Enter a paragraph</h4>

<p>If the current content policy is a paragraphs policy and
and the paragraph state is "outside",
the paragraph state becomes "inside",
and a <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code> tag is emitted.
Otherwise, has no effect.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup, assuming a surrounding paragraphs policy:
</p><code-block><h- data-h=mk_tag>\cowel_char_by_name</h-><h- data-h=sym_brac>{</h->DIGIT ONE<h- data-h=sym_brac>}</h->. First paragraph

<h- data-h=mk_tag>\cowel_paragraph_enter</h-><h- data-h=mk_tag>\cowel_char_by_name</h-><h- data-h=sym_brac>{</h->DIGIT TWO<h- data-h=sym_brac>}</h->. Second paragraph</code-block>

<p>Generated HTML:
</p><code-block>1<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->. First paragraph<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->2. Second paragraph<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code-block>

<p>As explained, directives are "black boxes" for paragraph splitting,
so when the paragraphs policy processes <code><h- data-h=mk_tag>\cowel_char_by_name</h-></code>,
it does not automatically begin a paragraph.
</p></example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\cowel_paragraph_enter</h-></code> should rarely be used directly,
but from within macros.
</p>
<p>For example, the user can define an <code><h- data-h=mk_tag>\N</h-></code> directive which combines
<code><h- data-h=mk_tag>\cowel_para­graph_enter</h-></code> and <code><h- data-h=mk_tag>\cowel_­char_by_name</h-></code>.
</p></tip-block>

<h4 id=dir-cowel_paragraph_leave><a class=para href=#dir-cowel_paragraph_leave></a>7.6.3. <code><h- data-h=mk_tag>\cowel_paragraph_leave</h-></code> — Leave a paragraph</h4>

<p>If the current content policy is a paragraphs policy and
and the paragraph state is "inside",
the paragraph state becomes "outside",
and a closing <code><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code> tag is emitted.
Otherwise, has no effect.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
COWEL markup, assuming a surrounding paragraphs policy:
</p><code-block>Paragraph 1:
<h- data-h=mk_tag>\cowel_html_self_closing_element</h-><h- data-h=sym_sqr>[</h->hr<h- data-h=sym_sqr>]</h->

Paragraph 2:
<h- data-h=mk_tag>\cowel_paragraph_leave</h-><h- data-h=mk_tag>\cowel_html_self_closing_element</h-><h- data-h=sym_sqr>[</h->hr<h- data-h=sym_sqr>]</h-></code-block>

<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Paragraph 1:
<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>hr</h-><h- data-h=sym_punc>/&gt;</h-><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Paragraph 2:
<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>hr</h-><h- data-h=sym_punc>/&gt;</h-></code-block>

<p>As explained, directives are "black boxes" for paragraph splitting,
so when the paragraphs policy processes <code><h- data-h=mk_tag>\cowel_html_self_closing_element</h-></code>,
it does not automatically leave a paragraph.
This would be necessary because horizontal rules (<code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>hr</h-><h- data-h=sym_punc>/&gt;</h-></code>)
are not supposed to be inside a paragraph.
</p></example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\cowel_paragraph_leave</h-></code> should rarely be used directly,
but from within macros.
</p>
<p>For example, the user can define a <code><h- data-h=mk_tag>\hr</h-></code> directive which combines
<code><h- data-h=mk_tag>\cowel_para­graph_leave</h-></code> and
<code><h- data-h=mk_tag>\cowel_­html_self_closing_element</h-></code>.
</p></tip-block>

<h4 id=dir-cowel_paragraph_inherit><a class=para href=#dir-cowel_paragraph_inherit></a>7.6.4. <code><h- data-h=mk_tag>\cowel_paragraph_inherit</h-></code> — Activate paragraph splitting inside a directive</h4>

<important-block><p><intro-></intro-> 
There is no support for programmatic directives yet,
so this directive is currently useless.
There are plans to add a WASM scripting API from which
<code><h- data-h=mk_tag>\cowel_paragraph_inherit</h-></code> may be used to alter behavior.
</p></important-block>

<p>As already stated,
paragraph splitting generally treats directives as "black boxes".
However, content expanded from <code><h- data-h=mk_tag>\cowel_include</h-></code> and macros
<dfn>inherits</dfn> the surrounding paragraph for splitting,
i.e. any content produced by such directives is fed directly into the paragraphs policy.
<code><h- data-h=mk_tag>\cowel_paragraph_inherit</h-></code> can be used inside programmatic directives
defined by the user to achieve the same behavior.
</p>
<h3 id=new-file-management><a class=para href=#new-file-management></a>7.7. File management</h3>

<p>Once projects get larger,
it often becomes difficult to manage everything in a single file.
Also, tooling may benefit from having separate files.
For example, keeping separate SVG files
or CSS files may have better IDE support than writing these out directly inside of COWEL.
</p>
<p>COWEL provides directives to load content from other files.
</p>
<h4 id=dir-cowel_include><a class=para href=#dir-cowel_include></a>7.7.1. <code><h- data-h=mk_tag>\cowel_include</h-></code> — Include a sub-document</h4>

<p>The <code><h- data-h=mk_tag>\cowel_include</h-></code> directive loads the content from another COWEL document,
and processes it using the current content policy.
The path to the document is provided as content to <code><h- data-h=mk_tag>\cowel_include</h-></code>,
and is assumed to be relative to the current file.
All arguments are ignored.
</p>
<p>If the current content policy is a paragraphs policy (<a href=#contexts-and-output>§5.1. Content policies</a>),
paragraph splitting of the included sub-document takes place
as if its contents were expanded directly where <code><h- data-h=mk_tag>\cowel_include</h-></code> appears.
In other words, <code><h- data-h=mk_tag>\cowel_include</h-></code> inherits the paragraph context,
or is <em>not</em> a "black box" to paragraph splitting.
</p>
<example-block><p><intro-></intro-> 
Say we have another <tt->test.cow</tt-> files containing:
</p><code-block>Hello, includes!

Next paragraph.</code-block>
<p>When using <code><h- data-h=mk_tag>\cowel_include</h-></code>,
the contents of the other file are substituted where we have written <code><h- data-h=mk_tag>\cowel_include</h-></code>,
which means that imported content also plays nicely with paragraph splitting:
</p><code-block>First paragraph.
<h- data-h=mk_tag>\cowel_include</h-><h- data-h=sym_brac>{</h->test.cow<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->First paragraph.
Hello, includes!<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Next paragraph.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<tip-block><p><intro-></intro-> 
It is common practice to collect macros and other reusable components in separate documents,
and to <code><h- data-h=mk_tag>\cowel_include</h-></code> them when needed.
This can help you avoid copying boilerplate between multiple documents.
</p>
<p>It is also common to split documents into multiple files that are combined using a sequence
of <code><h- data-h=mk_tag>\cowel_include</h-></code>s.
</p></tip-block>

<h4 id=dir-cowel_include_text><a class=para href=#dir-cowel_include_text></a>7.7.2. <code><h- data-h=mk_tag>\cowel_include_text</h-></code> — Include text from a file</h4>

<p>The <code><h- data-h=mk_tag>\cowel_include_text</h-></code> directive reads the UTF-8 text contents of another file
and feeds that text into the current content policy.
The path to the document is provided as content to <code><h- data-h=mk_tag>\cowel_include_text</h-></code>,
and is assumed to be relative to the current file.
All arguments are ignored.
</p>
<example-block><p><intro-></intro-> 
Say we have a JavaScript file <tt->example.js</tt-> which we want to keep separate from the document.
We can then include it into a <code><h- data-h=mk_tag>\script</h-></code> block to use it as a script,
or we can include it into a <code><h- data-h=mk_tag>\codeblock</h-></code> to display its contents.
</p><code-block><h- data-h=mk_tag>\codeblock</h-><h- data-h=sym_sqr>[</h->js<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
// code included from example.js:
<h- data-h=mk_tag>\cowel_include_text</h-><h- data-h=sym_brac>{</h->example.js<h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-></code-block>
<p>Assuming that <tt->example.js</tt-> is located in the same directory as the document
and that loading the file succeeds,
this renders as: 
</p><code-block><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> code included from example.js:</h->
<h- data-h=kw>function</h-> <h- data-h=id>sqr</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>*</h-> <h- data-h=id>x</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<note-block><p><intro-></intro-> 
While <code><h- data-h=mk_tag>\cowel_include</h-></code> and <code><h- data-h=mk_tag>\cowel_include_text</h-></code> are similar,
there are some stark differences:
</p><ul>
  <li>
    <code><h- data-h=mk_tag>\cowel_include</h-></code> is used for COWEL documents,
    while <code><h- data-h=mk_tag>\cowel_include_text</h-></code> is used for anything else.
  </li>
  <li>
    <code><h- data-h=mk_tag>\cowel_include</h-></code> doesn't just load the text from another file,
    but parses it and ensures that the contents are a valid COWEL document.
  </li>
  <li>
    <code><h- data-h=mk_tag>\cowel_include</h-></code> feeds content from another document
    piece by pice into the current content policy.
    <code><h- data-h=mk_tag>\cowel_include_text</h-></code> reads text
    and feeds it all in a single block to the content policy.
  </li>
</ul>
</note-block>

<h3 id=new-aliases><a class=para href=#new-aliases></a>7.8. Aliases</h3>

<h4 id=dir-cowel_alias><a class=para href=#dir-cowel_alias></a>7.8.1. <code><h- data-h=mk_tag>\cowel_alias</h-></code> — Define aliases for an existing directive</h4>

<p>The <code><h- data-h=mk_tag>\cowel_alias</h-></code> directive defines one or more aliases for an existing directive.
The content of <code><h- data-h=mk_tag>\cowel_alias</h-></code> is converted to text,
and must be the name of an existing directive or directive alias.
Each positional argument is converted to text,
and results in the definition of a new directive alias.
After processing <code><h- data-h=mk_tag>\cowel_alias</h-></code>,
the target can also be invoked using the alias name.
Named arguments are ignored.
</p>
<p>A fatal error is raised if
</p><ul>
  <li>generation of the alias or target names is erroneous,</li>
  <li>the target name or any of the alias names are empty,</li>
  <li>the target name or any of the alias names are not valid directive names,</li>
  <li>the target was not found, or</li>
  <li>an alias name matches the name of an existing macro or alias.</li>
</ul>

<example-block><p><intro-></intro-> 
One or multiple aliases can be defined as follows:
</p><code-block><h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_sqr>[</h->N<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->cowel_char_by_name<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\N</h-><h- data-h=sym_brac>{</h->DIGIT ZERO<h- data-h=sym_brac>}</h->              <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK, equivalent to \cowel_char_by_name{DIGIT ZERO}</h->

<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_sqr>[</h->incl<h- data-h=sym_punc>,</h-> include<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->cowel_include<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\incl</h-><h- data-h=sym_brac>{</h->file.cow<h- data-h=sym_brac>}</h->             <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK, equivalent to \cowel_include{file.cow}</h->
<h- data-h=mk_tag>\include</h-><h- data-h=sym_brac>{</h->file.cow<h- data-h=sym_brac>}</h->          <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK, same</h->

<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_brac>{</h->cowel_to_html<h- data-h=sym_brac>}</h-> <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> OK, but no effect</h->

<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\N</h-><h- data-h=sym_brac>{</h->???<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->        <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> error: generation of target name failed</h->
<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_brac>{</h->??<h- data-h=sym_brac>}</h->             <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> error: invalid target name</h->
<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_brac>{</h->undefined<h- data-h=sym_brac>}</h->      <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> error: target not found</h->
<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_sqr>[</h->?<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->cowel_alias<h- data-h=sym_brac>}</h-> <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> error: invalid alias name</h->
<h- data-h=mk_tag>\cowel_alias</h-><h- data-h=sym_sqr>[</h->N<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->N<h- data-h=sym_brac>}</h->           <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> error: redefinition of N</h-></code-block>
</example-block>

<h3 id=new-invocations><a class=para href=#new-invocations></a>7.9. Invocations</h3>

<h4 id=dir-cowel_invoke><a class=para href=#dir-cowel_invoke></a>7.9.1. <code><h- data-h=mk_tag>\cowel_invoke</h-></code> — Invoke a directive</h4>

<p>The <code><h- data-h=mk_tag>\cowel_invoke</h-></code> directive invokes a directive by name.
This process is called a <dfn>dynamic invocation</dfn>.
Most invocations are <dfn>static invocations</dfn>.
</p>
<p>The name of the invoked directive is provided as the first positional argument.
All other arguments are ignored.
The content provided to <code><h- data-h=mk_tag>\cowel_invoke</h-></code>
is the content provided to the invoked directive.
</p>
<example-block><p><intro-></intro-> 
Any directive <code><h- data-h=mk_tag>\abc</h-></code> can be invoked statically or dynamically:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Static invocation of directive named "abc".</h->
<h- data-h=mk_tag>\abc</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Static invocation of directive named "cowel_invoke",</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> which performs an equivalent dynamic invocation of "abc".</h->
<h- data-h=mk_tag>\cowel_invoke</h-><h- data-h=sym_sqr>[</h->abc<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<todo-block><p><intro-></intro-> 
It is also planned to allow providing arguments to the invoked directive,
but it may be better to add "argument groups" to the syntax first,
so that they can be bundled up in an <tt-><h- data-h=mk_attr>args</h-></tt-> group.
To avoid changing how <code><h- data-h=mk_tag>\cowel_invoke</h-></code> works in the future,
argument forwarding is not supported at all right now.
</p></todo-block>

<h2 id=legacy-directives><a class=para href=#legacy-directives></a>8. Legacy directives</h2>

<warning-block><p><intro-></intro-> 
The following builtin directives are all considered deprecated,
but not all have a suitable replacement yet.
These directives were created during the first iteration of COWEL,
before plans were made to create a small set of builtin directives,
with macro packages that provide additional functionality.
</p>
<p>The documentation for these directives is not actively maintained.
</p></warning-block>

<h3 id=comments><a class=para href=#comments></a>8.1. Comments</h3>

<p>In addition to the <code><h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>:</h-></code> syntax for single-line comments,
there exists a <code><h- data-h=mk_tag>\comment</h-></code> directive which
discards all of its contents.
This can be used for multi-line comments.
</p>
<h4 id=dir-comment><a class=para href=#dir-comment></a>8.1.1. <code><h- data-h=mk_tag>\comment</h-></code> — Comments</h4>

<p>The <code><h- data-h=mk_tag>\comment</h-></code> directive does not process its arguments or content.
It outputs no plaintext or HTML.
</p>
<example-block><p><intro-></intro-> 
While comments don't output anything,
<a href=#paragraph-splitting>§4.5. Paragraph splitting</a> is based on blank lines in the source,
so comments don't split paragraphs:
</p><code-block>Text
<h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>comment{</h-><h- data-h=cmt>This is </h-><h- data-h=cmt>\</h-><h- data-h=cmt>directive{comment} content.</h-><h- data-h=cmt_dlim>}</h->
Text</code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Text

Text<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>
<h3 id=text-formatting><a class=para href=#text-formatting></a>8.2. Text formatting</h3>

<p>COWEL allows for basic text formatting using various directives.
Many of the formatting directives are some direct equivalent of an HTML element.
For these, there is a fixed HTML element that will always be used.
You can rely on this when adding custom CSS.
</p>
<table>
<tr>
    <th>Directive</th>
    <th>HTML</th>
    <th>Renders as</th>
</tr>
<tr id=dir-b>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><b>Bold text</b></td>
</tr>
<tr id=dir-cite>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>cite</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>cite</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>cite</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><cite>Name of cited work</cite></td>
</tr>
<tr id=dir-del>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>del</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>del</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>del</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><del>Deleted text</del></td>
</tr>
<tr id=dir-dfn>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>dfn</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>dfn</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>dfn</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><dfn>Definition</dfn></td>
</tr>
<tr id=dir-em>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>em</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>em</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>em</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><em>Emphasized text</em></td>
</tr>
<tr id=dir-gterm>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>gterm</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><i>unspecified</i></td>
    <td><g-term>grammar-term</g-term></td>
</tr>
<tr id=dir-i>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>i</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>i</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>i</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><i>Italic text</i></td>
</tr>
<tr id=dir-ins>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ins</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>ins</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>ins</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><ins>Inserted text</ins></td>
</tr>
<tr id=dir-kbd>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>kbd</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>kbd</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>kbd</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><kbd>Ctrl</kbd> + <kbd>Keyboard key</kbd></td>
</tr>
<tr id=dir-mark>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mark</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>mark</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>mark</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><mark>Marked/highlighted</mark></td>
</tr>
<tr id=dir-o>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>o</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><i>unspecified</i></td>
    <td><span class=oblique>Oblique text</span></td>
</tr>
<tr id=dir-q>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>q</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>q</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>q</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><q>Quoted text</q></td>
</tr>
<tr id=dir-s>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>s</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>s</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>s</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><s>Struck text</s></td>
</tr>
<tr id=dir-samp>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>samp</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>samp</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>samp</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><samp>Sample output</samp></td>
</tr>
<tr id=dir-sans>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>sans</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><i>unspecified</i></td>
    <td><f-sans>Sans-serif font</f-sans></td>
</tr>
<tr id=dir-serif>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>serif</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><i>unspecified</i></td>
    <td><f-serif>Serif font</f-serif></td>
</tr>
<tr id=dir-small>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>small</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>small</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>small</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><sub>Small text</sub></td>
</tr>
<tr id=dir-span>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>span</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>span</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>span</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td>(No change in formatting)</td>
</tr>
<tr id=dir-sub>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>sub</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>sub</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>sub</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><sub>Subscript</sub></td>
</tr>
<tr id=dir-sup>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>sup</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>sup</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>sup</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><sup>Superscript</sup></td>
</tr>
<tr id=dir-strong>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><b>Strong text</b></td>
</tr>
<tr id=dir-tt>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>tt</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><i>unspecified</i></td>
    <td><tt->Teletype/monospace font</tt-></td>
</tr>
<tr id=dir-var>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>var</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>var</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>var</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><var>Variable name</var></td>
</tr>
<tr id=dir-u>
    <td><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>u</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code></td>
    <td><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>u</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>u</h-><h- data-h=sym_punc>&gt;</h-></code></td>
    <td><u>Underlined text</u></td>
</tr>
</table>

<p>All such <dfn>formatting directives</dfn>
convert all named arguments directly into HTML attributes.
</p>
<note-block><p><intro-></intro-> 
By default, a substantial amount of directives are styled the same way.
For example, <code><h- data-h=mk_tag>\cite</h-></code>, <code><h- data-h=mk_tag>\var</h-></code>, <code><h- data-h=mk_tag>\i</h-></code> and <code><h- data-h=mk_tag>\em</h-></code> are all italic.
Both <code><h- data-h=mk_tag>\strong</h-></code> and <code><h- data-h=mk_tag>\b</h-></code> are bold.
Both <code><h- data-h=mk_tag>\tt</h-></code> and <code><h- data-h=mk_tag>\samp</h-></code> use teletype font.
</p>
<p>However, you can customize the style; see <a href=#dir-style>§8.13.6. <code><h- data-h=mk_tag>\style</h-></code> — CSS blocks</a>.
</p></note-block>

<note-block><p><intro-></intro-> 
The difference between oblique (<code><h- data-h=mk_tag>\o</h-></code>) and italic (<code><h- data-h=mk_tag>\i</h-></code>) text
is that oblique text is merely slanted,
while italic text is fundamentally a different font with different characters.
</p></note-block>
<h3 id=code><a class=para href=#code></a>8.3. Code and syntax highlighting</h3>

<p>COWEL uses
<a href=https://github.com/Eisenwave/ulight>µlight</a>
for syntax highlighting.
While the set of supported language is relatively small,
the highlighter is ultra-light, extremely fast, and
deals with modern C++ features correctly.
</p>
<h4 id=dir-code><a class=para href=#dir-code></a>8.3.1. <code><h- data-h=mk_tag>\code</h-></code> — Inline code</h4>

<p>The <code><h- data-h=mk_tag>\code</h-></code> directive produced syntax-highlighted text in code font.
</p>
<dl>
<dt>Arguments</dt>
<dd>
<ul>
<li><tt-><h- data-h=mk_attr>lang</h-></tt-> (plaintext) — the syntax highlighting language.</li>
<li><tt-><h- data-h=mk_attr>nested</h-></tt-> (yes/no) — whether whether to omit <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code> tags.</li>
<li><tt-><h- data-h=mk_attr>prefix</h-></tt-> (plaintext) — code before the input from the view of the highlighter.</li>
<li><tt-><h- data-h=mk_attr>suffix</h-></tt-> (plaintext) — code after input from the view of the highlighter.</li>
</ul>
</dd>

<dt>Input content</dt>
<dd>
The input to a <code><h- data-h=mk_tag>\code</h-></code> directive is a plaintext context.
However, there are special rules for formatting directives
and pure plaintext directives (see below).
</dd>

<dt>HTML output</dt>
<dd>
In an HTML context, the <code><h- data-h=mk_tag>\code</h-></code> takes the input source code,
applies syntax highlighting,
and outputs the result surrounded by <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code>.
</dd>

<dt>Plaintext output</dt>
<dd>
In a plaintext context, <code><h- data-h=mk_tag>\code</h-></code> simply outputs the input source code.
</dd>

<dt>Display style</dt>
<dd>Inline</dd>
</dl>

<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_sqr>[</h->cpp<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->123<h- data-h=sym_brac>}</h-></code-block>
<p>This applies C++ syntax highlighting, and generates HTML.
The <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>h-</h-><h- data-h=sym_punc>&gt;</h-></code> tags are an implementation detail and may be subject to change.
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>h-</h-> <h- data-h=mk_attr>data-h</h-><h- data-h=sym_punc>=</h-><h- data-h=str>num</h-><h- data-h=sym_punc>&gt;</h->123<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>h-</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<h5 id=manual-nested-highlighting><a class=para href=#manual-nested-highlighting></a>8.3.1.1. Manual nested highlighting</h5>

<p>The <tt->nested</tt-> parameter is a plaintext context,
which accepts either <tt->yes</tt-> or <tt->no</tt->, where <tt->no</tt-> is the default.
When enabled, the surrounding <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code> tags are omitted,
which makes it suitable for nesting languages within other <code><h- data-h=mk_tag>\code</h-></code> or <code><h- data-h=mk_tag>\codeblock</h-></code>
directives.
</p>
<example-block><p><intro-></intro-> 
You can nest JSON inside of a C++ string literal as follows:
</p><code-block>Call: <h- data-h=mk_tag>\code</h-><h- data-h=sym_sqr>[</h->cpp<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->out.write_json("<h- data-h=mk_tag>\code</h-><h- data-h=sym_sqr>[</h->json<h- data-h=sym_punc>,</h-><h- data-h=mk_attr>nested</h-><h- data-h=sym_punc>=</h->yes<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->{"x":123,"y":true,"z":null}<h- data-h=sym_brac>}</h->")<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as follows:
</p><div class=indent>
Call: <code><h- data-h=id>out</h-><h- data-h=sym_op>.</h-><h- data-h=id>write_json</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_attr>"x"</h-><h- data-h=sym_punc>:</h-><h- data-h=num>123</h-><h- data-h=sym_punc>,</h-><h- data-h=mk_attr>"y"</h-><h- data-h=sym_punc>:</h-><h- data-h=bool>true</h-><h- data-h=sym_punc>,</h-><h- data-h=mk_attr>"z"</h-><h- data-h=sym_punc>:</h-><h- data-h=null>null</h-><h- data-h=sym_brac>}</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_par>)</h-></code>
</div>
</example-block>

<p>Note that by default,
you may often not even notice a visual difference between using the <tt->nested</tt->
parameter and not using it.
However, the difference would be obvious once you want to style <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code> elements
to have borders, background color, padding, and other such styling features.
<tt->nested=yes</tt-> directly emits the highlighting HTML elements,
which is more composable.
</p>
<h5 id=highlighting-prefix-and-suffix><a class=para href=#highlighting-prefix-and-suffix></a>8.3.1.2. Highlighting prefix and suffix</h5>

<p>The <tt->prefix</tt-> and <tt->suffix</tt-> parameters are plaintext contexts
which can be used to further control highlighting.
Especially with inline code,
the highlighting depends on the surrounding code.
</p>
<p><tt->prefix</tt-> and <tt->suffix</tt-> can be used to provide that surrounding code,
without becoming part of the highlighted output.
</p>
<example-block><p><intro-></intro-> 
Using <tt->prefix</tt->,
we can control whether a JSON string is interpreted as a markup key,
or as a string value:
</p><code-block>In JSON, there are <h- data-h=mk_tag>\code</h-><h- data-h=sym_sqr>[</h->json<h- data-h=sym_punc>,</h-><h- data-h=mk_attr>prefix</h-><h- data-h=sym_punc>=</h-><h- data-h=esc>\{</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->"keys"<h- data-h=sym_brac>}</h-> and <h- data-h=mk_tag>\code</h-><h- data-h=sym_sqr>[</h->json<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->"values"<h- data-h=sym_brac>}</h->.</code-block>
<p>This renders as:
</p><div class=indent>
In JSON, there are <code><h- data-h=mk_attr>"keys"</h-></code> and <code><h- data-h=str_dlim>"</h-><h- data-h=str>values</h-><h- data-h=str_dlim>"</h-></code>.
</div>
<p>Notice that the color of <code><h- data-h=mk_attr>"keys"</h-></code> is different because it is interpreted
as if it was positioned like:
</p><code-block><h- data-h=sym_brac>{</h-><h- data-h=mk_attr>"keys"</h-></code-block>
</example-block>


<h5 id=further-advice-on-highlighting><a class=para href=#further-advice-on-highlighting></a>8.3.1.3. Further advice on highlighting</h5>

<tip-block><p><intro-></intro-> 
Writing <code><h- data-h=mk_tag>\code</h-></code> directives directly is often too tedious,
so you'll likely want to define a macro to make this easier:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Defines a \js directive that can be used in place of \code[js] from now on:</h->
<h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\js</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\code</h-><h- data-h=sym_sqr>[</h->js<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
Let's highlight <h- data-h=mk_tag>\js</h-><h- data-h=sym_brac>{</h->var<h- data-h=sym_brac>}</h-> in JavaScript.</code-block>
</tip-block>

<h4 id=dir-codeblock><a class=para href=#dir-codeblock></a>8.3.2. <code><h- data-h=mk_tag>\codeblock</h-></code> — Code blocks</h4>

<p>The <code><h- data-h=mk_tag>\codeblock</h-></code> directive works exactly like <code><h- data-h=mk_tag>\code</h-></code>,
but it is a block directive, not an inline directive.
</p>
<p>Additionally, code blocks render using borders and a dark background by default.
This can be controlled using the <tt->borders</tt->.
</p>
<example-block><p><intro-></intro-> 
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>codeblock</h-><h- data-h=sym_sqr>[</h->js<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
// Borders enabled
let x = 0;
<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>codeblock</h-><h- data-h=sym_sqr>[</h->js<h- data-h=sym_punc>,</h-><h- data-h=mk_attr>borders</h-><h- data-h=sym_punc>=</h->no<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
// Borders disabled
let x = 0;
<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><code-block><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Borders enabled</h->
<h- data-h=kw>let</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>;</h-></code-block>
<code-block class=borderless><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> Borders disabled</h->
<h- data-h=kw>let</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>=</h-> <h- data-h=num>0</h-><h- data-h=sym_punc>;</h-></code-block>
</example-block>

<h4 id=dir-hl><a class=para href=#dir-hl></a>8.3.3. <code><h- data-h=mk_tag>\hl</h-></code> — Syntax highlight override</h4>

<p>The <code><h- data-h=mk_tag>\hl</h-></code> directive forces certain syntax highlighting to be applied to some text;
it is a manual override for when automatic syntax highlighting is insufficient or broken.
It displays as inline content and wraps its content (which is an HTML context)
in the appropriate syntax highlighting tags.
</p>
<p>It has a single <tt->name</tt-> argument, which is the µlight <dfn>long name</dfn> for a highlight type.
You can obtain a list of possible long names at
<a href=https://github.com/Eisenwave/ulight/blob/main/include/ulight/ulight.h><tt->ulight.h</tt-></a>
from the definition of <code><h- data-h=kw>enum</h-> <h- data-h=id>ulight_highlight_type</h-></code>.
The long name is the enumerator name without the <tt->ULIGHT_HL</tt-> prefix,
all lowercase, and with hyphens instead of underscores.
</p>
<example-block><p><intro-></intro-> 
It is possible to mix automatic syntax highlighting with manual overrides:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> _Int128 is manually highlighted as a type keyword,</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> and x is automatically highlighted as an identifier.</h->
<h- data-h=mk_tag>\code</h-><h- data-h=sym_sqr>[</h->c<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\hl</h-><h- data-h=sym_sqr>[</h->keyword-type<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->_Int128<h- data-h=sym_brac>}</h-> x<h- data-h=sym_brac>}</h-></code-block>
<p>This generates the HTML (subject to change):
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>h-</h-> <h- data-h=mk_attr>data</h-><h- data-h=sym_punc>=</h-><h- data-h=str>h</h->=kw_type&gt;_Int128<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>h-</h-><h- data-h=sym_punc>&gt;</h-> <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>h-</h-> <h- data-h=mk_attr>data-h</h-><h- data-h=sym_punc>=</h-><h- data-h=str>id</h-><h- data-h=sym_punc>&gt;</h->x<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>h-</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>code</h-><h- data-h=sym_punc>&gt;</h-></code-block>
<p>It renders as <code><h- data-h=kw_type>_Int128</h-> <h- data-h=id>x</h-></code>.
</p></example-block>

<note-block><p><intro-></intro-> 
While it is also possible to produce the highlighting tags using
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>html-h-</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>data-h</h-><h- data-h=sym_punc>=</h->kw_type<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->_Int128<h- data-h=sym_brac>}</h-></code>,
the "short names" (<code>kw_type</code>) are not stable, i.e. they are more likely to change.
Only µlight long names should be used directly.
</p></note-block>

<h4 id=dir-pre><a class=para href=#dir-pre></a>8.3.4. <code><h- data-h=mk_tag>\pre</h-></code> — Preformatted blocks</h4>

<p>The <code><h- data-h=mk_tag>\pre</h-></code> directive contains pre-formatted content.
It can be used to contain code, however, there is no syntax highlighting in a <code><h- data-h=mk_tag>\pre</h-></code> block.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>pre</h-><h- data-h=sym_brac>{</h->
Hello, world!
=============
    a b c
<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><pre>
Hello, world!
=============
    a b c
</pre>
</example-block>

<todo-block><p><intro-></intro-> 
Unlike <code><h- data-h=mk_tag>\codeblock</h-></code>, <code><h- data-h=mk_tag>\pre</h-></code> currently does not support the <tt->borders=no</tt-> option.
This will be added in the future.
</p></todo-block>

<h4 id=dir-literally><a class=para href=#dir-literally></a>8.3.5. <code><h- data-h=mk_tag>\literally</h-></code> — Treat input literally as text</h4>

<p>The <code><h- data-h=mk_tag>\literally</h-></code> directive treats its input source code as plain text,
even if it contains directives or escape sequences.
It outputs the given input source code as text.
</p>
<p>Its content is an unprocessed context,
and it takes no arguments.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\pre</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\literally</h-><h- data-h=sym_brac>{</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Even comments are preserved!</h->
This <h- data-h=cmt_dlim>\comment{</h-><h- data-h=cmt>comment</h-><h- data-h=cmt_dlim>}</h-> <h- data-h=esc>\{</h-> is taken literally <h- data-h=esc>\}</h->!
<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><pre>
\: Even comments are preserved!
This \comment{comment} \{ is taken literally \}!
</pre>
</example-block>

<note-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\put</h-></code> pseudo-directives in macros are still processed,
even inside <code><h- data-h=mk_tag>\literally</h-></code> blocks
because <code><h- data-h=mk_tag>\macro</h-></code> replaces any appearances of <code><h- data-h=mk_tag>\put</h-></code> with the given content,
disregarding the semantics of any directives nested within.
</p></note-block>

<h4 id=dir-unprocessed><a class=para href=#dir-unprocessed></a>8.3.6. <code><h- data-h=mk_tag>\unprocessed</h-></code> — Suppress directive processing</h4>

<p>The <code><h- data-h=mk_tag>\unprocessed</h-></code> directive works just like <code><h- data-h=mk_tag>\literally</h-></code>,
except that escape sequences are processed into their escaped characters.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\pre</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\unprocessed</h-><h- data-h=sym_brac>{</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Unlike in \literally, comments are ignored.</h->
This <h- data-h=cmt_dlim>\comment{</h-><h- data-h=cmt>comment</h-><h- data-h=cmt_dlim>}</h-> <h- data-h=esc>\{</h-> is unprocessed <h- data-h=esc>\}</h->!
<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><pre>
This \comment{comment} { is unprocessed }!
</pre>
</example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\unprocessed</h-></code> and (to a lesser extent) <code><h- data-h=mk_tag>\literally</h-></code> are very useful for nesting
code inside COWEL that already contains underscores.
For example, <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>n</h-></code> is an escape sequence for newline characters in many languages,
and it may be annoying if it gets interpreted as an <code><h- data-h=mk_tag>\n</h-></code> directive:
</p><code-block><h- data-h=mk_tag>\codeblock</h-><h- data-h=sym_sqr>[</h->cpp<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\unprocessed</h-><h- data-h=sym_brac>{</h->
std::string_view s = "Several<h- data-h=mk_tag>\nLines</h-><h- data-h=mk_tag>\nof</h-><h- data-h=mk_tag>\nCode</h->.";
<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><code-block><h- data-h=id>std</h-><h- data-h=sym_op>::</h-><h- data-h=id>string_view</h-> <h- data-h=id>s</h-> <h- data-h=sym_op>=</h-> <h- data-h=str_dlim>"</h-><h- data-h=str>Several</h-><h- data-h=esc>\n</h-><h- data-h=str>Lines</h-><h- data-h=esc>\n</h-><h- data-h=str>of</h-><h- data-h=esc>\n</h-><h- data-h=str>Code</h-><h- data-h=str>.</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_punc>;</h-></code-block>
<p>Notice that COWEL technically parses a <code><h- data-h=mk_tag>\nLines</h-></code> directive instead of just <code><h- data-h=mk_tag>\n</h-></code>,
which is the part that turns into a newline escape sequence in the C++ code block.
However, that is ultimately irrelevant for syntax highlighting
because the source characters of <code><h- data-h=mk_tag>\nLines</h-></code> are taken as text,
and then split up according to C++ syntax.
</p></tip-block>

<note-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\put</h-></code> pseudo-directives in macros are still processed,
even inside <code><h- data-h=mk_tag>\unprocessed</h-></code> blocks
because <code><h- data-h=mk_tag>\macro</h-></code> replaces any appearances of <code><h- data-h=mk_tag>\put</h-></code> with the given content,
disregarding the semantics of any directives nested within.
</p></note-block>
<h3 id=math><a class=para href=#math></a>8.4. Math</h3>

<p>In recent years, browser support for
<a href=https://developer.mozilla.org/en-US/docs/Web/MathML>MathML</a>
within HTML has become widespread.
COWEL relies entirely on the browser for properly rendering math as MathML,
which is very simple and lightweight,
but not as portable as "baking" the math into an SVG.
</p>
<example-block><p><intro-></intro-> 
If you have existing MathML, you can embed their content using <code><h- data-h=mk_tag>\html</h-></code> or <code><h- data-h=mk_tag>\htmlblock</h-></code>:
</p><code-block>Math
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>html</h-><h- data-h=sym_brac>{</h->
<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>math</h-> <h- data-h=mk_attr>display</h-><h- data-h=sym_punc>=</h->inline&gt;
  <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>mfrac</h-><h- data-h=sym_punc>&gt;</h->
    <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>mi</h-><h- data-h=sym_punc>&gt;</h->x<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>mi</h-><h- data-h=sym_punc>&gt;</h->
    <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>mn</h-><h- data-h=sym_punc>&gt;</h->2<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>mn</h-><h- data-h=sym_punc>&gt;</h->
  <h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>mfrac</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>math</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_brac>}</h->
in a sentence.</code-block>
<p>This renders as:
</p><div class=indent>
Math
<math display=inline>
<mfrac>
  <mi>x</mi>
  <mn>2</mn>
</mfrac>
</math>
in a sentence.
</div>
<p>You can also keep the MathML separate within an XML document and <code><h- data-h=mk_tag>\include</h-></code> it:
</p><code-block>Math <h- data-h=mk_tag>\html</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\include</h-><h- data-h=sym_brac>{</h->math.mml<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-> in a sentence.</code-block>
</example-block>

<p>However, hand-writing MathML would be extremely tedious and verbose,
so COWEL offers some convenience directives, listed below.
</p>
<h4 id=dir-math><a class=para href=#dir-math></a>8.4.1. <code><h- data-h=mk_tag>\math</h-></code> — Inline math</h4>

<p>A <code><h- data-h=mk_tag>\math</h-></code> directive surrounds its content with
<code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>math</h-> <h- data-h=mk_attr>display</h-><h- data-h=sym_punc>=</h-><h- data-h=str>inline</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>math</h-><h- data-h=sym_punc>&gt;</h-></code> tags,
and displays as inline content.
</p>
<p>Its content is an HTML context,
and within it, additional pseudo-directives like <code><h- data-h=mk_tag>\mi</h-></code> or <code><h- data-h=mk_tag>\mn</h-></code>
corresponding to MathML elements can be used.
Essentially, this allows you to build MathML using COWEL syntax.
</p>
<p>See <a href=https://developer.mozilla.org/en-US/docs/Web/MathML/Reference/Element>Mozilla's MathML elements reference</a>
for a list of supported elements/directives.
</p>
<example-block><p><intro-></intro-> 
The previous example in <a href=#math>§8.4. Math</a> could also be written like:
</p><code-block>Math
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>math</h-><h- data-h=sym_brac>{</h-> <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mfrac</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mi</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mn</h-><h- data-h=sym_brac>{</h->2<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-> <h- data-h=sym_brac>}</h->
in a sentence.</code-block>
</example-block>

<tip-block><p><intro-></intro-> 
If you frequently use math inside plain sentences,
you can define a convenience macro:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mathsqr</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>math</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>msup</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mi</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>}</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mn</h-><h- data-h=sym_brac>{</h->2<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->

The sum of <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mathsqr</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-> and <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mathsqr</h-><h- data-h=sym_brac>{</h->y<h- data-h=sym_brac>}</h-> …</code-block>
<p>This renders as:
</p><div class=indent>
The sum of <math display=inline><msup><mi>x</mi><mn>2</mn></msup></math> and <math display=inline><msup><mi>y</mi><mn>2</mn></msup></math> …
</div>
</tip-block>

<h4 id=dir-mathblock><a class=para href=#dir-mathblock></a>8.4.2. <code><h- data-h=mk_tag>\mathblock</h-></code> — Math blocks</h4>

<p>The <code><h- data-h=mk_tag>\mathblock</h-></code> directive functions almost exactly as the <code><h- data-h=mk_tag>\math</h-></code> directive,
but it displays as block content instead of inline content,
and it produces an opening
<code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>math</h-> <h- data-h=mk_attr>display</h-><h- data-h=sym_punc>=</h-><h- data-h=str>block</h-><h- data-h=sym_punc>&gt;</h-></code> tag.
</p><h3 id=separators-and-word-breaking><a class=para href=#separators-and-word-breaking></a>8.5. Separators and word breaking</h3>

<h4 id=dir-br><a class=para href=#dir-br></a>8.5.1. <code><h- data-h=mk_tag>\br</h-></code> — Break line</h4>

<p>The <code><h- data-h=mk_tag>\br</h-></code> directive produces a line break,
and corresponds to the HTML element <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>br</h-><h- data-h=sym_punc>/&gt;</h-></code>.
It displays as inline content, and its input content is ignored.
</p>
<p><code><h- data-h=mk_tag>\br</h-></code> is particularly useful when line breaks are treated same as spaces,
which is the case in most HTML content.
</p>
<h4 id=dir-hr><a class=para href=#dir-hr></a>8.5.2. <code><h- data-h=mk_tag>\hr</h-></code> — Horizontal rule</h4>

<p>The <code><h- data-h=mk_tag>\hr</h-></code> directive produces a horizontal rule,
and corresponds to the HTML element <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>hr</h-><h- data-h=sym_punc>/&gt;</h-></code>.
It displays as block content, and its input content is ignored.
</p>
<p>Here is an example:
</p><hr/>

<h4 id=dir-wbr><a class=para href=#dir-wbr></a>8.5.3. <code><h- data-h=mk_tag>\wbr</h-></code> — Word break opportunity</h4>

<p>The <code><h- data-h=mk_tag>\wbr</h-></code> directive produces a word break opportunity,
and corresponds to the HTML element <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>wbr</h-><h- data-h=sym_punc>&gt;</h-></code>.
It displays as inline content, and its input content is ignored.
</p>
<p><code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>wbr</h-><h- data-h=sym_punc>&gt;</h-></code> elements can be inserted into the middle of long words,
which, if they don't fit on one line,
will be broken at the point of the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>wbr</h-><h- data-h=sym_punc>&gt;</h-></code> element
(without a hyphen at the end of the line).
</p>
<p>Since µlight only supports UTF-8 output, <code><h- data-h=mk_tag>\wbr</h-></code> is equivalent to <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>U</h-><h- data-h=sym_brac>{</h->200B<h- data-h=sym_brac>}</h-></code>,
which outputs a U+200B ZERO-WIDTH SPACE code point.
</p>
<tip-block><p><intro-></intro-> 
If you want to provide a word break hint but have a hyphen at the end of the line,
use <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>U</h-><h- data-h=sym_brac>{</h->AD<h- data-h=sym_brac>}</h-></code> or <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->shy<h- data-h=sym_brac>}</h-></code> to output a U+00AD SOFT HYPHEN.
</p></tip-block>

<h4 id=dir-nobr><a class=para href=#dir-nobr></a>8.5.4. <code><h- data-h=mk_tag>\nobr</h-></code> — Unbroken words</h4>

<p>The <code><h- data-h=mk_tag>\nobr</h-></code> directive is a formatting directive
which prevents word breaks within its content.
Its content is an HTML context.
This is done by applying a <code><h- data-h=mk_attr>white-space</h-><h- data-h=sym_punc>:</h-> <h- data-h=id>nowrap</h-><h- data-h=sym_punc>;</h-></code> style its content.
</p>
<tip-block><p><intro-></intro-> 
Another way to prevent word-breaking is to use non-breaking spaces.
You can insert these using
</p><ul>
<li><code>Combined<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->nbsp<h- data-h=sym_brac>}</h->Word</code>,</li>
<li><code>Combined<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>N</h-><h- data-h=sym_brac>{</h->NO-BREAK SPACE<h- data-h=sym_brac>}</h->Word</code>, or</li>
<li><code>Combined<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>U</h-><h- data-h=sym_brac>{</h->A0<h- data-h=sym_brac>}</h->Word</code>.</li>
</ul>
</tip-block>

<h4 id=dir-word><a class=para href=#dir-word></a>8.5.5. <code><h- data-h=mk_tag>\word</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\nobr</h-></code></h4>

<warning-block><p><intro-></intro-> This directive is deprecated and will be removed in the future.</p></warning-block>

<p>The <code><h- data-h=mk_tag>\word</h-></code> directive has the same effect as <code><h- data-h=mk_tag>\nobr</h-></code>.
</p><h3 id=special-characters><a class=para href=#special-characters></a>8.6. Special characters</h3>

<p>It is quite common that a text document should include special characters.
While COWEL is built on UTF-8,
and in theory one could just write the character directly into the source code,
not every text editor handles special characters well.
</p>
<p>To increase portability,
COWEL has the <code><h- data-h=mk_tag>\U</h-></code> and <code><h- data-h=mk_tag>\c</h-></code> directives.
</p>
<h4 id=dir-U><a class=para href=#dir-U></a>8.6.1. <code><h- data-h=mk_tag>\U</h-></code> — Code point literal</h4>

<p>The input to a <code><h- data-h=mk_tag>\U</h-></code> directive is a plaintext context,
which should be a sequence of hexadecimal numbers
specifying a <a href=https://infra.spec.whatwg.org/#scalar-value>Unicode scalar value</a>;
that is, a code point which UTF-8 permits to be encoded.
</p>
<example-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>U</h-><h- data-h=sym_brac>{</h->30<h- data-h=sym_brac>}</h-></code> generates '<tt->0</tt->' U+0030 DIGIT ZERO.
</p></example-block>

<note-block><p><intro-></intro-> 
Like anywhere else, directives inside of <code><h- data-h=mk_tag>\U</h-></code> are allowed.
</p></note-block>

<h4 id=dir-N><a class=para href=#dir-N></a>8.6.2. <code><h- data-h=mk_tag>\N</h-></code> — Code point by name</h4>

<p>The <code><h- data-h=mk_tag>\N</h-></code> directive behaves almost identically to <code><h- data-h=mk_tag>\U</h-></code>,
except that its input has to be a
<a href=https://www.unicode.org/reports/tr34/#Names>Unicode name</a>
rather than a hex digits.
That is, the name of a code point,
or one of its "control", "alternate", or "correction" aliases.
</p>
<example-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>N</h-><h- data-h=sym_brac>{</h->DIGIT ZERO<h- data-h=sym_brac>}</h-></code> generates '<tt->0</tt->' U+0030 DIGIT ZERO.
</p></example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\N</h-></code> can lead to much more descriptive, human-friendly code, compared to <code><h- data-h=mk_tag>\U</h-></code>.
</p>
<p>The main issue with <code><h- data-h=mk_tag>\U</h-></code> is that it is very non-descriptive in source code.
It simply contains a handful of digits,
and unless the reader is a Unicode expert who happens to know that sequence,
they cannot easily tell what the purpose of the character is.
</p></tip-block>

<h4 id=dir-Udigits><a class=para href=#dir-Udigits></a>8.6.3. <code><h- data-h=mk_tag>\Udigits</h-></code> — Digits of code point</h4>

<p>The <code><h- data-h=mk_tag>\Udigits</h-></code> directive is essentially the inverse of the <code><h- data-h=mk_tag>\U</h-></code> directive.
Its input is also a plaintext context;
rather than producing a code point from a digit sequence,
it produces a digit sequence from its input code point.
</p>
<p>This can be fine-tuned with the following parameters:
</p><dd>
<dt><tt-><h- data-h=mk_attr>zfill</h-></tt-></dt>
<dd>
The minimum amount of digits that should be produced.
This is an integer argument in range [0, 1024], and defaults to zero.
If the amount of digits is less than <tt-><h- data-h=mk_attr>zfill</h-></tt->,
it will be left-padded with additional '<tt->0</tt->' characters.
</dd>

<dt><tt-><h- data-h=mk_attr>base</h-></tt-></dt>
<dd>
The base of the output digit sequence, in range [2, 16].
This defaults to 16, meaning that the digits are printed in hexadecimal.
</dd>

<dt><tt-><h- data-h=mk_attr>lower</h-></tt-></dt>
<dd>
A yes/no plaintext argument, defaulting to <tt->no</tt->.
If <tt->yes</tt-> is specified, digits beyond '<tt->9</tt->' (i.e. '<tt->A</tt->' to '<tt->F</tt->')
will be output in lower case instead.
</dd>
</dd>

<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>U+<h- data-h=mk_tag>\Udigits</h-><h- data-h=sym_sqr>[</h->4<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><div class=indent>
U+0078
</div>
<p>Note that U+0078 is the usual way in which Unicode code points are represented.
That is, <tt->U+</tt->, followed by at least four hexadecimal digits.
It is also possible to define a macro if we need this frequently:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\code_point</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->U+<h- data-h=mk_tag>\Udigits</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\code_point</h-><h- data-h=sym_brac>{</h->x<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\Udigits</h-></code> can also be combined with <code><h- data-h=mk_tag>\N</h-></code>
to produce human-readable descriptions of code points,
while also keeping our source code readable:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\named_char</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->U+<h- data-h=mk_tag>\Udigits</h-><h- data-h=sym_sqr>[</h->4<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\N</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-> <h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\named_char</h-><h- data-h=sym_brac>{</h->SECTION SIGN<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><div class=indent>
U+00A7 SECTION SIGN
</div>
</tip-block>

<p><code><h- data-h=mk_tag>\Udigits</h-></code> uses only the first code point within the input text,
even though the entire input text is processed into plaintext.
</p>
<bug-block><p><intro-></intro-> 
If we provide more than a single code point, some input is discarded:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>Udigits</h-><h- data-h=sym_brac>{</h->abc<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as
</p><div class=indent>
61
</div>
<p>... which corresponds to <code>a</code>, whereas <code>b</code> and <code>c</code> are discarded.
</p></bug-block>

<h4 id=dir-c><a class=para href=#dir-c></a>8.6.4. <code><h- data-h=mk_tag>\c</h-></code> — Character references</h4>

<p>The <code><h- data-h=mk_tag>\c</h-></code> directive takes the name of a character and outputs the respective code points.
</p>
<p>The input to a <code><h- data-h=mk_tag>\c</h-></code> directive is a plaintext context,
where the same content is permitted as for HTML character references, aka. HTML entities,
between '<tt->&amp;</tt->' and '<tt->;</tt->'.
</p>
<example-block><p><intro-></intro-> 
Using <code><h- data-h=mk_tag>\U</h-></code> and <code><h- data-h=mk_tag>\c</h-></code>, the '<tt->&amp;</tt->' character can be produced in a number of ways:
</p><ul>
    <li>Literally '<tt->&amp;</tt->' in text</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>U</h-><h- data-h=sym_brac>{</h->26<h- data-h=sym_brac>}</h-></code> (code point literal for U+0026)</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->amp<h- data-h=sym_brac>}</h-></code> (like <code><h- data-h=esc>&amp;amp;</h-></code>, named character reference)</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->#38<h- data-h=sym_brac>}</h-></code> (like <code><h- data-h=esc>&amp;38;</h-></code>, decimal character reference)</li>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>c</h-><h- data-h=sym_brac>{</h->#x26<h- data-h=sym_brac>}</h-></code> (like <code><h- data-h=esc>&amp;x26;</h-></code>, hexadecimal character reference)</li>
</ul>
</example-block>

<note-block><p><intro-></intro-> 
Like anywhere else, directives inside of <code><h- data-h=mk_tag>\c</h-></code> are allowed.
</p></note-block>
<h3 id=special-blocks><a class=para href=#special-blocks></a>8.7. Special blocks</h3>

<p>Often, the content we write falls into some special category like "example", "note", etc.
COWEL supports a large number of <dfn>special block directives</dfn>,
which wrap their content in a block, with background color, borders, etc.
</p>
<p>The input to all special block directives is an HTML context,
they all convert their arguments to HTML attributes,
and they all display as block content.
</p>
<h4 id=dir-Babstract><a class=para href=#dir-Babstract></a>8.7.1. <code><h- data-h=mk_tag>\Babstract</h-></code> — Abstract blocks</h4>

<abstract-block><p><intro-></intro-> 
Abstracts provide a summary of the document.
</p></abstract-block>

<h4 id=dir-Bquote><a class=para href=#dir-Bquote></a>8.7.2. <code><h- data-h=mk_tag>\Bquote</h-></code> — Quote blocks</h4>

<p>The <code><h- data-h=mk_tag>\blockquote</h-></code> directive directly corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>blockquote</h-><h- data-h=sym_punc>&gt;</h-></code> element.
</p>
<blockquote>
<p>Quotes blocks or "block quotes" display quoted text.
</p></blockquote>

<h4 id=dir-blockquote><a class=para href=#dir-blockquote></a>8.7.3. <code><h- data-h=mk_tag>\blockquote</h-></code> — Alias for <code><h- data-h=mk_tag>\Bquote</h-></code></h4>

<p>The <code><h- data-h=mk_tag>\blockquote</h-></code> directive is equivalent to the <code><h- data-h=mk_tag>\Bquote</h-></code> directive.
</p>
<h4 id=dir-Bug><a class=para href=#dir-Bug></a>8.7.4. <code><h- data-h=mk_tag>\Bug</h-></code> — Bug blocks</h4>

<bug-block><p><intro-></intro-> 
A bug block contains the description of a bug.
This often includes a code block which demonstrates how to reproduce the bug.
</p></bug-block>

<h4 id=dir-Bdecision><a class=para href=#dir-Bdecision></a>8.7.5. <code><h- data-h=mk_tag>\Bdecision</h-></code> — Decision blocks</h4>

<decision-block><p><intro-></intro-> 
A decision block indicates that a decision needs to be made.
</p></decision-block>

<h4 id=dir-Bdel><a class=para href=#dir-Bdel></a>8.7.6. <code><h- data-h=mk_tag>\Bdel</h-></code> — Deletion blocks</h4>

<del-block>
<p>A deletion block acts as a wrapper for a large amount of deleted content.
It is typically used when individual <code><h- data-h=mk_tag>\del</h-></code> directives would be too tedious to use.
</p></del-block>

<h4 id=dir-Bdetails><a class=para href=#dir-Bdetails></a>8.7.7. <code><h- data-h=mk_tag>\Bdetails</h-></code> — Details blocks aka spoilers</h4>

<p>The <code><h- data-h=mk_tag>\Bdetails</h-></code> directive directly corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>details</h-><h- data-h=sym_punc>&gt;</h-></code> element.
Within <code><h- data-h=mk_tag>\Bdetails</h-></code>,
the <code><h- data-h=mk_tag>\summary</h-></code> directive can be used to specify <dfn>summary text</dfn>.
</p>
<details>
<summary>This is a summary. Click to open!</summary>
A details block contains details which need to be revealed by the user.
This is also referred to as "spoiler".
</details>

<h4 id=dir-details><a class=para href=#dir-details></a>8.7.8. <code><h- data-h=mk_tag>\details</h-></code> — Alias for <code><h- data-h=mk_tag>\Bdetails</h-></code></h4>

<p>The <code><h- data-h=mk_tag>\details</h-></code> directive is equivalent to the <code><h- data-h=mk_tag>\Bdetails</h-></code> directive.
</p>
<h4 id=dir-Bdiff><a class=para href=#dir-Bdiff></a>8.7.9. <code><h- data-h=mk_tag>\Bdiff</h-></code> — Difference blocks</h4>

<diff-block>
<p>A difference block contains changes,
where some content within is typically <del>deleted</del> or <ins>inserted</ins>.
</p></diff-block>

<h4 id=dir-Bex><a class=para href=#dir-Bex></a>8.7.10. <code><h- data-h=mk_tag>\Bex</h-></code> — Example blocks</h4>

<example-block><p><intro-></intro-> 
An example block contains examples.
</p></example-block>

<h4 id=dir-Bins><a class=para href=#dir-Bins></a>8.7.11. <code><h- data-h=mk_tag>\Bins</h-></code> — Insertion blocks</h4>

<ins-block>
<p>A deletion block acts as a wrapper for a large amount of inserted content.
It is typically used when individual <code><h- data-h=mk_tag>\ins</h-></code> directives would be too tedious to use.
</p></ins-block>

<h4 id=dir-Bimp><a class=para href=#dir-Bimp></a>8.7.12. <code><h- data-h=mk_tag>\Bimp</h-></code> — Important blocks</h4>

<important-block><p><intro-></intro-> 
Important blocks contain especially important information.
</p></important-block>

<h4 id=dir-Bnote><a class=para href=#dir-Bnote></a>8.7.13. <code><h- data-h=mk_tag>\Bnote</h-></code> — Note blocks</h4>

<note-block><p><intro-></intro-> 
Note blocks contain less important information,
which can often be skipped over by readers.
</p></note-block>

<h4 id=dir-Btip><a class=para href=#dir-Btip></a>8.7.14. <code><h- data-h=mk_tag>\Btip</h-></code> — Tip blocks</h4>

<tip-block><p><intro-></intro-> 
Tip blocks contain useful advice.
</p></tip-block>

<h4 id=dir-Btodo><a class=para href=#dir-Btodo></a>8.7.15. <code><h- data-h=mk_tag>\Btodo</h-></code> — TODO blocks</h4>

<todo-block><p><intro-></intro-> 
TODO blocks contain actions that remain to be done.
They may indicate that a part of a project is incomplete.
</p></todo-block>

<h4 id=dir-Bwarn><a class=para href=#dir-Bwarn></a>8.7.16. <code><h- data-h=mk_tag>\Bwarn</h-></code> — Warning blocks</h4>

<warning-block><p><intro-></intro-> 
Warning blocks warn the reader of some hazard or potential mistake.
</p></warning-block>

<h4 id=deprecated-aliases><a class=para href=#deprecated-aliases></a>8.7.17. Deprecated aliases</h4>

<p>Some of the special blocks also have alternative spellings
which only exist for compatibility with past versions.
The new naming scheme is for all special blocks to have a <code><h- data-h=mk_tag>\B*</h-></code> name.
</p>
<warning-block><p><intro-></intro-> 
These directives are deprecated and will be removed in a future version.
</p></warning-block>

<h5 id=dir-bug><a class=para href=#dir-bug></a>8.7.17.1. <code><h- data-h=mk_tag>\bug</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bug</h-></code></h5>
<h5 id=dir-decision><a class=para href=#dir-decision></a>8.7.17.2. <code><h- data-h=mk_tag>\decision</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bdecision</h-></code></h5>
<h5 id=dir-delblock><a class=para href=#dir-delblock></a>8.7.17.3. <code><h- data-h=mk_tag>\delblock</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bdel</h-></code></h5>
<h5 id=dir-diff><a class=para href=#dir-diff></a>8.7.17.4. <code><h- data-h=mk_tag>\diff</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bdiff</h-></code></h5>
<h5 id=dir-example><a class=para href=#dir-example></a>8.7.17.5. <code><h- data-h=mk_tag>\example</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bex</h-></code></h5>
<h5 id=dir-insblock><a class=para href=#dir-insblock></a>8.7.17.6. <code><h- data-h=mk_tag>\insblock</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bins</h-></code></h5>
<h5 id=dir-important><a class=para href=#dir-important></a>8.7.17.7. <code><h- data-h=mk_tag>\important</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bimp</h-></code></h5>
<h5 id=dir-note><a class=para href=#dir-note></a>8.7.17.8. <code><h- data-h=mk_tag>\note</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bnote</h-></code></h5>
<h5 id=dir-tip><a class=para href=#dir-tip></a>8.7.17.9. <code><h- data-h=mk_tag>\tip</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Btip</h-></code></h5>
<h5 id=dir-todo><a class=para href=#dir-todo></a>8.7.17.10. <code><h- data-h=mk_tag>\todo</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Btodo</h-></code></h5>
<h5 id=dir-warning><a class=para href=#dir-warning></a>8.7.17.11. <code><h- data-h=mk_tag>\warning</h-></code> — Deprecated alias for <code><h- data-h=mk_tag>\Bwarn</h-></code></h5>
<h3 id=lists><a class=para href=#lists></a>8.8. Lists</h3>

<h4 id=dir-ul><a class=para href=#dir-ul></a>8.8.1. <code><h- data-h=mk_tag>\ul</h-></code> — Unordered lists</h4>

<p>The <code><h- data-h=mk_tag>\ul</h-></code> directive corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>ul</h-><h- data-h=sym_punc>&gt;</h-></code> element,
and produces an unordered list.
</p>
<h4 id=dir-ol><a class=para href=#dir-ol></a>8.8.2. <code><h- data-h=mk_tag>\ol</h-></code> — Ordered lists</h4>

<p>The <code><h- data-h=mk_tag>\ol</h-></code> directive corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>ol</h-><h- data-h=sym_punc>&gt;</h-></code> element,
and produces an ordered list.
</p>
<h4 id=dir-li><a class=para href=#dir-li></a>8.8.3. <code><h- data-h=mk_tag>\li</h-></code> — List items</h4>

<p>The <code><h- data-h=mk_tag>\li</h-></code> directive corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>li</h-><h- data-h=sym_punc>&gt;</h-></code> element,
and produces a list item with <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>ul</h-><h- data-h=sym_punc>&gt;</h-></code> or <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>ol</h-><h- data-h=sym_punc>&gt;</h-></code>.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\ul</h-><h- data-h=sym_brac>{</h->
    <h- data-h=mk_tag>\li</h-><h- data-h=sym_brac>{</h->first bullet<h- data-h=sym_brac>}</h->
    <h- data-h=mk_tag>\li</h-><h- data-h=sym_brac>{</h->second bullet<h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\hr</h->
<h- data-h=mk_tag>\ol</h-><h- data-h=sym_brac>{</h->
    <h- data-h=mk_tag>\li</h-><h- data-h=sym_brac>{</h->first bullet<h- data-h=sym_brac>}</h->
    <h- data-h=mk_tag>\li</h-><h- data-h=sym_brac>{</h->second bullet<h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><ul>
    <li>first bullet</li>
    <li>second bullet</li>
</ul>
<hr/>
<ol>
    <li>first bullet</li>
    <li>second bullet</li>
</ol>
</example-block>

<h4 id=dir-item><a class=para href=#dir-item></a>8.8.4. <code><h- data-h=mk_tag>\item</h-></code> — List item pseudo-directive</h4>

<warning-block><p><intro-></intro-> 
This directive is deprecated and will be removed in a future version.
</p></warning-block>

<p>Within <code><h- data-h=mk_tag>\ul</h-></code> and <code><h- data-h=mk_tag>\ol</h-></code>,
the <code><h- data-h=mk_tag>\item</h-></code> pseudo-directive can also be used instead of <code><h- data-h=mk_tag>\li</h-></code>.
</p>
<h4 id=dir-dl><a class=para href=#dir-dl></a>8.8.5. <code><h- data-h=mk_tag>\dl</h-></code> — Definition lists</h4>

<p>The <code><h- data-h=mk_tag>\dl</h-></code> directive corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>dl</h-><h- data-h=sym_punc>&gt;</h-></code> element,
and produces a definition list.
Within that list, you can use
</p><ul>
<li><code><h- data-h=mk_tag>\dt</h-></code> for <dfn>definition terms</dfn>, and</li>
<li><code><h- data-h=mk_tag>\dd</h-></code> for <dfn>definition descriptions</dfn>.</li>
</ul>

<h3 id=tables><a class=para href=#tables></a>8.9. Tables</h3>

<p>Tables are simply produced by using the
<code><h- data-h=mk_tag>\table</h-></code>, <code><h- data-h=mk_tag>\thead</h-></code>, <code><h- data-h=mk_tag>\tbody</h-></code>, <code><h- data-h=mk_tag>\tfoot</h-></code>,
<code><h- data-h=mk_tag>\tr</h-></code>, <code><h- data-h=mk_tag>\th</h-></code>, <code><h- data-h=mk_tag>\td</h-></code>,
<code><h- data-h=mk_tag>\colgroup</h-></code>, <code><h- data-h=mk_tag>\col</h-></code>,
and <code><h- data-h=mk_tag>\caption</h-></code> directives to
produce the corresponding HTML tags with the same name.
</p>
<tip-block><p><intro-></intro-> 
To perform advanced styling,
like controlling alignment within columns,
use a <code><h- data-h=mk_tag>\style</h-></code> directive.
</p></tip-block>

<h3 id=headings><a class=para href=#headings></a>8.10. Headings</h3>

<p>Headings can be produced using the
<code><h- data-h=mk_tag>\h1</h-></code>, <code><h- data-h=mk_tag>\h2</h-></code>, <code><h- data-h=mk_tag>\h3</h-></code>, <code><h- data-h=mk_tag>\h4</h-></code>, <code><h- data-h=mk_tag>\h5</h-></code>, and <code><h- data-h=mk_tag>\h6</h-></code> directives to
produce the corresponding HTML tags with the same name.
</p>
<p>Headings take a <tt-><h- data-h=mk_attr>listed</h-></tt-> argument, which is a yes/no plaintext argument.
Unless its value is <tt->no</tt->, headings are numbered and added to the table of contents
(<a href=#dir-make_contents>§8.10.1. <code><h- data-h=mk_tag>\make_contents</h-></code> — Make table of contents</a>) automatically.
</p>
<p>Headings also take a <tt-><h- data-h=mk_attr>show-number</h-></tt-> argument, which is a yes/no plaintext argument.
Unless this is <tt->no</tt->,
the heading number will be included in the title, in the format <tt->1.2.3. Title</tt->.
However, even if <tt-><h- data-h=mk_attr>show-number</h-></tt-> is <tt->no</tt->,
the number heading is internally numbered as usual,
and its number can be seen in the table of contents.
</p>
<p>Other arguments to these headings are converted into attributes of the corresponding HTML element.
An <tt-><h- data-h=mk_attr>id</h-></tt-> argument can be provided explicitly.
</p>
<p>If none is provided, an <tt-><h- data-h=mk_attr>id</h-></tt-> is synthesized from the content within the heading.
</p>
<tip-block><p><intro-></intro-> 
Headings can be referenced using the <code><h- data-h=mk_tag>\ref</h-></code> directive:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>h2</h-><h- data-h=sym_brac>{</h->Heading with synthesized id<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>h2</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h->xyz<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->Heading with manual id<h- data-h=sym_brac>}</h->
<h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>comment{</h-><h- data-h=cmt>These can be referenced as follows</h-><h- data-h=cmt_dlim>}</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->#heading-with-synthesized-id<h- data-h=sym_sqr>]</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->#xzy<h- data-h=sym_sqr>]</h-></code-block>
</tip-block>

<h4 id=dir-make_contents><a class=para href=#dir-make_contents></a>8.10.1. <code><h- data-h=mk_tag>\make_contents</h-></code> — Make table of contents</h4>

<p>The <code><h- data-h=mk_tag>\make_contents</h-></code> directive generates the table of contents,
which is comprised of all the headings within the document.
It takes no arguments and its content is ignored.
It displays as a block.
</p>
<p>The table of contents is is populated by headings (<a href=#headings>§8.10. Headings</a>)
as the document is processed.
</p>
<tip-block><p><intro-></intro-> 
Since the table of contents should usually not be listed within itself,
an unlisted heading may be used:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>h2</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>listed</h-><h- data-h=sym_punc>=</h->no<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->Contents<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>make_contents</h-></code-block>
<p>A similar effect can be achieved using <code><h- data-h=mk_tag>\html-h2</h-></code> (<a href=#dir-html-element>§8.13.3. <code><h- data-h=mk_tag>\html-*</h-></code> — HTML element literals</a>).
However, using <code><h- data-h=mk_tag>\html-h2</h-></code> will also not emit a link icon in the gutter,
and it will not synthesize an <tt-><h- data-h=mk_attr>id</h-></tt-> for that heading.
</p></tip-block>

<note-block><p><intro-></intro-> 
The underlying contents can be obtained with <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>here</h-><h- data-h=sym_sqr>[</h->std.contents<h- data-h=sym_sqr>]</h-></code>.
<code><h- data-h=mk_tag>\make_contents</h-></code> additionally wraps those contents in HTML elements to
chang their visual appearance.
</p></note-block>

<h3 id=bibliography><a class=para href=#bibliography></a>8.11. Bibliography</h3>

<p>In technical writing it is common for documents to reference other papers,
and it is expected that references are properly cited.
To support this,
</p>
<p>COWEL provides directives for adding bibliography entries,
and for generating a bibliography automatically.
</p>
<h4 id=dir-bib><a class=para href=#dir-bib></a>8.11.1. <code><h- data-h=mk_tag>\bib</h-></code> — Add bibliography entry</h4>

<p>The <code><h- data-h=mk_tag>\bib</h-></code> directive adds a single entry to the bibliography.
Its content is ignored, and it displays as a meta directive.
</p>
<p>It has a number of parameters,
each of which is a plaintext context:
</p>
<dl>
<dt><tt-><h- data-h=mk_attr>id</h-></tt-></dt>
<dd>
The identifier of the bibliography entry.
This can later be referenced using <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->id<h- data-h=sym_sqr>]</h-></code>.
</dd>

<dt><tt-><h- data-h=mk_attr>author</h-></tt-></dt>
<dd>
The name of the author(s).
This is in no particular format, and if you want to provide multiple authors,
you can do so via a comma-separated list here.
</dd>

<dt><tt-><h- data-h=mk_attr>title</h-></tt-></dt>
<dd>The title of the cited work.</dd>

<dt><tt-><h- data-h=mk_attr>date</h-></tt-></dt>
<dd>
The date of publication.
No particular format is enforced; this is simply a string,
so you can choose some local format.
</dd>

<dt><tt-><h- data-h=mk_attr>publisher</h-></tt-></dt>
<dd>The name of the publisher.</dd>

<dt><tt-><h- data-h=mk_attr>link</h-></tt-></dt>
<dd>
The primary link to the document.
This should typically be a short link because it is copied into each <code><h- data-h=mk_tag>\ref</h-></code>
to the bibliography entry.
</dd>

<dt><tt-><h- data-h=mk_attr>long-link</h-></tt-></dt>
<dd>
A "long link" to the document.
If present, this will be rendered within the bibliography,
and it is typically meant to be a semantic or more stable link than the <tt-><h- data-h=mk_attr>link</h-></tt->.
You can also think of it as a "link for pretty printing".
</dd>

<dt><tt-><h- data-h=mk_attr>issue-link</h-></tt-></dt>
<dd>
A link to issue tracking for the document.
For example, in WG21 circles, this may be a link to the GitHub issue where a paper is tracked.
</dd>
</dl>

<p>Every argument except the <tt-><h- data-h=mk_attr>id</h-></tt-> is optional,
although you will hardly get meaningful bibliography output if only the <tt-><h- data-h=mk_attr>id</h-></tt-> is specified.
</p>

<h4 id=dir-make_bib><a class=para href=#dir-make_bib></a>8.11.2. <code><h- data-h=mk_tag>\make_bib</h-></code> — Generate bibliography</h4>

<p>The <code><h- data-h=mk_tag>\make_bib</h-></code> directive generates a bibliography.
This is typically done towards the bottom of the document, but can be done anywhere.
</p>
<p>It takes no arguments, its content is ignored,
and it displays as a block.
</p>
<p>The <code><h- data-h=mk_tag>\make_bib</h-></code> directive is populated by uses of <code><h- data-h=mk_tag>\bib</h-></code> directives in order of use.
That is, the bibliography is not automatically sorted for you;
the order in which <code><h- data-h=mk_tag>\bib</h-></code> directives are used is also the order in which the bibliography
entries are generated.
</p>
<note-block><p><intro-></intro-> 
Similar to <code><h- data-h=mk_tag>\make_contents</h-></code>,
it is a wrapper for the underlying <tt->std.bib</tt-> section.
</p></note-block>
<h3 id=references><a class=para href=#references></a>8.12. References</h3>

<h4 id=dir-ref><a class=para href=#dir-ref></a>8.12.1. <code><h- data-h=mk_tag>\ref</h-></code> — References</h4>

<p>The <code><h- data-h=mk_tag>\ref</h-></code> directive takes a single <tt->to</tt-> argument,
which can be a URL, anchor, or something else.
It produces an <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>a</h-><h- data-h=sym_punc>&gt;</h-></code> tag with some content inside.
</p>
<p>The content is an HTML context, and is what actually gets displayed.
If no content is provided, it can be synthesized from the following types of references:
</p>
<ul>
<li><tt->mailto</tt-> URLs (e-mail addresses)</li>
<li><tt->tel</tt-> URLs (telephone numbers)</li>
<li><tt->http</tt-> and <tt->https</tt-> URLs</li>
<li>Anchors (<tt->#id</tt->) for some heading in the document</li>
<li>Anything defined in the bibliography using <code><h- data-h=mk_tag>\bib</h-></code></li>
</ul>

<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->mail:john@us.gov<h- data-h=sym_sqr>]</h-></code-block>
<p>HTML output (<code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>a</h-><h- data-h=sym_punc>&gt;</h-></code> tag may have additional attributes):
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>a</h-> <h- data-h=mk_attr>href</h-><h- data-h=sym_punc>=</h-><h- data-h=str>mail:john@us.gov</h-><h- data-h=sym_punc>&gt;</h->john@us.gov<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>a</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<example-block><p><intro-></intro-> 
C++ standard draft links can be synthesized into human-readable descriptions.
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->https://eel.is/c++draft/expr#1<h- data-h=sym_sqr>]</h-></code-block>
<p>This renders as:
</p><div class=indent>
<a href=https://eel.is/c++draft/expr#1>[expr] paragraph 1</a>
</div>
</example-block>

<h4 id=dir-mail><a class=para href=#dir-mail></a>8.12.2. <code><h- data-h=mk_tag>\mail</h-></code> — E-Mail addresses</h4>

<p>A <code><h- data-h=mk_tag>\mail</h-></code> directive behaves the same <code><h- data-h=mk_tag>\ref</h-></code> directive that is given a <tt->mailto</tt-> URL.
However, the input is provided as content instead of an argument,
and the displayed text cannot be customized.
</p>
<example-block><p><intro-></intro-> 
The following two lines produce the same output:
</p><code-block>Please contact <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>mail</h-><h- data-h=sym_brac>{</h->john@us.gov<h- data-h=sym_brac>}</h->.
Please contact <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->mailto:john@us.gov<h- data-h=sym_sqr>]</h->.</code-block>
</example-block>

<h4 id=dir-tel><a class=para href=#dir-tel></a>8.12.3. <code><h- data-h=mk_tag>\tel</h-></code> — Telephone numbers</h4>

<p>A <code><h- data-h=mk_tag>\tel</h-></code> directive behaves the same <code><h- data-h=mk_tag>\ref</h-></code> directive that is given a <tt->tel</tt-> URL.
However, the input is provided as content instead of an argument,
and the displayed text cannot be customized.
</p>
<example-block><p><intro-></intro-> 
The following two lines produce the same output:
</p><code-block>Please contact <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>tel</h-><h- data-h=sym_brac>{</h->+1234<h- data-h=sym_brac>}</h->.
Please contact <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->tel:+1234<h- data-h=sym_sqr>]</h->.</code-block>
</example-block>
<h3 id=foreign-languages><a class=para href=#foreign-languages></a>8.13. Foreign languages</h3>

<h4 id=dir-html><a class=para href=#dir-html></a>8.13.1. <code><h- data-h=mk_tag>\html</h-></code> — Inline HTML</h4>

<p>The <code><h- data-h=mk_tag>\html</h-></code> directive can be used to output HTML literally.
Its content is a plaintext context,
and it displays as inline content.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>This is <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>html</h-><h- data-h=sym_brac>{</h->&lt;b&gt;bold text&lt;/b&gt;<h- data-h=sym_brac>}</h->.</code-block>
<p>Generated HTML:
</p><code-block>This is <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->bold text<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>b</h-><h- data-h=sym_punc>&gt;</h->.</code-block>
</example-block>

<warning-block><p><intro-></intro-> 
The <code><h- data-h=mk_tag>\html</h-></code> directive can produce malformed HTML content if you're not careful.
See, <a href=#dir-html-element>§8.13.3. <code><h- data-h=mk_tag>\html-*</h-></code> — HTML element literals</a> for a safer option.
</p></warning-block>

<h4 id=dir-htmlblock><a class=para href=#dir-htmlblock></a>8.13.2. <code><h- data-h=mk_tag>\htmlblock</h-></code> — HTML blocks</h4>

<p>The <code><h- data-h=mk_tag>\htmlblock</h-></code> directive works exactly like the <code><h- data-h=mk_tag>\html</h-></code> directive,
but displays as block content instead of inline content.
</p>
<warning-block><p><intro-></intro-> 
The <code><h- data-h=mk_tag>\htmlblock</h-></code> directive can produce malformed HTML content if you're not careful.
See, <a href=#dir-html-element>§8.13.3. <code><h- data-h=mk_tag>\html-*</h-></code> — HTML element literals</a> for a safer option.
</p></warning-block>

<h4 id=dir-html-element><a class=para href=#dir-html-element></a>8.13.3. <code><h- data-h=mk_tag>\html-*</h-></code> — HTML element literals</h4>

<p>Any directive beginning with <code><h- data-h=mk_tag>\html-</h-></code> can be used to produce an HTML element
directly.
Its content is a plaintext context,
and it displays as inline content.
Arguments are converted to HTML attributes of the produced tag.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block>This is <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>html-span</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h->abc<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->a span<h- data-h=sym_brac>}</h->.</code-block>
<p>Generated HTML:
</p><code-block>This is <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>span</h-> <h- data-h=mk_attr>id</h-><h- data-h=sym_punc>=</h-><h- data-h=str>abc</h-><h- data-h=sym_punc>&gt;</h->a span<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>span</h-><h- data-h=sym_punc>&gt;</h->.</code-block>
</example-block>

<h4 id=dir-script><a class=para href=#dir-script></a>8.13.4. <code><h- data-h=mk_tag>\script</h-></code> — JavaScript blocks</h4>

<p>The content of a <code><h- data-h=mk_tag>\script</h-></code> directive is a plaintext context,
where the input is treated as JavaScript code
and surrounded in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>script</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=cmt_dlim>/*</h-><h- data-h=cmt>...</h-><h- data-h=cmt_dlim>*/</h-><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>script</h-><h- data-h=sym_punc>&gt;</h-></code> tags.
</p>
<p><code><h- data-h=mk_tag>\script</h-></code> displays as meta content (like <code><h- data-h=mk_tag>\comment</h-></code>).
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>script</h-><h- data-h=sym_brac>{</h->
console.log("hello");
<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>script</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=id>console</h-><h- data-h=sym_op>.</h-><h- data-h=id>log</h-><h- data-h=sym_par>(</h-><h- data-h=str_dlim>"</h-><h- data-h=str>hello</h-><h- data-h=str_dlim>"</h-><h- data-h=sym_par>)</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>script</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<h4 id=dir-noscript><a class=para href=#dir-noscript></a>8.13.5. <code><h- data-h=mk_tag>\noscript</h-></code> — No-JavaScript content</h4>

<p>The <code><h- data-h=mk_tag>\noscript</h-></code> directive corresponds to the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>noscript</h-><h- data-h=sym_punc>&gt;</h-></code> element.
Its content is an HTML context,
and will only be shown by the browser when JavaScript is disabled.
</p>
<h4 id=dir-style><a class=para href=#dir-style></a>8.13.6. <code><h- data-h=mk_tag>\style</h-></code> — CSS blocks</h4>

<p>The content of a <code><h- data-h=mk_tag>\style</h-></code> directive is a plaintext context,
where the input is treated as JavaScript code and surrounded in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>style</h-><h- data-h=sym_punc>&gt;</h-><h- data-h=cmt_dlim>/*</h-><h- data-h=cmt>...</h-><h- data-h=cmt_dlim>*/</h-><h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>style</h-><h- data-h=sym_punc>&gt;</h-></code> tags.
</p>
<p><code><h- data-h=mk_tag>\style</h-></code> displays as meta content (like <code><h- data-h=mk_tag>\comment</h-></code>).
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>style</h-><h- data-h=sym_brac>{</h->
body { color: red; }
<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>style</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=mk_tag>body</h-> <h- data-h=sym_brac>{</h-> <h- data-h=mk_attr>color</h-><h- data-h=sym_punc>:</h-> <h- data-h=id>red</h-><h- data-h=sym_punc>;</h-> <h- data-h=sym_brac>}</h->
<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>style</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>
<h3 id=paragraph-control><a class=para href=#paragraph-control></a>8.14. Paragraph control</h3>

<p>In some cases, the automatic <a href=#paragraph-splitting>§4.5. Paragraph splitting</a>
process is not enough.
To get more fine-tuned control, we have a number of directives.
</p>
<h4 id=dir-p><a class=para href=#dir-p></a>8.14.1. <code><h- data-h=mk_tag>\p</h-></code> — Paragraphs</h4>

<p>The <code><h- data-h=mk_tag>\p</h-></code> directive surrounds its content in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code> tags.
</p>
<h4 id=dir-paragraphs><a class=para href=#dir-paragraphs></a>8.14.2. <code><h- data-h=mk_tag>\paragraphs</h-></code> — Enable paragraph splitting</h4>

<p>The <code><h- data-h=mk_tag>\paragraphs</h-></code> directive activates paragraph splitting.
This may be useful in places where it is not active by default.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ul</h-><h- data-h=sym_brac>{</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>item</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>paragraphs</h-><h- data-h=sym_brac>{</h->
First paragraph in bullet.

Second paragraph.
<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>ul</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>li</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->First paragraph in bullet.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Second paragraph in bullet.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>li</h-><h- data-h=sym_punc>&gt;</h->
<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>ul</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<h4 id=dir-block><a class=para href=#dir-block></a>8.14.3. <code><h- data-h=mk_tag>\block</h-></code> — Display as block content</h4>

<p>The <code><h- data-h=mk_tag>\block</h-></code> directive doesn't add any HTML itself,
but causes its contents to be considered block content.
</p>
<example-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\block</h-></code> can be used to suppress automatic paragraph splitting:
</p><code-block><h- data-h=cmt_dlim>\</h-><h- data-h=cmt_dlim>:</h-><h- data-h=cmt> No &lt;p&gt; tags will be added here</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>block</h-><h- data-h=sym_brac>{</h->
First paragraph.

Second paragraph.
<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<h4 id=dir-inline><a class=para href=#dir-inline></a>8.14.4. <code><h- data-h=mk_tag>\inline</h-></code> — Display as inline content</h4>

<p>The <code><h- data-h=mk_tag>\inline</h-></code> directive works like the <code><h- data-h=mk_tag>\block</h-></code> directive,
but causes its contents to display as inline content, not as block content.
</p><h3 id=sections><a class=para href=#sections></a>8.15. Sections</h3>

<p>Often, you want to produce content in one place,
but have it display in another place within the document.
A classic example is collecting headings automatically in a table of contents,
or copying the content of a heading into a preview when referenced by <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>ref</h-><h- data-h=sym_sqr>[</h->#id<h- data-h=sym_sqr>]</h-></code>.
</p>
<h4 id=dir-there><a class=para href=#dir-there></a>8.15.1. <code><h- data-h=mk_tag>\there</h-></code> — Append content to section</h4>

<p>The <code><h- data-h=mk_tag>\there</h-></code> directive displays as meta content.
Basically, it stashes away its input content (which is an HTML context) somewhere else.
</p>
<p>It takes a single <tt->section</tt-> argument which specifies the name of the section.
The <tt->section</tt-> argument is a plaintext context.
</p>
<p>By default, all document content is placed within a <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>main</h-><h- data-h=sym_punc>&gt;</h-></code> element,
inside <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>body</h-><h- data-h=sym_punc>&gt;</h-></code>, inside <code>html</code>.
<code><h- data-h=mk_tag>\there</h-></code> allows you to write outside of the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>main</h-><h- data-h=sym_punc>&gt;</h-></code> element:
</p>
<ul>
<li>
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>there</h-><h- data-h=sym_sqr>[</h->std.head<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->text<h- data-h=sym_brac>}</h-></code> will write <code>text</code>
inside of the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>head</h-><h- data-h=sym_punc>&gt;</h-></code> element (following auto-generated content).
</li>
<li>
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>there</h-><h- data-h=sym_sqr>[</h->std.body<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->text<h- data-h=sym_brac>}</h-></code> will write <code>text</code>
inside of the <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>body</h-><h- data-h=sym_punc>&gt;</h-></code> element (following <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>main</h-><h- data-h=sym_punc>&gt;</h-></code>
and other automatically inserted elements).
</li>
</ul>

<tip-block><p><intro-></intro-> 
You can change the title of the document as follows:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>there</h-><h- data-h=sym_sqr>[</h->std.head<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>html-title</h-><h- data-h=sym_brac>{</h->This is the document title!<h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-></code-block>
</tip-block>

<h4 id=dir-here><a class=para href=#dir-here></a>8.15.2. <code><h- data-h=mk_tag>\here</h-></code> — Copy section content</h4>

<p>The <code><h- data-h=mk_tag>\here</h-></code> directive inserts the content from another section at its location.
It displays as inline content.
</p>
<p>It takes a single <tt->section</tt-> argument which specifies the name of the section.
The <tt->section</tt-> argument is a plaintext context.
</p>
<p>All references produced by <code><h- data-h=mk_tag>\here</h-></code> are resolved in a post-processing step,
which allows forward-references.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>there</h-><h- data-h=sym_sqr>[</h->sec<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->before/<h- data-h=sym_brac>}</h->
(<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>here</h-><h- data-h=sym_sqr>[</h->sec<h- data-h=sym_sqr>]</h->)
<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>there</h-><h- data-h=sym_sqr>[</h->sec<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->/after<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block>(before//after)</code-block>
</example-block>

<h4 id=dir-hereblock><a class=para href=#dir-hereblock></a>8.15.3. <code><h- data-h=mk_tag>\hereblock</h-></code> — Copy section content in block</h4>

<p>The <code><h- data-h=mk_tag>\hereblock</h-></code> directive functions exactly like the <code><h- data-h=mk_tag>\here</h-></code> directive,
but displays as block content instead of inline content.
</p><h3 id=file-management><a class=para href=#file-management></a>8.16. File management</h3>

<p>Once projects get larger,
it often becomes difficult to manage everything in a single file.
Also, tooling may benefit from having separate files.
For example, keeping separate SVG files
or CSS files may have better IDE support than writing these out directly inside of COWEL.
</p>
<p>COWEL provides directives to load content from other files.
</p>
<h4 id=dir-include><a class=para href=#dir-include></a>8.16.1. <code><h- data-h=mk_tag>\include</h-></code> — Include text from a file</h4>

<p>The <code><h- data-h=mk_tag>\include</h-></code> directive produces plaintext by loading the text contents of another file,
relative to the directory of the document.
</p>
<p>It has no arguments, and its content is a plaintext context in which the path is specified.
</p>
<example-block><p><intro-></intro-> 
Say we have a JavaScript file <tt->example.js</tt-> which we want to keep separate from the document.
We can then include it into a <code><h- data-h=mk_tag>\script</h-></code> block to use it as a script,
or we can include it into a <code><h- data-h=mk_tag>\codeblock</h-></code> to display its contents.
</p><code-block><h- data-h=mk_tag>\codeblock</h-><h- data-h=sym_sqr>[</h->js<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
// code included from example.js:
<h- data-h=mk_tag>\include</h-><h- data-h=sym_brac>{</h->example.js<h- data-h=sym_brac>}</h->
<h- data-h=sym_brac>}</h-></code-block>
<p>Assuming that <tt->example.js</tt-> is located in the same directory as the document
and that loading the file succeeds,
this renders as: 
</p><code-block><h- data-h=cmt_dlim>//</h-><h- data-h=cmt> code included from example.js:</h->
<h- data-h=kw>function</h-> <h- data-h=id>sqr</h-><h- data-h=sym_par>(</h-><h- data-h=id>x</h-><h- data-h=sym_par>)</h-> <h- data-h=sym_brac>{</h->
    <h- data-h=kw_ctrl>return</h-> <h- data-h=id>x</h-> <h- data-h=sym_op>*</h-> <h- data-h=id>x</h-><h- data-h=sym_punc>;</h->
<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<note-block><p><intro-></intro-> 
Directives and any other COWEL content within the file are not processed.
<code><h- data-h=mk_tag>\include</h-></code> simply takes the text content of the file and generates plaintext from it.
</p>
<p>However, when the directive is used in an HTML context
(like if we simply use <code><h- data-h=mk_tag>\include</h-></code> in the middle of the document),
it is subject to escaping (<tt->&amp;</tt-> → <code><h- data-h=esc>&amp;amp;</h-></code>, etc.) just like any other text.
In other words, you are also safe from HTML tags inside of included text breaking the document,
barring a few directives, like <code><h- data-h=mk_tag>\html</h-></code> or <code><h- data-h=mk_tag>\script</h-></code>;
no such escaping takes place inside of <code><h- data-h=mk_tag>\script</h-></code>.
</p></note-block>

<h4 id=dir-import><a class=para href=#dir-import></a>8.16.2. <code><h- data-h=mk_tag>\import</h-></code> — Import a sub-document</h4>

<p>The <code><h- data-h=mk_tag>\import</h-></code> directive loads the content from another COWEL document,
substitutes the <code><h- data-h=mk_tag>\import</h-></code> directive for those contents,
and processes them.
</p>
<p>It has no arguments, and its content is a plaintext context in which the path is specified.
</p>
<p>While <code><h- data-h=mk_tag>\import</h-></code> and <code><h- data-h=mk_tag>\include</h-></code> are similar,
there are some stark differences:
</p><ul>
<li>
<code><h- data-h=mk_tag>\import</h-></code> is used for COWEL documents,
while <code><h- data-h=mk_tag>\include</h-></code> is used for anything else.
</li>
<li>
<code><h- data-h=mk_tag>\import</h-></code> doesn't just load the text from another file,
but parses it and ensures that the contents are a valid COWEL document.
</li>
<li>
<code><h- data-h=mk_tag>\include</h-></code> is a plaintext directive, and interops nicely with syntax highlighting.
It is also possible to <code><h- data-h=mk_tag>\include</h-></code> COWEL files into code blocks without
any regards as to their contents.
On the contrary, content expanded from <code><h- data-h=mk_tag>\import</h-></code>
is subject to the same rules as the surrounding document.
</li>
</ul>

<example-block><p><intro-></intro-> 
Say we have another <tt->test.cow</tt-> files containing:
</p><code-block>Hello, <h- data-h=mk_tag>\strong</h-><h- data-h=sym_brac>{</h->imports<h- data-h=sym_brac>}</h->!

Next paragraph.</code-block>
<p>When using <code><h- data-h=mk_tag>\import</h-></code>,
the contents of the other file are substituted where we have written <code><h- data-h=mk_tag>\import</h-></code>,
which means that imported content also plays nicely with paragraph splitting:
</p><code-block>First paragraph.
<h- data-h=mk_tag>\import</h-><h- data-h=sym_brac>{</h->test.cow<h- data-h=sym_brac>}</h-></code-block>
<p>Generated HTML:
</p><code-block><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->First paragraph.
Hello, <h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h->imports<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>strong</h-><h- data-h=sym_punc>&gt;</h->!<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->

<h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h->Next paragraph.<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>p</h-><h- data-h=sym_punc>&gt;</h-></code-block>
</example-block>

<tip-block><p><intro-></intro-> 
It is common practice to collect macros and other reusable components in separate documents,
and to <code><h- data-h=mk_tag>\import</h-></code> them when needed.
This can help you avoid copying boilerplate between multiple documents.
</p>
<p>It is also common to split documents into multiple files that are combined using a sequence
of <code><h- data-h=mk_tag>\import</h-></code>s.
</p></tip-block>
<h3 id=macros><a class=para href=#macros></a>8.17. Macros</h3>

<h4 id=dir-def><a class=para href=#dir-def></a>8.17.1. <code><h- data-h=mk_tag>\macro</h-></code> — Define a macro</h4>

<p>The <code><h- data-h=mk_tag>\macro</h-></code> directive defines a <dfn>macro</dfn>,
which is basically a user-defined directive.
It has a single <tt->pattern</tt-> argument,
which shall be a single <dfn>pattern directive</dfn> which describes the defined directive.
</p>
<note-block><p><intro-></intro-> 
The arguments and content of the pattern directive are not processed,
but can be used to document how the directive is meant to be used.
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> The following two definitions are equivalent:</h->
<h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\m</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->xyz<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\m</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->xyz<h- data-h=sym_brac>}</h-></code-block>
</note-block>

<p>Within macros, uses of the <code><h- data-h=mk_tag>\put</h-></code> pseudo-directive are replaced with the inputs to
the macro.
There are multiple forms of the <code><h- data-h=mk_tag>\put</h-></code> which expand different parts of the macro input.
</p>
<p>The content of a <code><h- data-h=mk_tag>\put</h-></code> directive is a plaintext context,
and specifies which part of the provided content or arguments should be used.
</p>
<h4 id=put--replaced-with-provided-content><a class=para href=#put--replaced-with-provided-content></a>8.17.2. <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-></code> — Replaced with provided content</h4>

<p>A <code><h- data-h=mk_tag>\put</h-></code> directive with no given content (or empty/blank content)
is replaced with the content provided to the macro upon use.
</p>
<example-block><p><intro-></intro-> 
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\bi</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\b</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\i</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Now, the following are equivalent:</h->
<h- data-h=mk_tag>\b</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\i</h-><h- data-h=sym_brac>{</h->bold and italic<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\bi</h-><h- data-h=sym_brac>{</h->bold and italic<h- data-h=sym_brac>}</h-></code-block>
</example-block>

<h4 id=put0-put1---replaced-with-argument><a class=para href=#put0-put1---replaced-with-argument></a>8.17.3. <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->0<h- data-h=sym_brac>}</h-></code>, <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->1<h- data-h=sym_brac>}</h-></code>, … — Replaced with argument</h4>

<p>When the content provided to <code><h- data-h=mk_tag>\put</h-></code> is an integer,
the corresponding argument is selected,
where <tt->0</tt-> represents the first argument.
</p>
<p>Additionally,
such a <code><h- data-h=mk_tag>\put</h-></code> directive has an <tt-><h- data-h=mk_attr>else</h-></tt-> parameter,
which replaces the <code><h- data-h=mk_tag>\put</h-></code> directive if not enough positional arguments were provided
to the macro.
If there is no <tt-><h- data-h=mk_attr>else</h-></tt-> argument,
this would result in an error instead.
</p>
<example-block><p><intro-></intro-> 
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\arg0</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>else</h-> <h- data-h=sym_punc>=</h-> otherwise<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->0<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\arg0</h-><h- data-h=sym_sqr>[</h->abc<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->xyz<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\arg0</h-><h- data-h=sym_brac>{</h->xyz<h- data-h=sym_brac>}</h-></code-block>
<p>After macro substitution, this markup is equivalent to:
</p><code-block>abc
otherwise</code-block>
<p>Notice that <code>xyz</code> is ignored in either case
because there is no <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h-><h- data-h=sym_brac>}</h-></code> that would make use of it.
</p>
<p>The second macro invocation <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>arg0</h-><h- data-h=sym_brac>{</h->xyz<h- data-h=sym_brac>}</h-></code> would result in an error if no
<tt-><h- data-h=mk_attr>else</h-></tt-> argument was provided.
</p></example-block>

<h4 id=put...--forwarding-provided-arguments><a class=para href=#put%2e%2e%2e--forwarding-provided-arguments></a>8.17.4. <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> — Forwarding provided arguments</h4>

<p><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> (where the given content is three periods)
expands to <em>all</em> provided macro arguments.
It shall only appear as a positional argument to a directive, with no surrounding content.
That is:
</p><ul>
    <li><code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>x</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-></code> is OK,</li>
    <li>
        <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>x</h-><h- data-h=sym_sqr>[</h->a<h- data-h=sym_punc>,</h-> <h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_punc>,</h-> b<h- data-h=sym_sqr>]</h-></code> is OK
        because spaces around <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> are ignored and do not constitute text, but
    </li>
    <li>
        <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>x</h-><h- data-h=sym_sqr>[</h->a<h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h->b<h- data-h=sym_sqr>]</h-></code> is an error
        because <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> is being mixed with other (text) content,
    </li>
    <li>
        <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>x</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>n</h-><h- data-h=sym_punc>=</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-></code> is an error
        because <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> is used as a named argument, and
    </li>
    <li>
        <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>x</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h-></code> is an error
        because <code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> does not appear as a directive argument.
    </li>
</ul>

<example-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\</h-><h- data-h=mk_tag>put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-></code> is especially useful when creating "wrapper macros" for other directives:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\js_block</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\codeblock</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>lang</h-><h- data-h=sym_punc>=</h->js<h- data-h=sym_punc>,</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>{</h->...<h- data-h=sym_brac>}</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h-><h- data-h=sym_brac>}</h->

<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> \js_block now acts as a shorthand for JavaScript blocks,</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> and thanks to forward with \put{...}, we can provide further arguments</h->
<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> to the underlying \codeblock directive.</h->
<h- data-h=mk_tag>\js_block</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>borders</h-><h- data-h=sym_punc>=</h->no<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
function sqr(x) { return x * x; }
<h- data-h=sym_brac>}</h-></code-block>
<p>After macro substitution, this markup is equivalent to:
</p><code-block><h- data-h=mk_tag>\codeblock</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_attr>lang</h-><h- data-h=sym_punc>=</h->js<h- data-h=sym_punc>,</h-><h- data-h=mk_attr>borders</h-><h- data-h=sym_punc>=</h->no<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
function sqr(x) { return x * x; }
<h- data-h=sym_brac>}</h-></code-block>
</example-block>


<h4 id=avoiding-name-collisions><a class=para href=#avoiding-name-collisions></a>8.17.5. Avoiding name collisions</h4>

<p>Since COWEL continuously adds more directives in the future,
you should try to avoid names that may collide with those when defining your own macros.
COWEL builtin directive names only use alphanumeric characters and '<tt->-</tt->'.
</p>
<tip-block><p><intro-></intro-> 
The '<tt->_</tt->' character can be used as part of directive names,
and COWEL will never use this in its own names.
Therefore, you should try to "namespace" your own macros like:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\abc_i</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->macro definition here ...<h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\abc_i</h-></code-block>
</tip-block>
<h3 id=miscellaneous><a class=para href=#miscellaneous></a>8.18. Miscellaneous</h3>

<h4 id=dir-div><a class=para href=#dir-div></a>8.18.1. <code><h- data-h=mk_tag>\div</h-></code> — Content division</h4>

<p>The <code><h- data-h=mk_tag>\div</h-></code> directive surrounds its contents in <code><h- data-h=sym_punc>&lt;</h-><h- data-h=mk_tag>div</h-><h- data-h=sym_punc>&gt;</h->...<h- data-h=sym_punc>&lt;/</h-><h- data-h=mk_tag>div</h-><h- data-h=sym_punc>&gt;</h-></code>
tags.
It displays as a block, and its content is an HTML context.
<code><h- data-h=mk_tag>\div</h-></code>'s named arguments are turned into HTML attributes.
</p>
<h4 id=dir-trim><a class=para href=#dir-trim></a>8.18.2. <code><h- data-h=mk_tag>\trim</h-></code> — Trim input</h4>

<p>The content of a <code><h- data-h=mk_tag>\text</h-></code> directive is an HTML context
(<a href=#contexts-and-output>§5.1. Content policies</a>).
Its arguments are ignored.
<code><h- data-h=mk_tag>\text</h-></code> is a formatting directive.
</p>
<p>The process of <dfn>trimming</dfn> eliminates leading and trailing whitespace in the input,
at the COWEL source level.
</p>
<example-block><p><intro-></intro-> 
</p><code-block>Every<h- data-h=mk_tag>\trim</h-><h- data-h=sym_brac>{</h-> day<h- data-h=sym_brac>}</h-></code-block>
<p>This renders as:
</p><div class=indent>
Everyday
</div>
</example-block>

<tip-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\trim</h-></code> is primarily useful inside of macros.
We might not want to space-separate content if some of it is empty.
For example, we could define a <code><h- data-h=mk_tag>\Note</h-></code> macro
where the user can <em>optionally</em> provide a number for that note:
</p><code-block><h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\Note</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\trim</h-><h- data-h=sym_brac>{</h->Note <h- data-h=mk_tag>\put</h-><h- data-h=sym_brac>}</h->:<h- data-h=sym_brac>}</h->

<h- data-h=mk_tag>\Note</h-> Something something.

<h- data-h=mk_tag>\Note</h-><h- data-h=sym_brac>{</h->1<h- data-h=sym_brac>}</h-> Something else.</code-block>
<p>This renders as:
</p><div class=indent>
<p>Note: Something something.
</p>
<p>Note 1: Something else.
</p></div>
<p>Notice that because <code><h- data-h=mk_tag>\put</h-></code> expands to no content,
the trailing space after <code>Note</code> is eliminated.
If it wasn't eliminated, we would end up with
<code><h- data-h=sym_brac>{</h->Note :<h- data-h=sym_brac>}</h-></code>,
but there should never be a space before the colon.
</p></tip-block>

<h4 id=dir-text><a class=para href=#dir-text></a>8.18.3. <code><h- data-h=mk_tag>\text</h-></code> — Plaintext context</h4>

<p>The content of a <code><h- data-h=mk_tag>\text</h-></code> directive is a plaintext context
(<a href=#contexts-and-output>§5.1. Content policies</a>).
Its arguments are ignored.
</p>
<p>It simply outputs the input that it was given as text.
Therefore, it acts as a sort of wrapper for plaintext.
Notably, this forces the generation of plaintext even when <code><h- data-h=mk_tag>\text</h-></code>
is within an HTML context.
</p><h3 id=variables-and-calculations><a class=para href=#variables-and-calculations></a>8.19. Variables and calculations</h3>

<p>While COWEL is not intended to be general purpose programming language,
and more advanced interactive features are better suited for JavaScript,
it does provide a few ways to perform calculations.
</p>
<h4 id=dir-Vset><a class=para href=#dir-Vset></a>8.19.1. <code><h- data-h=mk_tag>\Vset</h-></code> — Set a variable</h4>

<p><code><h- data-h=mk_tag>\Vset</h-></code> sets the value of a variable to some provided plaintext.
It displays as a meta directive.
</p>
<p>It takes a single <tt-><h- data-h=mk_attr>var</h-></tt-> argument,
which is a plaintext context for the name of the variable.
The directive content is also a plaintext context,
and provides the value of the variable.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Sets x = 123.</h->
<h- data-h=mk_tag>\Vset</h-><h- data-h=sym_sqr>[</h->x<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->123<h- data-h=sym_brac>}</h->

<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Accesses the value of x, which is 123.</h->
<h- data-h=mk_tag>\Vget</h-><h- data-h=sym_sqr>[</h->x<h- data-h=sym_sqr>]</h-></code-block>
<p>This renders as:
</p><div class=indent>


123
</div>
</example-block>

<h4 id=dir-Vget><a class=para href=#dir-Vget></a>8.19.2. <code><h- data-h=mk_tag>\Vget</h-></code> — Get a variable</h4>

<p><code><h- data-h=mk_tag>\Vget</h-></code> obtains the value of a variable,
and displays as inline.
Its content is ignored.
</p>
<p>It takes a single <tt-><h- data-h=mk_attr>var</h-></tt-> argument,
which is a plaintext context for the name of the variable.
See above for an example.
</p>
<p>If the variable denoted by the <tt-><h- data-h=mk_attr>var</h-></tt-> argument does not exist,
<code><h- data-h=mk_tag>\Vget</h-></code> expands to nothing.
</p>
<h4 id=dir-Cadd><a class=para href=#dir-Cadd></a>8.19.3. <code><h- data-h=mk_tag>\Cadd</h-></code> — Perform addition</h4>

<p>The <code><h- data-h=mk_tag>\Cadd</h-></code> directive performs an integer addition between its (nameless) arguments.
Its content is ignored, and it displays as inline.
</p>
<p>Each of its arguments is a plaintext context,
where the argument is interpreted as an integer, and then summed.
</p>
<example-block><p><intro-></intro-> 
COWEL markup:
</p><code-block><h- data-h=mk_tag>\Cadd</h-><h- data-h=sym_sqr>[</h->1<h- data-h=sym_punc>,</h-> 2<h- data-h=sym_punc>,</h-> 3<h- data-h=sym_punc>,</h-> -1<h- data-h=sym_sqr>]</h-> <h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> 1 + 2 + 3 + (-1)</h-></code-block>
<p>This renders as:
</p><div class=indent>
5 </div>
</example-block>

<tip-block><p><intro-></intro-> 
You can also combine <code><h- data-h=mk_tag>\Cadd</h-></code> with <code><h- data-h=mk_tag>\Vget</h-></code> and <code><h- data-h=mk_tag>\Vset</h-></code> to store the results
of your calculations:
</p><code-block><h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Reset paragraph number</h->
<h- data-h=mk_tag>\Vset</h-><h- data-h=sym_sqr>[</h->index<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->0<h- data-h=sym_brac>}</h->

<h- data-h=cmt_dlim>\:</h-><h- data-h=cmt> Define a macro for automatically incrementing paragraph numbers.</h->
<h- data-h=mk_tag>\macro</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\p_num</h-><h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h->
<h- data-h=mk_tag>\Vset</h-><h- data-h=sym_sqr>[</h->index<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>{</h-><h- data-h=mk_tag>\Cadd</h-><h- data-h=sym_sqr>[</h-><h- data-h=mk_tag>\Vget</h-><h- data-h=sym_sqr>[</h->index<h- data-h=sym_sqr>]</h-><h- data-h=sym_punc>,</h->1<h- data-h=sym_sqr>]</h-><h- data-h=sym_brac>}</h->
<h- data-h=mk_tag>\Vget</h-><h- data-h=sym_sqr>[</h->index<h- data-h=sym_sqr>]</h->
<h- data-h=sym_brac>}</h->

Paragraph <h- data-h=mk_tag>\p_num</h->

Paragraph <h- data-h=mk_tag>\p_num</h-></code-block>
<p>This renders as:
</p><div class=indent>
<p>Paragraph 1
</p>
<p>Paragraph 2
</p></div>
</tip-block>

<note-block><p><intro-></intro-> 
<code><h- data-h=mk_tag>\Cadd</h-></code> and other calculation directives are mainly intended
for incrementing paragraph numbers and other basic tasks.
</p></note-block>

<h4 id=dir-Csub><a class=para href=#dir-Csub></a>8.19.4. <code><h- data-h=mk_tag>\Csub</h-></code> — Perform subtraction</h4>

<p>The <code><h- data-h=mk_tag>\Csub</h-></code> directive behaves like the <code><h- data-h=mk_tag>\Cadd</h-></code> directive,
except that it performs subtraction instead of addition.
</p>
<h4 id=dir-Cmul><a class=para href=#dir-Cmul></a>8.19.5. <code><h- data-h=mk_tag>\Cmul</h-></code> — Perform multiplication</h4>

<p>The <code><h- data-h=mk_tag>\Cmul</h-></code> directive behaves like the <code><h- data-h=mk_tag>\Cadd</h-></code> directive,
except that it performs multiplication instead of addition.
</p>
<h4 id=dir-Cdiv><a class=para href=#dir-Cdiv></a>8.19.6. <code><h- data-h=mk_tag>\Cdiv</h-></code> — Perform division</h4>

<p>The <code><h- data-h=mk_tag>\Cdiv</h-></code> directive behaves like the <code><h- data-h=mk_tag>\Cdiv</h-></code> directive,
except that it performs division instead of addition.
</p>
<warning-block><p><intro-></intro-> 
Division by zero results in an error.
</p></warning-block>
</main></body>
</html>
